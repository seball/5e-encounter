var U5=Object.defineProperty,G5=Object.defineProperties;var W5=Object.getOwnPropertyDescriptors;var ns=Object.getOwnPropertySymbols;var M0=Object.prototype.hasOwnProperty,C0=Object.prototype.propertyIsEnumerable;var v0=(n,t,e)=>t in n?U5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,E=(n,t)=>{for(var e in t||={})M0.call(t,e)&&v0(n,e,t[e]);if(ns)for(var e of ns(t))C0.call(t,e)&&v0(n,e,t[e]);return n},de=(n,t)=>G5(n,W5(t));var kl=(n,t)=>{var e={};for(var i in n)M0.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&ns)for(var i of ns(n))t.indexOf(i)<0&&C0.call(n,i)&&(e[i]=n[i]);return e};var is=(n,t,e)=>new Promise((i,a)=>{var r=c=>{try{s(e.next(c))}catch(l){a(l)}},o=c=>{try{s(e.throw(c))}catch(l){a(l)}},s=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,o);s((e=e.apply(n,t)).next())});function w0(n,t){return Object.is(n,t)}var Je=null,br=!1,as=1,Mn=Symbol("SIGNAL");function ge(n){let t=Je;return Je=n,t}function x0(){return Je}function $5(){return br}var ua={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wl(n){if(br)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(n);let t=Je.nextProducerIndex++;if(ds(Je),t<Je.producerNode.length&&Je.producerNode[t]!==n&&_r(Je)){let e=Je.producerNode[t];ls(e,Je.producerIndexOfThis[t])}Je.producerNode[t]!==n&&(Je.producerNode[t]=n,Je.producerIndexOfThis[t]=_r(Je)?L0(n,Je,t):0),Je.producerLastReadVersion[t]=n.version}function Z5(){as++}function I0(n){if(!(_r(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===as)){if(!n.producerMustRecompute(n)&&!ss(n)){n.dirty=!1,n.lastCleanEpoch=as;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=as}}function b0(n){if(n.liveConsumerNode===void 0)return;let t=br;br=!0;try{for(let e of n.liveConsumerNode)e.dirty||S0(e)}finally{br=t}}function _0(){return Je?.consumerAllowSignalWrites!==!1}function S0(n){n.dirty=!0,b0(n),n.consumerMarkedDirty?.(n)}function Sr(n){return n&&(n.nextProducerIndex=0),ge(n)}function os(n,t){if(ge(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_r(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)ls(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ss(n){ds(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(I0(e),i!==e.version))return!0}return!1}function cs(n){if(ds(n),_r(n))for(let t=0;t<n.producerNode.length;t++)ls(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function L0(n,t,e){if(D0(n),n.liveConsumerNode.length===0&&A0(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=L0(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function ls(n,t){if(D0(n),n.liveConsumerNode.length===1&&A0(n))for(let i=0;i<n.producerNode.length;i++)ls(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],a=n.liveConsumerNode[t];ds(a),a.producerIndexOfThis[i]=t}}function _r(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ds(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function D0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function A0(n){return n.producerNode!==void 0}function E0(n){let t=Object.create(K5);t.computation=n;let e=()=>{if(I0(t),wl(t),t.value===rs)throw t.error;return t.value};return e[Mn]=t,e}var vl=Symbol("UNSET"),Ml=Symbol("COMPUTING"),rs=Symbol("ERRORED"),K5=de(E({},ua),{value:vl,dirty:!0,error:null,equal:w0,producerMustRecompute(n){return n.value===vl||n.value===Ml},producerRecomputeValue(n){if(n.value===Ml)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Ml;let e=Sr(n),i;try{i=n.computation()}catch(a){i=rs,n.error=a}finally{os(n,e)}if(t!==vl&&t!==rs&&i!==rs&&n.equal(t,i)){n.value=t;return}n.value=i,n.version++}});function X5(){throw new Error}var T0=X5;function P0(){T0()}function R0(n){T0=n}var Q5=null;function F0(n){let t=Object.create(V0);t.value=n;let e=()=>(wl(t),t.value);return e[Mn]=t,e}function xl(n,t){_0()||P0(),n.equal(n.value,t)||(n.value=t,Y5(n))}function O0(n,t){_0()||P0(),xl(n,t(n.value))}var V0=de(E({},ua),{equal:w0,value:void 0});function Y5(n){n.version++,Z5(),b0(n),Q5?.()}function N0(n,t,e){let i=Object.create(J5);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;let a=c=>{i.cleanupFn=c};function r(c){return c.fn===null&&c.schedule===null}function o(c){r(c)||(cs(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Cl)}let s=()=>{if(i.fn===null)return;if($5())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!ss(i))return;i.hasRun=!0;let c=Sr(i);try{i.cleanupFn(),i.cleanupFn=Cl,i.fn(a)}finally{os(i,c)}};return i.ref={notify:()=>S0(i),run:s,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[Mn]:i},i.ref}var Cl=()=>{},J5=de(E({},ua),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Cl});function $(n){return typeof n=="function"}function pa(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var hs=pa(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,a)=>`${a+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Oi(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ie=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:i}=this;if($(i))try{i()}catch(r){t=r instanceof hs?r.errors:[r]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let r of a)try{q0(r)}catch(o){t=t??[],o instanceof hs?t=[...t,...o.errors]:t.push(o)}}if(t)throw new hs(t)}}add(t){var e;if(t&&t!==this)if(this.closed)q0(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Oi(e,t)}remove(t){let{_finalizers:e}=this;e&&Oi(e,t),t instanceof n&&t._removeParent(this)}};Ie.EMPTY=(()=>{let n=new Ie;return n.closed=!0,n})();var Il=Ie.EMPTY;function us(n){return n instanceof Ie||n&&"closed"in n&&$(n.remove)&&$(n.add)&&$(n.unsubscribe)}function q0(n){$(n)?n():n.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ya={setTimeout(n,t,...e){let{delegate:i}=ya;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=ya;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ps(n){ya.setTimeout(()=>{let{onUnhandledError:t}=sn;if(t)t(n);else throw n})}function Lr(){}var j0=bl("C",void 0,void 0);function H0(n){return bl("E",void 0,n)}function z0(n){return bl("N",n,void 0)}function bl(n,t,e){return{kind:n,value:t,error:e}}var Vi=null;function fa(n){if(sn.useDeprecatedSynchronousErrorHandling){let t=!Vi;if(t&&(Vi={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Vi;if(Vi=null,e)throw i}}else n()}function B0(n){sn.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=n)}var Ni=class extends Ie{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,us(t)&&t.add(this)):this.destination=nv}static create(t,e,i){return new ma(t,e,i)}next(t){this.isStopped?Sl(z0(t),this):this._next(t)}error(t){this.isStopped?Sl(H0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Sl(j0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ev=Function.prototype.bind;function _l(n,t){return ev.call(n,t)}var Ll=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ys(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ys(i)}else ys(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ys(e)}}},ma=class extends Ni{constructor(t,e,i){super();let a;if($(t)||!t)a={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&sn.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&_l(t.next,r),error:t.error&&_l(t.error,r),complete:t.complete&&_l(t.complete,r)}):a=t}this.destination=new Ll(a)}};function ys(n){sn.useDeprecatedSynchronousErrorHandling?B0(n):ps(n)}function tv(n){throw n}function Sl(n,t){let{onStoppedNotification:e}=sn;e&&ya.setTimeout(()=>e(n,t))}var nv={closed:!0,next:Lr,error:tv,complete:Lr};var ga=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function Dl(...n){return Al(n)}function Al(n){return n.length===0?Rt:n.length===1?n[0]:function(e){return n.reduce((i,a)=>a(i),e)}}var ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,a){let r=av(e)?e:new ma(e,i,a);return fa(()=>{let{operator:o,source:s}=this;r.add(o?o.call(r,s):s?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=U0(i),new i((a,r)=>{let o=new ma({next:s=>{try{e(s)}catch(c){r(c),o.unsubscribe()}},error:r,complete:a});this.subscribe(o)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[ga](){return this}pipe(...e){return Al(e)(this)}toPromise(e){return e=U0(e),new e((i,a)=>{let r;this.subscribe(o=>r=o,o=>a(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function U0(n){var t;return(t=n??sn.Promise)!==null&&t!==void 0?t:Promise}function iv(n){return n&&$(n.next)&&$(n.error)&&$(n.complete)}function av(n){return n&&n instanceof Ni||iv(n)&&us(n)}function El(n){return $(n?.lift)}function pe(n){return t=>{if(El(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,t,e,i,a){return new Tl(n,t,e,i,a)}var Tl=class extends Ni{constructor(t,e,i,a,r,o){super(t),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=e?function(s){try{e(s)}catch(c){t.error(c)}}:super._next,this._error=a?function(s){try{a(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ka(){return pe((n,t)=>{let e=null;n._refCount++;let i=se(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let a=n._connection,r=e;e=null,a&&(!r||a===r)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var va=class extends ie{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,El(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ie;let e=this.getSubject();t.add(this.source.subscribe(se(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ie.EMPTY)}return t}refCount(){return ka()(this)}};var Ma={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=Ma;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);let a=t(r=>{e=void 0,n(r)});return new Ie(()=>e?.(a))},requestAnimationFrame(...n){let{delegate:t}=Ma;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:t}=Ma;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var G0=pa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new fs(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new G0}next(e){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:a,observers:r}=this;return i||a?Il:(this.currentObservers=null,r.push(e),new Ie(()=>{this.currentObservers=null,Oi(r,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:a,isStopped:r}=this;i?e.error(a):r&&e.complete()}asObservable(){let e=new ie;return e.source=this,e}}return n.create=(t,e)=>new fs(t,e),n})(),fs=class extends Q{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Il}};var et=class extends Q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Pl={now(){return(Pl.delegate||Date).now()},delegate:void 0};var ms=class extends Ie{constructor(t,e){super()}schedule(t,e=0){return this}};var Dr={setInterval(n,t,...e){let{delegate:i}=Dr;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Dr;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var oi=class extends ms{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let a=this.id,r=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(r,a,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Dr.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Dr.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,a;try{this.work(t)}catch(r){i=!0,a=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var rv=1,Rl,Fl={};function W0(n){return n in Fl?(delete Fl[n],!0):!1}var $0={setImmediate(n){let t=rv++;return Fl[t]=!0,Rl||(Rl=Promise.resolve()),Rl.then(()=>W0(t)&&n()),t},clearImmediate(n){W0(n)}};var{setImmediate:ov,clearImmediate:sv}=$0,Ar={setImmediate(...n){let{delegate:t}=Ar;return(t?.setImmediate||ov)(...n)},clearImmediate(n){let{delegate:t}=Ar;return(t?.clearImmediate||sv)(n)},delegate:void 0};var gs=class extends oi{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ar.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var a;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:r}=t;e!=null&&((a=r[r.length-1])===null||a===void 0?void 0:a.id)!==e&&(Ar.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var Ca=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};Ca.now=Pl.now;var si=class extends Ca{constructor(t,e=Ca.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var ks=class extends si{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,a;t=t||i.shift();do if(a=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,a){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw a}}};var vs=new ks(gs);var qi=new si(oi),Z0=qi;var Ms=class extends oi{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return i!==null&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ma.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var a;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);let{actions:r}=t;e!=null&&((a=r[r.length-1])===null||a===void 0?void 0:a.id)!==e&&(Ma.cancelAnimationFrame(e),t._scheduled=void 0)}};var Cs=class extends si{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:i}=this,a;t=t||i.shift();do if(a=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,a){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw a}}};var wa=new Cs(Ms);var gt=new ie(n=>n.complete());function ws(n){return n&&$(n.schedule)}function Ol(n){return n[n.length-1]}function xs(n){return $(Ol(n))?n.pop():void 0}function Cn(n){return ws(Ol(n))?n.pop():void 0}function K0(n,t){return typeof Ol(n)=="number"?n.pop():t}function Q0(n,t,e,i){function a(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function s(d){try{l(i.next(d))}catch(h){o(h)}}function c(d){try{l(i.throw(d))}catch(h){o(h)}}function l(d){d.done?r(d.value):a(d.value).then(s,c)}l((i=i.apply(n,t||[])).next())})}function X0(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(n){return this instanceof ji?(this.v=n,this):new ji(n)}function Y0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),a,r=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(f){return function(v){return Promise.resolve(v).then(f,h)}}function s(f,v){i[f]&&(a[f]=function(M){return new Promise(function(S,F){r.push([f,M,S,F])>1||c(f,M)})},v&&(a[f]=v(a[f])))}function c(f,v){try{l(i[f](v))}catch(M){g(r[0][3],M)}}function l(f){f.value instanceof ji?Promise.resolve(f.value.v).then(d,h):g(r[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function g(f,v){f(v),r.shift(),r.length&&c(r[0][0],r[0][1])}}function J0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof X0=="function"?X0(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(o){return new Promise(function(s,c){o=n[r](o),a(s,c,o.done,o.value)})}}function a(r,o,s,c){Promise.resolve(c).then(function(l){r({value:l,done:s})},o)}}var xa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Is(n){return $(n?.then)}function bs(n){return $(n[ga])}function _s(n){return Symbol.asyncIterator&&$(n?.[Symbol.asyncIterator])}function Ss(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ls=cv();function Ds(n){return $(n?.[Ls])}function As(n){return Y0(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:a}=yield ji(e.read());if(a)return yield ji(void 0);yield yield ji(i)}}finally{e.releaseLock()}})}function Es(n){return $(n?.getReader)}function Re(n){if(n instanceof ie)return n;if(n!=null){if(bs(n))return lv(n);if(xa(n))return dv(n);if(Is(n))return hv(n);if(_s(n))return ep(n);if(Ds(n))return uv(n);if(Es(n))return pv(n)}throw Ss(n)}function lv(n){return new ie(t=>{let e=n[ga]();if($(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dv(n){return new ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function hv(n){return new ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ps)})}function uv(n){return new ie(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function ep(n){return new ie(t=>{yv(n,t).catch(e=>t.error(e))})}function pv(n){return ep(As(n))}function yv(n,t){var e,i,a,r;return Q0(this,void 0,void 0,function*(){try{for(e=J0(n);i=yield e.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return}}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(a)throw a.error}}t.complete()})}function bt(n,t,e,i=0,a=!1){let r=t.schedule(function(){e(),a?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!a)return r}function Ts(n,t=0){return pe((e,i)=>{e.subscribe(se(i,a=>bt(i,n,()=>i.next(a),t),()=>bt(i,n,()=>i.complete(),t),a=>bt(i,n,()=>i.error(a),t)))})}function Ps(n,t=0){return pe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function tp(n,t){return Re(n).pipe(Ps(t),Ts(t))}function np(n,t){return Re(n).pipe(Ps(t),Ts(t))}function ip(n,t){return new ie(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function ap(n,t){return new ie(e=>{let i;return bt(e,t,()=>{i=n[Ls](),bt(e,t,()=>{let a,r;try{({value:a,done:r}=i.next())}catch(o){e.error(o);return}r?e.complete():e.next(a)},0,!0)}),()=>$(i?.return)&&i.return()})}function Rs(n,t){if(!n)throw new Error("Iterable cannot be null");return new ie(e=>{bt(e,t,()=>{let i=n[Symbol.asyncIterator]();bt(e,t,()=>{i.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function rp(n,t){return Rs(As(n),t)}function op(n,t){if(n!=null){if(bs(n))return tp(n,t);if(xa(n))return ip(n,t);if(Is(n))return np(n,t);if(_s(n))return Rs(n,t);if(Ds(n))return ap(n,t);if(Es(n))return rp(n,t)}throw Ss(n)}function Oe(n,t){return t?op(n,t):Re(n)}function X(...n){let t=Cn(n);return Oe(n,t)}function Ia(n,t){let e=$(n)?n:()=>n,i=a=>a.error(e());return new ie(t?a=>t.schedule(i,0,a):i)}function Fs(n){return!!n&&(n instanceof ie||$(n.lift)&&$(n.subscribe))}var Bn=pa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sp(n){return n instanceof Date&&!isNaN(n)}function Z(n,t){return pe((e,i)=>{let a=0;e.subscribe(se(i,r=>{i.next(n.call(t,r,a++))}))})}var{isArray:fv}=Array;function mv(n,t){return fv(t)?n(...t):n(t)}function ba(n){return Z(t=>mv(n,t))}var{isArray:gv}=Array,{getPrototypeOf:kv,prototype:vv,keys:Mv}=Object;function Os(n){if(n.length===1){let t=n[0];if(gv(t))return{args:t,keys:null};if(Cv(t)){let e=Mv(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function Cv(n){return n&&typeof n=="object"&&kv(n)===vv}function Vs(n,t){return n.reduce((e,i,a)=>(e[i]=t[a],e),{})}function Ns(...n){let t=Cn(n),e=xs(n),{args:i,keys:a}=Os(n);if(i.length===0)return Oe([],t);let r=new ie(wv(i,t,a?o=>Vs(a,o):Rt));return e?r.pipe(ba(e)):r}function wv(n,t,e=Rt){return i=>{cp(t,()=>{let{length:a}=n,r=new Array(a),o=a,s=a;for(let c=0;c<a;c++)cp(t,()=>{let l=Oe(n[c],t),d=!1;l.subscribe(se(i,h=>{r[c]=h,d||(d=!0,s--),s||i.next(e(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}function cp(n,t,e){n?bt(e,n,t):t()}function lp(n,t,e,i,a,r,o,s){let c=[],l=0,d=0,h=!1,g=()=>{h&&!c.length&&!l&&t.complete()},f=M=>l<i?v(M):c.push(M),v=M=>{r&&t.next(M),l++;let S=!1;Re(e(M,d++)).subscribe(se(t,F=>{a?.(F),r?f(F):t.next(F)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<i;){let F=c.shift();o?bt(t,o,()=>v(F)):v(F)}g()}catch(F){t.error(F)}}))};return n.subscribe(se(t,f,()=>{h=!0,g()})),()=>{s?.()}}function Ze(n,t,e=1/0){return $(t)?Ze((i,a)=>Z((r,o)=>t(i,r,a,o))(Re(n(i,a))),e):(typeof t=="number"&&(e=t),pe((i,a)=>lp(i,a,n,e)))}function Er(n=1/0){return Ze(Rt,n)}function dp(){return Er(1)}function _a(...n){return dp()(Oe(n,Cn(n)))}function qs(n){return new ie(t=>{Re(n()).subscribe(t)})}function Vl(...n){let t=xs(n),{args:e,keys:i}=Os(n),a=new ie(r=>{let{length:o}=e;if(!o){r.complete();return}let s=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let h=!1;Re(e[d]).subscribe(se(r,g=>{h||(h=!0,l--),s[d]=g},()=>c--,void 0,()=>{(!c||!h)&&(l||r.next(i?Vs(i,s):s),r.complete())}))}});return t?a.pipe(ba(t)):a}var xv=["addListener","removeListener"],Iv=["addEventListener","removeEventListener"],bv=["on","off"];function wn(n,t,e,i){if($(e)&&(i=e,e=void 0),i)return wn(n,t,e).pipe(ba(i));let[a,r]=Lv(n)?Iv.map(o=>s=>n[o](t,s,e)):_v(n)?xv.map(hp(n,t)):Sv(n)?bv.map(hp(n,t)):[];if(!a&&xa(n))return Ze(o=>wn(o,t,e))(Re(n));if(!a)throw new TypeError("Invalid event target");return new ie(o=>{let s=(...c)=>o.next(1<c.length?c:c[0]);return a(s),()=>r(s)})}function hp(n,t){return e=>i=>n[e](t,i)}function _v(n){return $(n.addListener)&&$(n.removeListener)}function Sv(n){return $(n.on)&&$(n.off)}function Lv(n){return $(n.addEventListener)&&$(n.removeEventListener)}function js(n=0,t,e=Z0){let i=-1;return t!=null&&(ws(t)?e=t:i=t),new ie(a=>{let r=sp(n)?+n-e.now():n;r<0&&(r=0);let o=0;return e.schedule(function(){a.closed||(a.next(o++),0<=i?this.schedule(void 0,i):a.complete())},r)})}function Nl(n=0,t=qi){return n<0&&(n=0),js(n,n,t)}function Un(...n){let t=Cn(n),e=K0(n,1/0),i=n;return i.length?i.length===1?Re(i[0]):Er(e)(Oe(i,t)):gt}function at(n,t){return pe((e,i)=>{let a=0;e.subscribe(se(i,r=>n.call(t,r,a++)&&i.next(r)))})}function up(n){return pe((t,e)=>{let i=!1,a=null,r=null,o=!1,s=()=>{if(r?.unsubscribe(),r=null,i){i=!1;let l=a;a=null,e.next(l)}o&&e.complete()},c=()=>{r=null,o&&e.complete()};t.subscribe(se(e,l=>{i=!0,a=l,r||Re(n(l)).subscribe(r=se(e,s,c))},()=>{o=!0,(!i||!r||r.closed)&&e.complete()}))})}function Sa(n,t=qi){return up(()=>js(n,t))}function Wt(n){return pe((t,e)=>{let i=null,a=!1,r;i=t.subscribe(se(e,void 0,void 0,o=>{r=Re(n(o,Wt(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,r.subscribe(e))})}function pp(n,t,e,i,a){return(r,o)=>{let s=e,c=t,l=0;r.subscribe(se(o,d=>{let h=l++;c=s?n(c,d,h):(s=!0,d),i&&o.next(c)},a&&(()=>{s&&o.next(c),o.complete()})))}}function ci(n,t){return $(t)?Ze(n,t,1):Ze(n,1)}function ql(n,t=qi){return pe((e,i)=>{let a=null,r=null,o=null,s=()=>{if(a){a.unsubscribe(),a=null;let l=r;r=null,i.next(l)}};function c(){let l=o+n,d=t.now();if(d<l){a=this.schedule(void 0,l-d),i.add(a);return}s()}e.subscribe(se(i,l=>{r=l,o=t.now(),a||(a=t.schedule(c,n),i.add(a))},()=>{s(),i.complete()},void 0,()=>{r=a=null}))})}function li(n){return pe((t,e)=>{let i=!1;t.subscribe(se(e,a=>{i=!0,e.next(a)},()=>{i||e.next(n),e.complete()}))})}function cn(n){return n<=0?()=>gt:pe((t,e)=>{let i=0;t.subscribe(se(e,a=>{++i<=n&&(e.next(a),n<=i&&e.complete())}))})}function jl(n){return Z(()=>n)}function Hs(n=Dv){return pe((t,e)=>{let i=!1;t.subscribe(se(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(n())))})}function Dv(){return new Bn}function Hi(n){return pe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function xn(n,t){let e=arguments.length>=2;return i=>i.pipe(n?at((a,r)=>n(a,r,i)):Rt,cn(1),e?li(t):Hs(()=>new Bn))}function La(n){return n<=0?()=>gt:pe((t,e)=>{let i=[];t.subscribe(se(e,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(let a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function Hl(n,t){let e=arguments.length>=2;return i=>i.pipe(n?at((a,r)=>n(a,r,i)):Rt,La(1),e?li(t):Hs(()=>new Bn))}function zl(n,t){return pe(pp(n,t,arguments.length>=2,!0))}function Gn(...n){let t=Cn(n);return pe((e,i)=>{(t?_a(n,e,t):_a(n,e)).subscribe(i)})}function ht(n,t){return pe((e,i)=>{let a=null,r=0,o=!1,s=()=>o&&!a&&i.complete();e.subscribe(se(i,c=>{a?.unsubscribe();let l=0,d=r++;Re(n(c,d)).subscribe(a=se(i,h=>i.next(t?t(c,h,d,l++):h),()=>{a=null,s()}))},()=>{o=!0,s()}))})}function ut(n){return pe((t,e)=>{Re(n).subscribe(se(e,()=>e.complete(),Lr)),!e.closed&&t.subscribe(e)})}function Be(n,t,e){let i=$(n)||t||e?{next:n,error:t,complete:e}:n;return i?pe((a,r)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let s=!0;a.subscribe(se(r,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),r.next(c)},()=>{var c;s=!1,(c=i.complete)===null||c===void 0||c.call(i),r.complete()},c=>{var l;s=!1,(l=i.error)===null||l===void 0||l.call(i,c),r.error(c)},()=>{var c,l;s&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Rt}var Qp="https://g.co/ng/security#xss",A=class extends Error{constructor(t,e){super(bc(t,e)),this.code=t}};function bc(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}function zr(n){return{toString:n}.toString()}var zs="__parameters__";function Av(n){return function(...e){if(n){let i=n(...e);for(let a in i)this[a]=i[a]}}}function Yp(n,t,e){return zr(()=>{let i=Av(t);function a(...r){if(this instanceof a)return i.apply(this,r),this;let o=new a(...r);return s.annotation=o,s;function s(c,l,d){let h=c.hasOwnProperty(zs)?c[zs]:Object.defineProperty(c,zs,{value:[]})[zs];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=n,a.annotationCls=a,a})}function Te(n){for(let t in n)if(n[t]===Te)return t;throw Error("Could not find renamed property on target object.")}function Ev(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function vt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(vt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function nd(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var Tv=Te({__forward_ref__:Te});function un(n){return n.__forward_ref__=un,n.toString=function(){return vt(this())},n}function kt(n){return Jp(n)?n():n}function Jp(n){return typeof n=="function"&&n.hasOwnProperty(Tv)&&n.__forward_ref__===un}function D(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function _c(n){return yp(n,ty)||yp(n,ny)}function ey(n){return _c(n)!==null}function yp(n,t){return n.hasOwnProperty(t)?n[t]:null}function Pv(n){let t=n&&(n[ty]||n[ny]);return t||null}function fp(n){return n&&(n.hasOwnProperty(mp)||n.hasOwnProperty(Rv))?n[mp]:null}var ty=Te({\u0275prov:Te}),mp=Te({\u0275inj:Te}),ny=Te({ngInjectableDef:Te}),Rv=Te({ngInjectorDef:Te}),V=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=D({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iy(n){return n&&!!n.\u0275providers}var Fv=Te({\u0275cmp:Te}),Ov=Te({\u0275dir:Te}),Vv=Te({\u0275pipe:Te}),Nv=Te({\u0275mod:Te}),Js=Te({\u0275fac:Te}),Pr=Te({__NG_ELEMENT_ID__:Te}),gp=Te({__NG_ENV_ID__:Te});function zi(n){return typeof n=="string"?n:n==null?"":String(n)}function qv(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zi(n)}function jv(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new A(-200,n)}function ch(n,t){throw new A(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),id;function ay(){return id}function $t(n){let t=id;return id=n,t}function ry(n,t,e){let i=_c(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&he.Optional)return null;if(t!==void 0)return t;ch(n,"Injector")}var Hv={},Rr=Hv,ad="__NG_DI_FLAG__",ec="ngTempTokenPath",zv="ngTokenPath",Bv=/\n/gm,Uv="\u0275",kp="__source",Pa;function Gv(){return Pa}function di(n){let t=Pa;return Pa=n,t}function Wv(n,t=he.Default){if(Pa===void 0)throw new A(-203,!1);return Pa===null?ry(n,void 0,t):Pa.get(n,t&he.Optional?null:void 0,t)}function P(n,t=he.Default){return(ay()||Wv)(kt(n),t)}function L(n,t=he.Default){return P(n,Sc(t))}function Sc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rd(n){let t=[];for(let e=0;e<n.length;e++){let i=kt(n[e]);if(Array.isArray(i)){if(i.length===0)throw new A(900,!1);let a,r=he.Default;for(let o=0;o<i.length;o++){let s=i[o],c=$v(s);typeof c=="number"?c===-1?a=s.token:r|=c:a=s}t.push(P(a,r))}else t.push(P(i))}return t}function oy(n,t){return n[ad]=t,n.prototype[ad]=t,n}function $v(n){return n[ad]}function Zv(n,t,e,i){let a=n[ec];throw t[kp]&&a.unshift(t[kp]),n.message=Kv(`
`+n.message,a,e,i),n[zv]=a,n[ec]=null,n}function Kv(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Uv?n.slice(2):n;let a=vt(t);if(Array.isArray(t))a=t.map(vt).join(" -> ");else if(typeof t=="object"){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let s=t[o];r.push(o+":"+(typeof s=="string"?JSON.stringify(s):vt(s)))}a=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${a}]: ${n.replace(Bv,`
  `)}`}var Mi=oy(Yp("Optional"),8);var lh=oy(Yp("SkipSelf"),4);function Fa(n,t){let e=n.hasOwnProperty(Js);return e?n[Js]:null}function Xv(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let a=n[i],r=t[i];if(e&&(a=e(a),r=e(r)),r!==a)return!1}return!0}function Qv(n){return n.flat(Number.POSITIVE_INFINITY)}function dh(n,t){n.forEach(e=>Array.isArray(e)?dh(e,t):t(e))}function sy(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function tc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Yv(n,t){let e=[];for(let i=0;i<n;i++)e.push(t);return e}function Jv(n,t,e,i){let a=n.length;if(a==t)n.push(e,i);else if(a===1)n.push(i,n[0]),n[0]=e;else{for(a--,n.push(n[a-1],n[a]);a>t;){let r=a-2;n[a]=n[r],a--}n[t]=e,n[t+1]=i}}function hh(n,t,e){let i=Br(n,t);return i>=0?n[i|1]=e:(i=~i,Jv(n,i,t,e)),i}function Bl(n,t){let e=Br(n,t);if(e>=0)return n[e|1]}function Br(n,t){return e3(n,t,1)}function e3(n,t,e){let i=0,a=n.length>>e;for(;a!==i;){let r=i+(a-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?a=r:i=r+1}return~(a<<e)}var Oa={},_t=[],Va=new V(""),cy=new V("",-1),ly=new V(""),nc=class{get(t,e=Rr){if(e===Rr){let i=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw i.name="NullInjectorError",i}return e}},dy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dy||{}),_n=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_n||{}),pi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(pi||{});function t3(n,t,e){let i=n.length;for(;;){let a=n.indexOf(t,e);if(a===-1)return a;if(a===0||n.charCodeAt(a-1)<=32){let r=t.length;if(a+r===i||n.charCodeAt(a+r)<=32)return a}e=a+1}}function od(n,t,e){let i=0;for(;i<e.length;){let a=e[i];if(typeof a=="number"){if(a!==0)break;i++;let r=e[i++],o=e[i++],s=e[i++];n.setAttribute(t,o,s,r)}else{let r=a,o=e[++i];n3(r)?n.setProperty(t,r,o):n.setAttribute(t,r,o),i++}}return i}function hy(n){return n===3||n===4||n===6}function n3(n){return n.charCodeAt(0)===64}function Fr(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let a=t[i];typeof a=="number"?e=a:e===0||(e===-1||e===2?vp(n,e,a,null,t[++i]):vp(n,e,a,null,null))}}return n}function vp(n,t,e,i,a){let r=0,o=n.length;if(t===-1)o=-1;else for(;r<n.length;){let s=n[r++];if(typeof s=="number"){if(s===t){o=-1;break}else if(s>t){o=r-1;break}}}for(;r<n.length;){let s=n[r];if(typeof s=="number")break;if(s===e){if(i===null){a!==null&&(n[r+1]=a);return}else if(i===n[r+1]){n[r+2]=a;return}}r++,i!==null&&r++,a!==null&&r++}o!==-1&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),i!==null&&n.splice(r++,0,i),a!==null&&n.splice(r++,0,a)}var uy="ng-template";function i3(n,t,e,i){let a=0;if(i){for(;a<t.length&&typeof t[a]=="string";a+=2)if(t[a]==="class"&&t3(t[a+1].toLowerCase(),e,0)!==-1)return!0}else if(uh(n))return!1;if(a=t.indexOf(1,a),a>-1){let r;for(;++a<t.length&&typeof(r=t[a])=="string";)if(r.toLowerCase()===e)return!0}return!1}function uh(n){return n.type===4&&n.value!==uy}function a3(n,t,e){let i=n.type===4&&!e?uy:n.value;return t===i}function r3(n,t,e){let i=4,a=n.attrs,r=a!==null?c3(a):0,o=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!o&&!ln(i)&&!ln(c))return!1;if(o&&ln(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!a3(n,c,e)||c===""&&t.length===1){if(ln(i))return!1;o=!0}}else if(i&8){if(a===null||!i3(n,a,c,e)){if(ln(i))return!1;o=!0}}else{let l=t[++s],d=o3(c,a,uh(n),e);if(d===-1){if(ln(i))return!1;o=!0;continue}if(l!==""){let h;if(d>r?h="":h=a[d+1].toLowerCase(),i&2&&l!==h){if(ln(i))return!1;o=!0}}}}return ln(i)||o}function ln(n){return(n&1)===0}function o3(n,t,e,i){if(t===null)return-1;let a=0;if(i||!e){let r=!1;for(;a<t.length;){let o=t[a];if(o===n)return a;if(o===3||o===6)r=!0;else if(o===1||o===2){let s=t[++a];for(;typeof s=="string";)s=t[++a];continue}else{if(o===4)break;if(o===0){a+=4;continue}}a+=r?1:2}return-1}else return l3(t,n)}function py(n,t,e=!1){for(let i=0;i<t.length;i++)if(r3(n,t[i],e))return!0;return!1}function s3(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function c3(n){for(let t=0;t<n.length;t++){let e=n[t];if(hy(e))return t}return n.length}function l3(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function d3(n,t){e:for(let e=0;e<t.length;e++){let i=t[e];if(n.length===i.length){for(let a=0;a<n.length;a++)if(n[a]!==i[a])continue e;return!0}}return!1}function Mp(n,t){return n?":not("+t.trim()+")":t}function h3(n){let t=n[0],e=1,i=2,a="",r=!1;for(;e<n.length;){let o=n[e];if(typeof o=="string")if(i&2){let s=n[++e];a+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else i&8?a+="."+o:i&4&&(a+=" "+o);else a!==""&&!ln(o)&&(t+=Mp(r,a),a=""),i=o,r=r||!ln(i);e++}return a!==""&&(t+=Mp(r,a)),t}function u3(n){return n.map(h3).join(",")}function p3(n){let t=[],e=[],i=1,a=2;for(;i<n.length;){let r=n[i];if(typeof r=="string")a===2?r!==""&&t.push(r,n[++i]):a===8&&e.push(r);else{if(!ln(a))break;a=r}i++}return{attrs:t,classes:e}}function O(n){return zr(()=>{let t=ky(n),e=de(E({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_n.Emulated,styles:n.styles||_t,_:null,schemas:n.schemas||null,tView:null,id:""});vy(e);let i=n.dependencies;return e.directiveDefs=wp(i,!1),e.pipeDefs=wp(i,!0),e.id=m3(e),e})}function y3(n){return yi(n)||yy(n)}function f3(n){return n!==null}function Ye(n){return zr(()=>({type:n.type,bootstrap:n.bootstrap||_t,declarations:n.declarations||_t,imports:n.imports||_t,exports:n.exports||_t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cp(n,t){if(n==null)return Oa;let e={};for(let i in n)if(n.hasOwnProperty(i)){let a=n[i],r,o,s=pi.None;Array.isArray(a)?(s=a[0],r=a[1],o=a[2]??r):(r=a,o=a),t?(e[r]=s!==pi.None?[i,s]:i,t[r]=o):e[r]=i}return e}function ce(n){return zr(()=>{let t=ky(n);return vy(t),t})}function $n(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function yi(n){return n[Fv]||null}function yy(n){return n[Ov]||null}function fy(n){return n[Vv]||null}function my(n){let t=yi(n)||yy(n)||fy(n);return t!==null?t.standalone:!1}function gy(n,t){let e=n[Nv]||null;if(!e&&t===!0)throw new Error(`Type ${vt(n)} does not have '\u0275mod' property.`);return e}function ky(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Oa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||_t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cp(n.inputs,t),outputs:Cp(n.outputs),debugInfo:null}}function vy(n){n.features?.forEach(t=>t(n))}function wp(n,t){if(!n)return null;let e=t?fy:y3;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(f3)}function m3(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let a of e)t=Math.imul(31,t)+a.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Za(n){return{\u0275providers:n}}function g3(...n){return{\u0275providers:My(!0,n),\u0275fromNgModule:!0}}function My(n,...t){let e=[],i=new Set,a,r=o=>{e.push(o)};return dh(t,o=>{let s=o;sd(s,r,[],i)&&(a||=[],a.push(s))}),a!==void 0&&Cy(a,r),e}function Cy(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:a}=n[e];ph(a,r=>{t(r,i)})}}function sd(n,t,e,i){if(n=kt(n),!n)return!1;let a=null,r=fp(n),o=!r&&yi(n);if(!r&&!o){let c=n.ngModule;if(r=fp(c),r)a=c;else return!1}else{if(o&&!o.standalone)return!1;a=n}let s=i.has(a);if(o){if(s)return!1;if(i.add(a),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)sd(l,t,e,i)}}else if(r){if(r.imports!=null&&!s){i.add(a);let l;try{dh(r.imports,d=>{sd(d,t,e,i)&&(l||=[],l.push(d))})}finally{}l!==void 0&&Cy(l,t)}if(!s){let l=Fa(a)||(()=>new a);t({provide:a,useFactory:l,deps:_t},a),t({provide:ly,useValue:a,multi:!0},a),t({provide:Va,useValue:()=>P(a),multi:!0},a)}let c=r.providers;if(c!=null&&!s){let l=n;ph(c,d=>{t(d,l)})}}else return!1;return a!==n&&n.providers!==void 0}function ph(n,t){for(let e of n)iy(e)&&(e=e.\u0275providers),Array.isArray(e)?ph(e,t):t(e)}var k3=Te({provide:String,useValue:Te});function wy(n){return n!==null&&typeof n=="object"&&k3 in n}function v3(n){return!!(n&&n.useExisting)}function M3(n){return!!(n&&n.useFactory)}function Na(n){return typeof n=="function"}function C3(n){return!!n.useClass}var Lc=new V(""),Ws={},w3={},Ul;function Dc(){return Ul===void 0&&(Ul=new nc),Ul}var yt=class{},Or=class extends yt{get destroyed(){return this._destroyed}constructor(t,e,i,a){super(),this.parent=e,this.source=i,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ld(t,o=>this.processProvider(o)),this.records.set(cy,Da(void 0,this)),a.has("environment")&&this.records.set(yt,Da(void 0,this));let r=this.records.get(Lc);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(ly,_t,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=ge(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=di(this),i=$t(void 0),a;try{return t()}finally{di(e),$t(i)}}get(t,e=Rr,i=he.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(gp))return t[gp](this);i=Sc(i);let a,r=di(this),o=$t(void 0);try{if(!(i&he.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=S3(t)&&_c(t);l&&this.injectableDefInScope(l)?c=Da(cd(t),Ws):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let s=i&he.Self?Dc():this.parent;return e=i&he.Optional&&e===Rr?null:e,s.get(t,e)}catch(s){if(s.name==="NullInjectorError"){if((s[ec]=s[ec]||[]).unshift(vt(t)),r)throw s;return Zv(s,t,"R3InjectorError",this.source)}else throw s}finally{$t(o),di(r)}}resolveInjectorInitializers(){let t=ge(null),e=di(this),i=$t(void 0),a;try{let r=this.get(Va,_t,he.Self);for(let o of r)o()}finally{di(e),$t(i),ge(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(vt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(t){t=kt(t);let e=Na(t)?t:kt(t&&t.provide),i=I3(t);if(!Na(t)&&t.multi===!0){let a=this.records.get(e);a||(a=Da(void 0,Ws,!0),a.factory=()=>rd(a.multi),this.records.set(e,a)),e=t,a.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=ge(null);try{return e.value===Ws&&(e.value=w3,e.value=e.factory()),typeof e.value=="object"&&e.value&&_3(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ge(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=kt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function cd(n){let t=_c(n),e=t!==null?t.factory:Fa(n);if(e!==null)return e;if(n instanceof V)throw new A(204,!1);if(n instanceof Function)return x3(n);throw new A(204,!1)}function x3(n){if(n.length>0)throw new A(204,!1);let e=Pv(n);return e!==null?()=>e.factory(n):()=>new n}function I3(n){if(wy(n))return Da(void 0,n.useValue);{let t=xy(n);return Da(t,Ws)}}function xy(n,t,e){let i;if(Na(n)){let a=kt(n);return Fa(a)||cd(a)}else if(wy(n))i=()=>kt(n.useValue);else if(M3(n))i=()=>n.useFactory(...rd(n.deps||[]));else if(v3(n))i=()=>P(kt(n.useExisting));else{let a=kt(n&&(n.useClass||n.provide));if(b3(n))i=()=>new a(...rd(n.deps));else return Fa(a)||cd(a)}return i}function Da(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function b3(n){return!!n.deps}function _3(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function S3(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function ld(n,t){for(let e of n)Array.isArray(e)?ld(e,t):e&&iy(e)?ld(e.\u0275providers,t):t(e)}function pn(n,t){n instanceof Or&&n.assertNotDestroyed();let e,i=di(n),a=$t(void 0);try{return t()}finally{di(i),$t(a)}}function Iy(){return ay()!==void 0||Gv()!=null}function by(n){if(!Iy())throw new A(-203,!1)}function L3(n){return typeof n=="function"}var Zn=0,te=1,Y=2,ft=3,hn=4,Lt=5,qa=6,ic=7,rt=8,ja=9,Sn=10,je=11,Vr=12,xp=13,Ka=14,St=15,Ui=16,Aa=17,Wn=18,Ac=19,_y=20,hi=21,$s=22,Zt=23,Mt=25,Sy=1;var Gi=7,ac=8,Ha=9,pt=10,rc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(rc||{});function ui(n){return Array.isArray(n)&&typeof n[Sy]=="object"}function Kn(n){return Array.isArray(n)&&n[Sy]===!0}function yh(n){return(n.flags&4)!==0}function Ec(n){return n.componentOffset>-1}function Tc(n){return(n.flags&1)===1}function fi(n){return!!n.template}function dd(n){return(n[Y]&512)!==0}var hd=class{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function Ly(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}function Ne(){return Dy}function Dy(n){return n.type.prototype.ngOnChanges&&(n.setInput=A3),D3}Ne.ngInherit=!0;function D3(){let n=Ey(this),t=n?.current;if(t){let e=n.previous;if(e===Oa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function A3(n,t,e,i,a){let r=this.declaredInputs[i],o=Ey(n)||E3(n,{previous:Oa,current:null}),s=o.current||(o.current={}),c=o.previous,l=c[r];s[r]=new hd(l&&l.currentValue,e,c===Oa),Ly(n,t,a,e)}var Ay="__ngSimpleChanges__";function Ey(n){return n[Ay]||null}function E3(n,t){return n[Ay]=t}var Ip=null;var In=function(n,t,e){Ip?.(n,t,e)},Ty="svg",T3="math";function Ln(n){for(;Array.isArray(n);)n=n[Zn];return n}function Py(n,t){return Ln(t[n])}function Xt(n,t){return Ln(t[n.index])}function fh(n,t){return n.data[t]}function P3(n,t){return n[t]}function Ci(n,t){let e=t[n];return ui(e)?e:e[Zn]}function R3(n){return(n[Y]&4)===4}function mh(n){return(n[Y]&128)===128}function F3(n){return Kn(n[ft])}function mi(n,t){return t==null?null:n[t]}function Ry(n){n[Aa]=0}function Fy(n){n[Y]&1024||(n[Y]|=1024,mh(n)&&Rc(n))}function O3(n,t){for(;n>0;)t=t[Ka],n--;return t}function Pc(n){return!!(n[Y]&9216||n[Zt]?.dirty)}function ud(n){n[Sn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Pc(n)&&Rc(n)}function Rc(n){n[Sn].changeDetectionScheduler?.notify(0);let t=Wi(n);for(;t!==null&&!(t[Y]&8192||(t[Y]|=8192,!mh(t)));)t=Wi(t)}function Oy(n,t){if((n[Y]&256)===256)throw new A(911,!1);n[hi]===null&&(n[hi]=[]),n[hi].push(t)}function V3(n,t){if(n[hi]===null)return;let e=n[hi].indexOf(t);e!==-1&&n[hi].splice(e,1)}function Wi(n){let t=n[ft];return Kn(t)?t[ft]:t}var ae={lFrame:Gy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Vy=!1;function N3(){return ae.lFrame.elementDepthCount}function q3(){ae.lFrame.elementDepthCount++}function j3(){ae.lFrame.elementDepthCount--}function Ny(){return ae.bindingsEnabled}function qy(){return ae.skipHydrationRootTNode!==null}function H3(n){return ae.skipHydrationRootTNode===n}function z3(){ae.skipHydrationRootTNode=null}function J(){return ae.lFrame.lView}function Ue(){return ae.lFrame.tView}function C(n){return ae.lFrame.contextLView=n,n[rt]}function w(n){return ae.lFrame.contextLView=null,n}function ot(){let n=jy();for(;n!==null&&n.type===64;)n=n.parent;return n}function jy(){return ae.lFrame.currentTNode}function B3(){let n=ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Yi(n,t){let e=ae.lFrame;e.currentTNode=n,e.isParent=t}function gh(){return ae.lFrame.isParent}function kh(){ae.lFrame.isParent=!1}function U3(){return ae.lFrame.contextLView}function Hy(){return Vy}function bp(n){Vy=n}function Ur(){let n=ae.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function G3(){return ae.lFrame.bindingIndex}function W3(n){return ae.lFrame.bindingIndex=n}function Xa(){return ae.lFrame.bindingIndex++}function vh(n){let t=ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function $3(){return ae.lFrame.inI18n}function Z3(n,t){let e=ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,pd(t)}function K3(){return ae.lFrame.currentDirectiveIndex}function pd(n){ae.lFrame.currentDirectiveIndex=n}function X3(n){let t=ae.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function zy(){return ae.lFrame.currentQueryIndex}function Mh(n){ae.lFrame.currentQueryIndex=n}function Q3(n){let t=n[te];return t.type===2?t.declTNode:t.type===1?n[Lt]:null}function By(n,t,e){if(e&he.SkipSelf){let a=t,r=n;for(;a=a.parent,a===null&&!(e&he.Host);)if(a=Q3(r),a===null||(r=r[Ka],a.type&10))break;if(a===null)return!1;t=a,n=r}let i=ae.lFrame=Uy();return i.currentTNode=t,i.lView=n,!0}function Ch(n){let t=Uy(),e=n[te];ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Uy(){let n=ae.lFrame,t=n===null?null:n.child;return t===null?Gy(n):t}function Gy(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Wy(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var $y=Wy;function wh(){let n=Wy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Y3(n){return(ae.lFrame.contextLView=O3(n,ae.lFrame.contextLView))[rt]}function Xn(){return ae.lFrame.selectedIndex}function $i(n){ae.lFrame.selectedIndex=n}function Fc(){let n=ae.lFrame;return fh(n.tView,n.selectedIndex)}function Oc(){ae.lFrame.currentNamespace=Ty}function Zy(){J3()}function J3(){ae.lFrame.currentNamespace=null}function eM(){return ae.lFrame.currentNamespace}var Ky=!0;function Vc(){return Ky}function Nc(n){Ky=n}function tM(n,t,e){let{ngOnChanges:i,ngOnInit:a,ngDoCheck:r}=t.type.prototype;if(i){let o=Dy(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}a&&(e.preOrderHooks??=[]).push(0-n,a),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}function qc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=r;o&&(n.contentHooks??=[]).push(-e,o),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),d!=null&&(n.destroyHooks??=[]).push(e,d)}}function Zs(n,t,e){Xy(n,t,3,e)}function Ks(n,t,e,i){(n[Y]&3)===e&&Xy(n,t,e,i)}function Gl(n,t){let e=n[Y];(e&3)===t&&(e&=16383,e+=1,n[Y]=e)}function Xy(n,t,e,i){let a=i!==void 0?n[Aa]&65535:0,r=i??-1,o=t.length-1,s=0;for(let c=a;c<o;c++)if(typeof t[c+1]=="number"){if(s=t[c],i!=null&&s>=i)break}else t[c]<0&&(n[Aa]+=65536),(s<r||r==-1)&&(nM(n,e,t,c),n[Aa]=(n[Aa]&4294901760)+c+2),c++}function _p(n,t){In(4,n,t);let e=ge(null);try{t.call(n)}finally{ge(e),In(5,n,t)}}function nM(n,t,e,i){let a=e[i]<0,r=e[i+1],o=a?-e[i]:e[i],s=n[o];a?n[Y]>>14<n[Aa]>>16&&(n[Y]&3)===t&&(n[Y]+=16384,_p(s,r)):_p(s,r)}var Ra=-1,Zi=class{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function iM(n){return n instanceof Zi}function aM(n){return(n.flags&8)!==0}function rM(n){return(n.flags&16)!==0}var Wl={},yd=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Sc(i);let a=this.injector.get(t,Wl,i);return a!==Wl||e===Wl?a:this.parentInjector.get(t,e,i)}};function Qy(n){return n!==Ra}function oc(n){return n&32767}function oM(n){return n>>16}function sc(n,t){let e=oM(n),i=t;for(;e>0;)i=i[Ka],e--;return i}var fd=!0;function Sp(n){let t=fd;return fd=n,t}var sM=256,Yy=sM-1,Jy=5,cM=0,bn={};function lM(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Pr)&&(i=e[Pr]),i==null&&(i=e[Pr]=cM++);let a=i&Yy,r=1<<a;t.data[n+(a>>Jy)]|=r}function cc(n,t){let e=ef(n,t);if(e!==-1)return e;let i=t[te];i.firstCreatePass&&(n.injectorIndex=t.length,$l(i.data,n),$l(t,null),$l(i.blueprint,null));let a=xh(n,t),r=n.injectorIndex;if(Qy(a)){let o=oc(a),s=sc(a,t),c=s[te].data;for(let l=0;l<8;l++)t[r+l]=s[o+l]|c[o+l]}return t[r+8]=a,r}function $l(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ef(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function xh(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,a=t;for(;a!==null;){if(i=of(a),i===null)return Ra;if(e++,a=a[Ka],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Ra}function md(n,t,e){lM(n,t,e)}function dM(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,a=0;for(;a<i;){let r=e[a];if(hy(r))break;if(r===0)a=a+2;else if(typeof r=="number")for(a++;a<i&&typeof e[a]=="string";)a++;else{if(r===t)return e[a+1];a=a+2}}}return null}function tf(n,t,e){if(e&he.Optional||n!==void 0)return n;ch(t,"NodeInjector")}function nf(n,t,e,i){if(e&he.Optional&&i===void 0&&(i=null),!(e&(he.Self|he.Host))){let a=n[ja],r=$t(void 0);try{return a?a.get(t,i,e&he.Optional):ry(t,i,e&he.Optional)}finally{$t(r)}}return tf(i,t,e)}function af(n,t,e,i=he.Default,a){if(n!==null){if(t[Y]&2048&&!(i&he.Self)){let o=yM(n,t,e,i,bn);if(o!==bn)return o}let r=rf(n,t,e,i,bn);if(r!==bn)return r}return nf(t,e,i,a)}function rf(n,t,e,i,a){let r=uM(e);if(typeof r=="function"){if(!By(t,n,i))return i&he.Host?tf(a,e,i):nf(t,e,i,a);try{let o;if(o=r(i),o==null&&!(i&he.Optional))ch(e);else return o}finally{$y()}}else if(typeof r=="number"){let o=null,s=ef(n,t),c=Ra,l=i&he.Host?t[St][Lt]:null;for((s===-1||i&he.SkipSelf)&&(c=s===-1?xh(n,t):t[s+8],c===Ra||!Dp(i,!1)?s=-1:(o=t[te],s=oc(c),t=sc(c,t)));s!==-1;){let d=t[te];if(Lp(r,s,d.data)){let h=hM(s,t,e,o,i,l);if(h!==bn)return h}c=t[s+8],c!==Ra&&Dp(i,t[te].data[s+8]===l)&&Lp(r,s,t)?(o=d,s=oc(c),t=sc(c,t)):s=-1}}return a}function hM(n,t,e,i,a,r){let o=t[te],s=o.data[n+8],c=i==null?Ec(s)&&fd:i!=o&&(s.type&3)!==0,l=a&he.Host&&r===s,d=Xs(s,o,e,c,l);return d!==null?Ki(t,o,d,s):bn}function Xs(n,t,e,i,a){let r=n.providerIndexes,o=t.data,s=r&1048575,c=n.directiveStart,l=n.directiveEnd,d=r>>20,h=i?s:s+d,g=a?s+d:l;for(let f=h;f<g;f++){let v=o[f];if(f<c&&e===v||f>=c&&v.type===e)return f}if(a){let f=o[c];if(f&&fi(f)&&f.type===e)return c}return null}function Ki(n,t,e,i){let a=n[e],r=t.data;if(iM(a)){let o=a;o.resolving&&jv(qv(r[e]));let s=Sp(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?$t(o.injectImpl):null,d=By(n,i,he.Default);try{a=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&tM(e,r[e],t)}finally{l!==null&&$t(l),Sp(s),o.resolving=!1,$y()}}return a}function uM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Pr)?n[Pr]:void 0;return typeof t=="number"?t>=0?t&Yy:pM:t}function Lp(n,t,e){let i=1<<n;return!!(e[t+(n>>Jy)]&i)}function Dp(n,t){return!(n&he.Self)&&!(n&he.Host&&t)}var Bi=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return af(this._tNode,this._lView,t,Sc(i),e)}};function pM(){return new Bi(ot(),J())}function Qn(n){return zr(()=>{let t=n.prototype.constructor,e=t[Js]||gd(t),i=Object.prototype,a=Object.getPrototypeOf(n.prototype).constructor;for(;a&&a!==i;){let r=a[Js]||gd(a);if(r&&r!==e)return r;a=Object.getPrototypeOf(a)}return r=>new r})}function gd(n){return Jp(n)?()=>{let t=gd(kt(n));return t&&t()}:Fa(n)}function yM(n,t,e,i,a){let r=n,o=t;for(;r!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let s=rf(r,o,e,i|he.Self,bn);if(s!==bn)return s;let c=r.parent;if(!c){let l=o[_y];if(l){let d=l.get(e,bn,i);if(d!==bn)return d}c=of(o),o=o[Ka]}r=c}return a}function of(n){let t=n[te],e=t.type;return e===2?t.declTNode:e===1?n[Lt]:null}function Gr(n){return dM(ot(),n)}function Ap(n,t=null,e=null,i){let a=sf(n,t,e,i);return a.resolveInjectorInitializers(),a}function sf(n,t=null,e=null,i,a=new Set){let r=[e||_t,g3(n)];return i=i||(typeof n=="object"?void 0:vt(n)),new Or(r,t||Dc(),i||null,a)}var Ft=class n{static{this.THROW_IF_NOT_FOUND=Rr}static{this.NULL=new nc}static create(t,e){if(Array.isArray(t))return Ap({name:""},e,t,"");{let i=t.name??"";return Ap({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=D({token:n,providedIn:"any",factory:()=>P(cy)})}static{this.__NG_ELEMENT_ID__=-1}};var fM=new V("");fM.__NG_ELEMENT_ID__=n=>{let t=ot();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(n&he.Optional)return null;throw new A(204,!1)};var mM="ngOriginalError";function Zl(n){return n[mM]}var cf=!0,jc=(()=>{class n{static{this.__NG_ELEMENT_ID__=gM}static{this.__NG_ENV_ID__=e=>e}}return n})(),kd=class extends jc{constructor(t){super(),this._lView=t}onDestroy(t){return Oy(this._lView,t),()=>V3(this._lView,t)}};function gM(){return new kd(J())}var Yn=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}}return n})();var vd=class extends Q{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Iy()&&(this.destroyRef=L(jc,{optional:!0})??void 0,this.pendingTasks=L(Yn,{optional:!0})??void 0)}emit(t){let e=ge(null);try{super.next(t)}finally{ge(e)}}subscribe(t,e,i){let a=t,r=e||(()=>null),o=i;if(t&&typeof t=="object"){let c=t;a=c.next?.bind(c),r=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(r=this.wrapInTimeout(r),a&&(a=this.wrapInTimeout(a)),o&&(o=this.wrapInTimeout(o)));let s=super.subscribe({next:a,error:r,complete:o});return t instanceof Ie&&t.add(s),s}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},_=vd;function lc(...n){}function lf(n){let t,e;function i(){n=lc;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Ep(n){return queueMicrotask(()=>n()),()=>{n=lc}}var Ih="isAngularZone",dc=Ih+"_ID",kM=0,Ce=class n{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _(!1),this.onMicrotaskEmpty=new _(!1),this.onStable=new _(!1),this.onError=new _(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:r=cf}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!a&&i,o.shouldCoalesceRunChangeDetection=a,o.callbackScheduled=!1,o.scheduleInRootZone=r,CM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ih)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new A(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,a){let r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+a,t,vM,lc,lc);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},vM={};function bh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){lf(()=>{n.callbackScheduled=!1,Md(n),n.isCheckStableRunning=!0,bh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Md(n)}function CM(n){let t=()=>{MM(n)},e=kM++;n._inner=n._inner.fork({name:"angular",properties:{[Ih]:!0,[dc]:e,[dc+e]:!0},onInvokeTask:(i,a,r,o,s,c)=>{if(wM(c))return i.invokeTask(r,o,s,c);try{return Tp(n),i.invokeTask(r,o,s,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Pp(n)}},onInvoke:(i,a,r,o,s,c,l)=>{try{return Tp(n),i.invoke(r,o,s,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!xM(c)&&t(),Pp(n)}},onHasTask:(i,a,r,o)=>{i.hasTask(r,o),a===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Md(n),bh(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,a,r,o)=>(i.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Md(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Tp(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pp(n){n._nesting--,bh(n)}var Cd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _,this.onMicrotaskEmpty=new _,this.onStable=new _,this.onError=new _}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,a){return t.apply(e,i)}};function wM(n){return df(n,"__ignore_ng_zone__")}function xM(n){return df(n,"__scheduler_tick__")}function df(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Dn=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Zl(t);for(;e&&Zl(e);)e=Zl(e);return e||null}},IM=new V("",{providedIn:"root",factory:()=>{let n=L(Ce),t=L(Dn);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function bM(){return Qa(ot(),J())}function Qa(n,t){return new ve(Xt(n,t))}var ve=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=bM}}return n})();function _M(n){return n instanceof ve?n.nativeElement:n}function SM(){return this._results[Symbol.iterator]()}var wd=class n{get changes(){return this._changes??=new _}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=n.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=SM)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=Qv(t);(this._changesDetected=!Xv(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function hf(n){return(n.flags&128)===128}var uf=new Map,LM=0;function DM(){return LM++}function AM(n){uf.set(n[Ac],n)}function xd(n){uf.delete(n[Ac])}var Rp="__ngContext__";function gi(n,t){ui(t)?(n[Rp]=t[Ac],AM(t)):n[Rp]=t}function pf(n){return ff(n[Vr])}function yf(n){return ff(n[hn])}function ff(n){for(;n!==null&&!Kn(n);)n=n[hn];return n}var Id;function mf(n){Id=n}function EM(){if(Id!==void 0)return Id;if(typeof document<"u")return document;throw new A(210,!1)}var _h=new V("",{providedIn:"root",factory:()=>TM}),TM="ng",Sh=new V(""),yn=new V("",{providedIn:"platform",factory:()=>"unknown"});var Lh=new V(""),Dh=new V("",{providedIn:"root",factory:()=>EM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PM="h",RM="b";var FM=()=>null;function Ah(n,t,e=!1){return FM(n,t,e)}var gf=!1,OM=new V("",{providedIn:"root",factory:()=>gf});var hc=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qp})`}};function Wr(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function kf(n,t){let e=VM(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Qp})`)}return e===t}function VM(n){return n instanceof hc&&n.getTypeName()||null}var NM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vf(n){return n=String(n),n.match(NM)?n:"unsafe:"+n}var Eh=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Eh||{});function Hc(n){let t=qM();return t?t.sanitize(Eh.URL,n)||"":kf(n,"URL")?Wr(n):vf(zi(n))}function qM(){let n=J();return n&&n[Sn].sanitizer}var jM=/^>|^->|<!--|-->|--!>|<!-$/g,HM=/(<|>)/g,zM="\u200B$1\u200B";function BM(n){return n.replace(jM,t=>t.replace(HM,zM))}function Mf(n){return n.ownerDocument.defaultView}function Th(n){return n.ownerDocument}function Cf(n){return n instanceof Function?n():n}function UM(n){return(n??L(Ft)).get(yn)==="browser"}var An=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(An||{}),GM;function Ph(n,t){return GM(n,t)}function Ea(n,t,e,i,a){if(i!=null){let r,o=!1;Kn(i)?r=i:ui(i)&&(o=!0,i=i[Zn]);let s=Ln(i);n===0&&e!==null?a==null?_f(t,e,s):uc(t,e,s,a||null,!0):n===1&&e!==null?uc(t,e,s,a||null,!0):n===2?r6(t,s,o):n===3&&t.destroyNode(s),r!=null&&s6(t,n,r,e,a)}}function WM(n,t){return n.createText(t)}function $M(n,t,e){n.setValue(t,e)}function ZM(n,t){return n.createComment(BM(t))}function wf(n,t,e){return n.createElement(t,e)}function KM(n,t){xf(n,t),t[Zn]=null,t[Lt]=null}function XM(n,t,e,i,a,r){i[Zn]=a,i[Lt]=t,Uc(n,i,e,1,a,r)}function xf(n,t){t[Sn].changeDetectionScheduler?.notify(9),Uc(n,t,t[je],2,null,null)}function QM(n){let t=n[Vr];if(!t)return Kl(n[te],n);for(;t;){let e=null;if(ui(t))e=t[Vr];else{let i=t[pt];i&&(e=i)}if(!e){for(;t&&!t[hn]&&t!==n;)ui(t)&&Kl(t[te],t),t=t[ft];t===null&&(t=n),ui(t)&&Kl(t[te],t),e=t&&t[hn]}t=e}}function YM(n,t,e,i){let a=pt+i,r=e.length;i>0&&(e[a-1][hn]=t),i<r-pt?(t[hn]=e[a],sy(e,pt+i,t)):(e.push(t),t[hn]=null),t[ft]=e;let o=t[Ui];o!==null&&e!==o&&If(o,t);let s=t[Wn];s!==null&&s.insertView(n),ud(t),t[Y]|=128}function If(n,t){let e=n[Ha],i=t[ft];if(ui(i))n[Y]|=rc.HasTransplantedViews;else{let a=i[ft][St];t[St]!==a&&(n[Y]|=rc.HasTransplantedViews)}e===null?n[Ha]=[t]:e.push(t)}function Rh(n,t){let e=n[Ha],i=e.indexOf(t);e.splice(i,1)}function Nr(n,t){if(n.length<=pt)return;let e=pt+t,i=n[e];if(i){let a=i[Ui];a!==null&&a!==n&&Rh(a,i),t>0&&(n[e-1][hn]=i[hn]);let r=tc(n,pt+t);KM(i[te],i);let o=r[Wn];o!==null&&o.detachView(r[te]),i[ft]=null,i[hn]=null,i[Y]&=-129}return i}function zc(n,t){if(!(t[Y]&256)){let e=t[je];e.destroyNode&&Uc(n,t,e,3,null,null),QM(t)}}function Kl(n,t){if(t[Y]&256)return;let e=ge(null);try{t[Y]&=-129,t[Y]|=256,t[Zt]&&cs(t[Zt]),e6(n,t),JM(n,t),t[te].type===1&&t[je].destroy();let i=t[Ui];if(i!==null&&Kn(t[ft])){i!==t[ft]&&Rh(i,t);let a=t[Wn];a!==null&&a.detachView(n)}xd(t)}finally{ge(e)}}function JM(n,t){let e=n.cleanup,i=t[ic];if(e!==null)for(let r=0;r<e.length-1;r+=2)if(typeof e[r]=="string"){let o=e[r+3];o>=0?i[o]():i[-o].unsubscribe(),r+=2}else{let o=i[e[r+1]];e[r].call(o)}i!==null&&(t[ic]=null);let a=t[hi];if(a!==null){t[hi]=null;for(let r=0;r<a.length;r++){let o=a[r];o()}}}function e6(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let a=t[e[i]];if(!(a instanceof Zi)){let r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){let s=a[r[o]],c=r[o+1];In(4,s,c);try{c.call(s)}finally{In(5,s,c)}}else{In(4,a,r);try{r.call(a)}finally{In(5,a,r)}}}}}function bf(n,t,e){return t6(n,t.parent,e)}function t6(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Zn];{let{componentOffset:a}=i;if(a>-1){let{encapsulation:r}=n.data[i.directiveStart+a];if(r===_n.None||r===_n.Emulated)return null}return Xt(i,e)}}function uc(n,t,e,i,a){n.insertBefore(t,e,i,a)}function _f(n,t,e){n.appendChild(t,e)}function Fp(n,t,e,i,a){i!==null?uc(n,t,e,i,a):_f(n,t,e)}function Sf(n,t){return n.parentNode(t)}function n6(n,t){return n.nextSibling(t)}function Lf(n,t,e){return a6(n,t,e)}function i6(n,t,e){return n.type&40?Xt(n,e):null}var a6=i6,Op;function Bc(n,t,e,i){let a=bf(n,i,t),r=t[je],o=i.parent||t[Lt],s=Lf(o,i,t);if(a!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Fp(r,a,e[c],s,!1);else Fp(r,a,e,s,!1);Op!==void 0&&Op(r,i,t,e,a)}function Tr(n,t){if(t!==null){let e=t.type;if(e&3)return Xt(t,n);if(e&4)return bd(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return Tr(n,i);{let a=n[t.index];return Kn(a)?bd(-1,a):Ln(a)}}else{if(e&128)return Tr(n,t.next);if(e&32)return Ph(t,n)()||Ln(n[t.index]);{let i=Df(n,t);if(i!==null){if(Array.isArray(i))return i[0];let a=Wi(n[St]);return Tr(a,i)}else return Tr(n,t.next)}}}return null}function Df(n,t){if(t!==null){let i=n[St][Lt],a=t.projection;return i.projection[a]}return null}function bd(n,t){let e=pt+n+1;if(e<t.length){let i=t[e],a=i[te].firstChild;if(a!==null)return Tr(i,a)}return t[Gi]}function r6(n,t,e){n.removeChild(null,t,e)}function Fh(n,t,e,i,a,r,o){for(;e!=null;){if(e.type===128){e=e.next;continue}let s=i[e.index],c=e.type;if(o&&t===0&&(s&&gi(Ln(s),i),e.flags|=2),(e.flags&32)!==32)if(c&8)Fh(n,t,e.child,i,a,r,!1),Ea(t,n,a,s,r);else if(c&32){let l=Ph(e,i),d;for(;d=l();)Ea(t,n,a,d,r);Ea(t,n,a,s,r)}else c&16?Af(n,t,i,e,a,r):Ea(t,n,a,s,r);e=o?e.projectionNext:e.next}}function Uc(n,t,e,i,a,r){Fh(e,i,n.firstChild,t,a,r,!1)}function o6(n,t,e){let i=t[je],a=bf(n,e,t),r=e.parent||t[Lt],o=Lf(r,e,t);Af(i,0,t,e,a,o)}function Af(n,t,e,i,a,r){let o=e[St],c=o[Lt].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ea(t,n,a,d,r)}else{let l=c,d=o[ft];hf(i)&&(l.flags|=128),Fh(n,t,l,d,a,r,!0)}}function s6(n,t,e,i,a){let r=e[Gi],o=Ln(e);r!==o&&Ea(t,n,i,r,a);for(let s=pt;s<e.length;s++){let c=e[s];Uc(c[te],c,n,t,i,r)}}function c6(n,t,e,i,a){if(t)a?n.addClass(e,i):n.removeClass(e,i);else{let r=i.indexOf("-")===-1?void 0:An.DashCase;a==null?n.removeStyle(e,i,r):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),r|=An.Important),n.setStyle(e,i,a,r))}}function l6(n,t,e){n.setAttribute(t,"style",e)}function Ef(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Tf(n,t,e){let{mergedAttrs:i,classes:a,styles:r}=e;i!==null&&od(n,t,i),a!==null&&Ef(n,t,a),r!==null&&l6(n,t,r)}var Ot={};function u(n=1){Pf(Ue(),J(),Xn()+n,!1)}function Pf(n,t,e,i){if(!i)if((t[Y]&3)===3){let r=n.preOrderCheckHooks;r!==null&&Zs(t,r,e)}else{let r=n.preOrderHooks;r!==null&&Ks(t,r,0,e)}$i(e)}function I(n,t=he.Default){let e=J();if(e===null)return P(n,t);let i=ot();return af(i,e,kt(n),t)}function Rf(n,t,e,i,a,r){let o=ge(null);try{let s=null;a&pi.SignalBased&&(s=t[i][Mn]),s!==null&&s.transformFn!==void 0&&(r=s.transformFn(r)),a&pi.HasDecoratorInputTransform&&(r=n.inputTransforms[i].call(t,r)),n.setInput!==null?n.setInput(t,s,r,e,i):Ly(t,s,i,r)}finally{ge(o)}}function d6(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let a=e[i];if(a<0)$i(~a);else{let r=a,o=e[++i],s=e[++i];Z3(o,r);let c=t[r];s(2,c)}}}finally{$i(-1)}}function Gc(n,t,e,i,a,r,o,s,c,l,d){let h=t.blueprint.slice();return h[Zn]=a,h[Y]=i|4|128|8|64,(l!==null||n&&n[Y]&2048)&&(h[Y]|=2048),Ry(h),h[ft]=h[Ka]=n,h[rt]=e,h[Sn]=o||n&&n[Sn],h[je]=s||n&&n[je],h[ja]=c||n&&n[ja]||null,h[Lt]=r,h[Ac]=DM(),h[qa]=d,h[_y]=l,h[St]=t.type==2?n[St]:h,h}function Ya(n,t,e,i,a){let r=n.data[t];if(r===null)r=h6(n,t,e,i,a),$3()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=i,r.attrs=a;let o=B3();r.injectorIndex=o===null?-1:o.injectorIndex}return Yi(r,!0),r}function h6(n,t,e,i,a){let r=jy(),o=gh(),s=o?r:r&&r.parent,c=n.data[t]=g6(n,s,e,t,i,a);return n.firstChild===null&&(n.firstChild=c),r!==null&&(o?r.child==null&&c.parent!==null&&(r.child=c):r.next===null&&(r.next=c,c.prev=r)),c}function Ff(n,t,e,i){if(e===0)return-1;let a=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return a}function Of(n,t,e,i,a){let r=Xn(),o=i&2;try{$i(-1),o&&t.length>Mt&&Pf(n,t,Mt,!1),In(o?2:0,a),e(i,a)}finally{$i(r),In(o?3:1,a)}}function Oh(n,t,e){if(yh(t)){let i=ge(null);try{let a=t.directiveStart,r=t.directiveEnd;for(let o=a;o<r;o++){let s=n.data[o];if(s.contentQueries){let c=e[o];s.contentQueries(1,c,o)}}}finally{ge(i)}}}function Vh(n,t,e){Ny()&&(x6(n,t,e,Xt(e,t)),(e.flags&64)===64&&qf(n,t,e))}function Nh(n,t,e=Xt){let i=t.localNames;if(i!==null){let a=t.index+1;for(let r=0;r<i.length;r+=2){let o=i[r+1],s=o===-1?e(t,n):n[o];n[a++]=s}}}function Vf(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=qh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function qh(n,t,e,i,a,r,o,s,c,l,d){let h=Mt+i,g=h+a,f=u6(h,g),v=typeof l=="function"?l():l;return f[te]={type:n,blueprint:f,template:e,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function u6(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ot);return e}function p6(n,t,e,i){let r=i.get(OM,gf)||e===_n.ShadowDom,o=n.selectRootElement(t,r);return y6(o),o}function y6(n){f6(n)}var f6=()=>null;function m6(n,t,e,i){let a=zf(t);a.push(e),n.firstCreatePass&&Bf(n).push(i,a.length-1)}function g6(n,t,e,i,a,r){let o=t?t.injectorIndex:-1,s=0;return qy()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:a,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vp(n,t,e,i,a){for(let r in t){if(!t.hasOwnProperty(r))continue;let o=t[r];if(o===void 0)continue;i??={};let s,c=pi.None;Array.isArray(o)?(s=o[0],c=o[1]):s=o;let l=r;if(a!==null){if(!a.hasOwnProperty(r))continue;l=a[r]}n===0?Np(i,e,l,s,c):Np(i,e,l,s)}return i}function Np(n,t,e,i,a){let r;n.hasOwnProperty(e)?(r=n[e]).push(t,i):r=n[e]=[t,i],a!==void 0&&r.push(a)}function k6(n,t,e){let i=t.directiveStart,a=t.directiveEnd,r=n.data,o=t.attrs,s=[],c=null,l=null;for(let d=i;d<a;d++){let h=r[d],g=e?e.get(h):null,f=g?g.inputs:null,v=g?g.outputs:null;c=Vp(0,h.inputs,d,c,f),l=Vp(1,h.outputs,d,l,v);let M=c!==null&&o!==null&&!uh(t)?R6(c,d,o):null;s.push(M)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=c,t.outputs=l}function v6(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function jh(n,t,e,i,a,r,o,s){let c=Xt(t,e),l=t.inputs,d;!s&&l!=null&&(d=l[i])?(zh(n,e,d,i,a),Ec(t)&&M6(e,t.index)):t.type&3?(i=v6(i),a=o!=null?o(a,t.value||"",i):a,r.setProperty(c,i,a)):t.type&12}function M6(n,t){let e=Ci(t,n);e[Y]&16||(e[Y]|=64)}function Hh(n,t,e,i){if(Ny()){let a=i===null?null:{"":-1},r=b6(n,e),o,s;r===null?o=s=null:[o,s]=r,o!==null&&Nf(n,t,e,o,a,s),a&&_6(e,i,a)}e.mergedAttrs=Fr(e.mergedAttrs,e.attrs)}function Nf(n,t,e,i,a,r){for(let l=0;l<i.length;l++)md(cc(e,t),n,i[l].type);L6(e,n.data.length,i.length);for(let l=0;l<i.length;l++){let d=i[l];d.providersResolver&&d.providersResolver(d)}let o=!1,s=!1,c=Ff(n,t,i.length,null);for(let l=0;l<i.length;l++){let d=i[l];e.mergedAttrs=Fr(e.mergedAttrs,d.hostAttrs),D6(n,e,t,c,d),S6(c,d,a),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!s&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),s=!0),c++}k6(n,e,r)}function C6(n,t,e,i,a){let r=a.hostBindings;if(r){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let s=~t.index;w6(o)!=s&&o.push(s),o.push(e,i,r)}}function w6(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function x6(n,t,e,i){let a=e.directiveStart,r=e.directiveEnd;Ec(e)&&A6(t,e,n.data[a+e.componentOffset]),n.firstCreatePass||cc(e,t),gi(i,t);let o=e.initialInputs;for(let s=a;s<r;s++){let c=n.data[s],l=Ki(t,n,s,e);if(gi(l,t),o!==null&&P6(t,s-a,l,c,e,o),fi(c)){let d=Ci(e.index,t);d[rt]=Ki(t,n,s,e)}}}function qf(n,t,e){let i=e.directiveStart,a=e.directiveEnd,r=e.index,o=K3();try{$i(r);for(let s=i;s<a;s++){let c=n.data[s],l=t[s];pd(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&I6(c,l)}}finally{$i(-1),pd(o)}}function I6(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function b6(n,t){let e=n.directiveRegistry,i=null,a=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];if(py(t,o.selectors,!1))if(i||(i=[]),fi(o))if(o.findHostDirectiveDefs!==null){let s=[];a=a||new Map,o.findHostDirectiveDefs(o,s,a),i.unshift(...s,o);let c=s.length;_d(n,t,c)}else i.unshift(o),_d(n,t,0);else a=a||new Map,o.findHostDirectiveDefs?.(o,i,a),i.push(o)}return i===null?null:[i,a]}function _d(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function _6(n,t,e){if(t){let i=n.localNames=[];for(let a=0;a<t.length;a+=2){let r=e[t[a+1]];if(r==null)throw new A(-301,!1);i.push(t[a],r)}}}function S6(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;fi(t)&&(e[""]=n)}}function L6(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function D6(n,t,e,i,a){n.data[i]=a;let r=a.factory||(a.factory=Fa(a.type,!0)),o=new Zi(r,fi(a),I);n.blueprint[i]=o,e[i]=o,C6(n,t,i,Ff(n,e,a.hostVars,Ot),a)}function A6(n,t,e){let i=Xt(t,n),a=Vf(e),r=n[Sn].rendererFactory,o=16;e.signals?o=4096:e.onPush&&(o=64);let s=Wc(n,Gc(n,a,null,o,i,t,null,r.createRenderer(i,e),null,null,null));n[t.index]=s}function E6(n,t,e,i,a,r){let o=Xt(n,t);T6(t[je],o,r,n.value,e,i,a)}function T6(n,t,e,i,a,r,o){if(r==null)n.removeAttribute(t,a,e);else{let s=o==null?zi(r):o(r,i||"",a);n.setAttribute(t,a,s,e)}}function P6(n,t,e,i,a,r){let o=r[t];if(o!==null)for(let s=0;s<o.length;){let c=o[s++],l=o[s++],d=o[s++],h=o[s++];Rf(i,e,c,l,d,h)}}function R6(n,t,e){let i=null,a=0;for(;a<e.length;){let r=e[a];if(r===0){a+=4;continue}else if(r===5){a+=2;continue}if(typeof r=="number")break;if(n.hasOwnProperty(r)){i===null&&(i=[]);let o=n[r];for(let s=0;s<o.length;s+=3)if(o[s]===t){i.push(r,o[s+1],o[s+2],e[a+1]);break}}a+=2}return i}function jf(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Hf(n,t){let e=n.contentQueries;if(e!==null){let i=ge(null);try{for(let a=0;a<e.length;a+=2){let r=e[a],o=e[a+1];if(o!==-1){let s=n.data[o];Mh(r),s.contentQueries(2,t[o],o)}}}finally{ge(i)}}}function Wc(n,t){return n[Vr]?n[xp][hn]=t:n[Vr]=t,n[xp]=t,t}function Sd(n,t,e){Mh(0);let i=ge(null);try{t(n,e)}finally{ge(i)}}function zf(n){return n[ic]??=[]}function Bf(n){return n.cleanup??=[]}function Uf(n,t){let e=n[ja],i=e?e.get(Dn,null):null;i&&i.handleError(t)}function zh(n,t,e,i,a){for(let r=0;r<e.length;){let o=e[r++],s=e[r++],c=e[r++],l=t[o],d=n.data[o];Rf(d,l,i,s,c,a)}}function Gf(n,t,e){let i=Py(t,n);$M(n[je],i,e)}function F6(n,t){let e=Ci(t,n),i=e[te];O6(i,e);let a=e[Zn];a!==null&&e[qa]===null&&(e[qa]=Ah(a,e[ja])),Bh(i,e,e[rt])}function O6(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Bh(n,t,e){Ch(t);try{let i=n.viewQuery;i!==null&&Sd(1,i,e);let a=n.template;a!==null&&Of(n,t,a,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Wn]?.finishViewCreation(n),n.staticContentQueries&&Hf(n,t),n.staticViewQueries&&Sd(2,n.viewQuery,e);let r=n.components;r!==null&&V6(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Y]&=-5,wh()}}function V6(n,t){for(let e=0;e<t.length;e++)F6(n,t[e])}function $r(n,t,e,i){let a=ge(null);try{let r=t.tView,s=n[Y]&4096?4096:16,c=Gc(n,r,e,s,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[t.index];c[Ui]=l;let d=n[Wn];return d!==null&&(c[Wn]=d.createEmbeddedView(r)),Bh(r,c,e),c}finally{ge(a)}}function Wf(n,t){let e=pt+t;if(e<n.length)return n[e]}function za(n,t){return!t||t.firstChild===null||hf(n)}function Zr(n,t,e,i=!0){let a=t[te];if(YM(a,t,n,e),i){let o=bd(e,n),s=t[je],c=Sf(s,n[Gi]);c!==null&&XM(a,n[Lt],s,t,c,o)}let r=t[qa];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function $f(n,t){let e=Nr(n,t);return e!==void 0&&zc(e[te],e),e}function pc(n,t,e,i,a=!1){for(;e!==null;){if(e.type===128){e=a?e.projectionNext:e.next;continue}let r=t[e.index];r!==null&&i.push(Ln(r)),Kn(r)&&N6(r,i);let o=e.type;if(o&8)pc(n,t,e.child,i);else if(o&32){let s=Ph(e,t),c;for(;c=s();)i.push(c)}else if(o&16){let s=Df(t,e);if(Array.isArray(s))i.push(...s);else{let c=Wi(t[St]);pc(c[te],c,s,i,!0)}}e=a?e.projectionNext:e.next}return i}function N6(n,t){for(let e=pt;e<n.length;e++){let i=n[e],a=i[te].firstChild;a!==null&&pc(i[te],i,a,t)}n[Gi]!==n[Zn]&&t.push(n[Gi])}var Zf=[];function q6(n){return n[Zt]??j6(n)}function j6(n){let t=Zf.pop()??Object.create(z6);return t.lView=n,t}function H6(n){n.lView[Zt]!==n&&(n.lView=null,Zf.push(n))}var z6=de(E({},ua),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Rc(n.lView)},consumerOnSignalRead(){this.lView[Zt]=this}});function B6(n){let t=n[Zt]??Object.create(U6);return t.lView=n,t}var U6=de(E({},ua),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=Wi(n.lView);for(;t&&!Kf(t[te]);)t=Wi(t);t&&Fy(t)},consumerOnSignalRead(){this.lView[Zt]=this}});function Kf(n){return n.type!==2}var G6=100;function Xf(n,t=!0,e=0){let i=n[Sn],a=i.rendererFactory,r=!1;r||a.begin?.();try{W6(n,e)}catch(o){throw t&&Uf(n,o),o}finally{r||(a.end?.(),i.inlineEffectRunner?.flush())}}function W6(n,t){let e=Hy();try{bp(!0),Ld(n,t);let i=0;for(;Pc(n);){if(i===G6)throw new A(103,!1);i++,Ld(n,1)}}finally{bp(e)}}function $6(n,t,e,i){let a=t[Y];if((a&256)===256)return;let r=!1,o=!1;!r&&t[Sn].inlineEffectRunner?.flush(),Ch(t);let s=!0,c=null,l=null;r||(Kf(n)?(l=q6(t),c=Sr(l)):x0()===null?(s=!1,l=B6(t),c=Sr(l)):t[Zt]&&(cs(t[Zt]),t[Zt]=null));try{Ry(t),W3(n.bindingStartIndex),e!==null&&Of(n,t,e,2,i);let d=(a&3)===3;if(!r)if(d){let f=n.preOrderCheckHooks;f!==null&&Zs(t,f,null)}else{let f=n.preOrderHooks;f!==null&&Ks(t,f,0,null),Gl(t,0)}if(o||Z6(t),Qf(t,0),n.contentQueries!==null&&Hf(n,t),!r)if(d){let f=n.contentCheckHooks;f!==null&&Zs(t,f)}else{let f=n.contentHooks;f!==null&&Ks(t,f,1),Gl(t,1)}d6(n,t);let h=n.components;h!==null&&Jf(t,h,0);let g=n.viewQuery;if(g!==null&&Sd(2,g,i),!r)if(d){let f=n.viewCheckHooks;f!==null&&Zs(t,f)}else{let f=n.viewHooks;f!==null&&Ks(t,f,2),Gl(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[$s]){for(let f of t[$s])f();t[$s]=null}r||(t[Y]&=-73)}catch(d){throw r||Rc(t),d}finally{l!==null&&(os(l,c),s&&H6(l)),wh()}}function Qf(n,t){for(let e=pf(n);e!==null;e=yf(e))for(let i=pt;i<e.length;i++){let a=e[i];Yf(a,t)}}function Z6(n){for(let t=pf(n);t!==null;t=yf(t)){if(!(t[Y]&rc.HasTransplantedViews))continue;let e=t[Ha];for(let i=0;i<e.length;i++){let a=e[i];Fy(a)}}}function K6(n,t,e){let i=Ci(t,n);Yf(i,e)}function Yf(n,t){mh(n)&&Ld(n,t)}function Ld(n,t){let i=n[te],a=n[Y],r=n[Zt],o=!!(t===0&&a&16);if(o||=!!(a&64&&t===0),o||=!!(a&1024),o||=!!(r?.dirty&&ss(r)),o||=!1,r&&(r.dirty=!1),n[Y]&=-9217,o)$6(i,n,i.template,n[rt]);else if(a&8192){Qf(n,1);let s=i.components;s!==null&&Jf(n,s,1)}}function Jf(n,t,e){for(let i=0;i<t.length;i++)K6(n,t[i],e)}function Uh(n,t){let e=Hy()?64:1088;for(n[Sn].changeDetectionScheduler?.notify(t);n;){n[Y]|=e;let i=Wi(n);if(dd(n)&&!i)return n;n=i}return null}var Xi=class{get rootNodes(){let t=this._lView,e=t[te];return pc(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(t){this._lView[rt]=t}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ft];if(Kn(t)){let e=t[ac],i=e?e.indexOf(this):-1;i>-1&&(Nr(t,i),tc(e,i))}this._attachedToViewContainer=!1}zc(this._lView[te],this._lView)}onDestroy(t){Oy(this._lView,t)}markForCheck(){Uh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){ud(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Xf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=dd(this._lView),e=this._lView[Ui];e!==null&&!t&&Rh(e,this._lView),xf(this._lView[te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let e=dd(this._lView),i=this._lView[Ui];i!==null&&!e&&If(i,this._lView),ud(this._lView)}},ke=(()=>{class n{static{this.__NG_ELEMENT_ID__=Y6}}return n})(),X6=ke,Q6=class extends X6{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let a=$r(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Xi(a)}};function Y6(){return $c(ot(),J())}function $c(n,t){return n.type&4?new Q6(t,n,Qa(n,t)):null}var EF=new RegExp(`^(\\d+)*(${RM}|${PM})*(.*)`);var J6=()=>null;function Ba(n,t){return J6(n,t)}var Ua=class{},Gh=new V("",{providedIn:"root",factory:()=>!1});var em=new V(""),tm=new V(""),Dd=class{},yc=class{};function e8(n){let t=Error(`No component factory found for ${vt(n)}.`);return t[t8]=n,t}var t8="ngComponent";var Ad=class{resolveComponentFactory(t){throw e8(t)}},Ga=class{static{this.NULL=new Ad}},ki=class{},Dt=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>n8()}}return n})();function n8(){let n=J(),t=ot(),e=Ci(t.index,n);return(ui(e)?e:n)[je]}var i8=(()=>{class n{static{this.\u0275prov=D({token:n,providedIn:"root",factory:()=>null})}}return n})();function fc(n,t,e){let i=e?n.styles:null,a=e?n.classes:null,r=0;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];if(typeof s=="number")r=s;else if(r==1)a=nd(a,s);else if(r==2){let c=s,l=t[++o];i=nd(i,c+": "+l+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=a:n.classesWithoutHost=a}var mc=class extends Ga{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=yi(t);return new Wa(e,this.ngModule)}};function qp(n,t){let e=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let a=n[i];if(a===void 0)continue;let r=Array.isArray(a),o=r?a[0]:a,s=r?a[1]:pi.None;t?e.push({propName:o,templateName:i,isSignal:(s&pi.SignalBased)!==0}):e.push({propName:o,templateName:i})}return e}function a8(n){let t=n.toLowerCase();return t==="svg"?Ty:t==="math"?T3:null}var Wa=class extends yc{get inputs(){let t=this.componentDef,e=t.inputTransforms,i=qp(t.inputs,!0);if(e!==null)for(let a of i)e.hasOwnProperty(a.propName)&&(a.transform=e[a.propName]);return i}get outputs(){return qp(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=u3(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,a){let r=ge(null);try{a=a||this.ngModule;let o=a instanceof yt?a:a?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new yd(t,o):t,c=s.get(ki,null);if(c===null)throw new A(407,!1);let l=s.get(i8,null),d=s.get(Ua,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:d},g=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",v=i?p6(g,i,this.componentDef.encapsulation,s):wf(g,f,a8(f)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let S=null;v!==null&&(S=Ah(v,s,!0));let F=qh(0,null,null,1,0,null,null,null,null,null,null),B=Gc(null,F,null,M,null,null,h,g,s,null,S);Ch(B);let U,ee,Pe=null;try{let Me=this.componentDef,be,ze=null;Me.findHostDirectiveDefs?(be=[],ze=new Map,Me.findHostDirectiveDefs(Me,be,ze),be.push(Me)):be=[Me];let Tt=r8(B,v);Pe=o8(Tt,v,Me,be,B,h,g),ee=fh(F,Mt),v&&l8(g,Me,v,i),e!==void 0&&d8(ee,this.ngContentSelectors,e),U=c8(Pe,Me,be,ze,B,[h8]),Bh(F,B,null)}catch(Me){throw Pe!==null&&xd(Pe),xd(B),Me}finally{wh()}return new Ed(this.componentType,U,Qa(ee,B),B,ee)}finally{ge(r)}}},Ed=class extends Dd{constructor(t,e,i,a,r){super(),this.location=i,this._rootLView=a,this._tNode=r,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Xi(a,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode.inputs,a;if(i!==null&&(a=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView;zh(r[te],r,a,t,e),this.previousInputValues.set(t,e);let o=Ci(this._tNode.index,r);Uh(o,1)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function r8(n,t){let e=n[te],i=Mt;return n[i]=t,Ya(e,i,2,"#host",null)}function o8(n,t,e,i,a,r,o){let s=a[te];s8(i,n,t,o);let c=null;t!==null&&(c=Ah(t,a[ja]));let l=r.rendererFactory.createRenderer(t,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let h=Gc(a,Vf(e),null,d,a[n.index],n,r,l,null,null,c);return s.firstCreatePass&&_d(s,n,i.length-1),Wc(a,h),a[n.index]=h}function s8(n,t,e,i){for(let a of n)t.mergedAttrs=Fr(t.mergedAttrs,a.hostAttrs);t.mergedAttrs!==null&&(fc(t,t.mergedAttrs,!0),e!==null&&Tf(i,e,t))}function c8(n,t,e,i,a,r){let o=ot(),s=a[te],c=Xt(o,a);Nf(s,a,o,e,null,i);for(let d=0;d<e.length;d++){let h=o.directiveStart+d,g=Ki(a,s,h,o);gi(g,a)}qf(s,a,o),c&&gi(c,a);let l=Ki(a,s,o.directiveStart+o.componentOffset,o);if(n[rt]=a[rt]=l,r!==null)for(let d of r)d(l,t);return Oh(s,o,a),l}function l8(n,t,e,i){if(i)od(n,e,["ng-version","18.2.5"]);else{let{attrs:a,classes:r}=p3(t.selectors[0]);a&&od(n,e,a),r&&r.length>0&&Ef(n,e,r.join(" "))}}function d8(n,t,e){let i=n.projection=[];for(let a=0;a<t.length;a++){let r=e[a];i.push(r!=null?Array.from(r):null)}}function h8(){let n=ot();qc(J()[te],n)}var Vt=(()=>{class n{static{this.__NG_ELEMENT_ID__=u8}}return n})();function u8(){let n=ot();return im(n,J())}var p8=Vt,nm=class extends p8{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let t=xh(this._hostTNode,this._hostLView);if(Qy(t)){let e=sc(t,this._hostLView),i=oc(t),a=e[te].data[i+8];return new Bi(a,e)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=jp(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,e,i){let a,r;typeof i=="number"?a=i:i!=null&&(a=i.index,r=i.injector);let o=Ba(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},r,o);return this.insertImpl(s,a,za(this._hostTNode,o)),s}createComponent(t,e,i,a,r){let o=t&&!L3(t),s;if(o)s=e;else{let v=e||{};s=v.index,i=v.injector,a=v.projectableNodes,r=v.environmentInjector||v.ngModuleRef}let c=o?t:new Wa(yi(t)),l=i||this.parentInjector;if(!r&&c.ngModule==null){let M=(o?l:this.parentInjector).get(yt,null);M&&(r=M)}let d=yi(c.componentType??{}),h=Ba(this._lContainer,d?.id??null),g=h?.firstChild??null,f=c.create(l,a,g,r);return this.insertImpl(f.hostView,s,za(this._hostTNode,h)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let a=t._lView;if(F3(a)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=a[ft],l=new nm(c,c[Lt],c[ft]);l.detach(l.indexOf(t))}}let r=this._adjustIndex(e),o=this._lContainer;return Zr(o,a,r,i),t.attachToViewContainerRef(),sy(Xl(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=jp(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=Nr(this._lContainer,e);i&&(tc(Xl(this._lContainer),e),zc(i[te],i))}detach(t){let e=this._adjustIndex(t,-1),i=Nr(this._lContainer,e);return i&&tc(Xl(this._lContainer),e)!=null?new Xi(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function jp(n){return n[ac]}function Xl(n){return n[ac]||(n[ac]=[])}function im(n,t){let e,i=t[n.index];return Kn(i)?e=i:(e=jf(i,t,null,n),t[n.index]=e,Wc(t,e)),f8(e,t,n,i),new nm(e,n,t)}function y8(n,t){let e=n[je],i=e.createComment(""),a=Xt(t,n),r=Sf(e,a);return uc(e,r,i,n6(e,a),!1),i}var f8=k8,m8=()=>!1;function g8(n,t,e){return m8(n,t,e)}function k8(n,t,e,i){if(n[Gi])return;let a;e.type&8?a=Ln(i):a=y8(t,e),n[Gi]=a}var Td=class n{constructor(t){this.queryList=t,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pd=class n{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,a=[];for(let r=0;r<i;r++){let o=e.getByIndex(r),s=this.queries[o.indexInDeclarationView];a.push(s.clone())}return new n(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Wh(t,e).matches!==null&&this.queries[e].setDirty()}},gc=class{constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=_8(t):this.predicate=t}},Rd=class n{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let a=e!==null?e.length:0,r=this.getByIndex(i).embeddedTView(t,a);r&&(r.indexInDeclarationView=i,e!==null?e.push(r):e=[r])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Fd=class n{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){let r=i[a];this.matchTNodeWithReadOption(t,e,v8(e,r)),this.matchTNodeWithReadOption(t,e,Xs(e,t,r,!1,!1))}else i===ke?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xs(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let a=this.metadata.read;if(a!==null)if(a===ve||a===Vt||a===ke&&e.type&4)this.addMatch(e.index,-2);else{let r=Xs(e,t,a,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function v8(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function M8(n,t){return n.type&11?Qa(n,t):n.type&4?$c(n,t):null}function C8(n,t,e,i){return e===-1?M8(t,n):e===-2?w8(n,t,i):Ki(n,n[te],e,t)}function w8(n,t,e){if(e===ve)return Qa(t,n);if(e===ke)return $c(t,n);if(e===Vt)return im(t,n)}function am(n,t,e,i){let a=t[Wn].queries[i];if(a.matches===null){let r=n.data,o=e.matches,s=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)s.push(null);else{let d=r[l];s.push(C8(t,d,o[c+1],e.metadata.read))}}a.matches=s}return a.matches}function Od(n,t,e,i){let a=n.queries.getByIndex(e),r=a.matches;if(r!==null){let o=am(n,t,a,e);for(let s=0;s<r.length;s+=2){let c=r[s];if(c>0)i.push(o[s/2]);else{let l=r[s+1],d=t[-c];for(let h=pt;h<d.length;h++){let g=d[h];g[Ui]===g[ft]&&Od(g[te],g,l,i)}if(d[Ha]!==null){let h=d[Ha];for(let g=0;g<h.length;g++){let f=h[g];Od(f[te],f,l,i)}}}}}return i}function x8(n,t){return n[Wn].queries[t].queryList}function rm(n,t,e){let i=new wd((e&4)===4);return m6(n,t,i,i.destroy),(t[Wn]??=new Pd).queries.push(new Td(i))-1}function I8(n,t,e){let i=Ue();return i.firstCreatePass&&(om(i,new gc(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),rm(i,J(),t)}function b8(n,t,e,i){let a=Ue();if(a.firstCreatePass){let r=ot();om(a,new gc(t,e,i),r.index),S8(a,n),(e&2)===2&&(a.staticContentQueries=!0)}return rm(a,J(),e)}function _8(n){return n.split(",").map(t=>t.trim())}function om(n,t,e){n.queries===null&&(n.queries=new Rd),n.queries.track(new Fd(t,e))}function S8(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function Wh(n,t){return n.queries.getByIndex(t)}function L8(n,t){let e=n[te],i=Wh(e,t);return i.crossesNgTemplate?Od(e,n,t,[]):am(e,n,i,t)}var Hp=new Set;function Qt(n){Hp.has(n)||(Hp.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function D8(n){return typeof n=="function"&&n[Mn]!==void 0}function Fe(n,t){Qt("NgSignals");let e=F0(n),i=e[Mn];return t?.equal&&(i.equal=t.equal),e.set=a=>xl(i,a),e.update=a=>O0(i,a),e.asReadonly=A8.bind(e),e}function A8(){let n=this[Mn];if(n.readonlyFn===void 0){let t=()=>this();t[Mn]=n,n.readonlyFn=t}return n.readonlyFn}function sm(n){return D8(n)&&typeof n.set=="function"}function E8(n){return Object.getPrototypeOf(n.prototype).constructor}function fn(n){let t=E8(n.type),e=!0,i=[n];for(;t;){let a;if(fi(n))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);a=t.\u0275dir}if(a){if(e){i.push(a);let o=n;o.inputs=Bs(n.inputs),o.inputTransforms=Bs(n.inputTransforms),o.declaredInputs=Bs(n.declaredInputs),o.outputs=Bs(n.outputs);let s=a.hostBindings;s&&O8(n,s);let c=a.viewQuery,l=a.contentQueries;if(c&&R8(n,c),l&&F8(n,l),T8(n,a),Ev(n.outputs,a.outputs),fi(a)&&a.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(a.data.animation)}}let r=a.features;if(r)for(let o=0;o<r.length;o++){let s=r[o];s&&s.ngInherit&&s(n),s===fn&&(e=!1)}}t=Object.getPrototypeOf(t)}P8(i)}function T8(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];if(i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let a=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(a))continue;n.inputTransforms??={},n.inputTransforms[a]=t.inputTransforms[a]}}}function P8(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let a=n[i];a.hostVars=t+=a.hostVars,a.hostAttrs=Fr(a.hostAttrs,e=Fr(e,a.hostAttrs))}}function Bs(n){return n===Oa?{}:n===_t?[]:n}function R8(n,t){let e=n.viewQuery;e?n.viewQuery=(i,a)=>{t(i,a),e(i,a)}:n.viewQuery=t}function F8(n,t){let e=n.contentQueries;e?n.contentQueries=(i,a,r)=>{t(i,a,r),e(i,a,r)}:n.contentQueries=t}function O8(n,t){let e=n.hostBindings;e?n.hostBindings=(i,a)=>{t(i,a),e(i,a)}:n.hostBindings=t}function Nt(n){let t=n.inputConfig,e={};for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)&&a[3]&&(e[i]=a[3])}n.inputTransforms=e}var vi=class{},qr=class{};var Vd=class extends vi{constructor(t,e,i,a=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mc(this);let r=gy(t);this._bootstrapComponents=Cf(r.bootstrap),this._r3Injector=sf(t,e,[{provide:vi,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver},...i],vt(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Nd=class extends qr{constructor(t){super(),this.moduleType=t}create(t){return new Vd(this.moduleType,t,[])}};var kc=class extends vi{constructor(t){super(),this.componentFactoryResolver=new mc(this),this.instance=null;let e=new Or([...t.providers,{provide:vi,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],t.parent||Dc(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function $h(n,t,e=null){return new kc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function cm(n){return Zh(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function V8(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function Zh(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Kr(n,t,e){return n[t]=e}function N8(n,t){return n[t]}function Kt(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function jr(n,t,e,i){let a=Kt(n,t,e);return Kt(n,t+1,i)||a}function lm(n,t,e,i,a){let r=jr(n,t,e,i);return Kt(n,t+2,a)||r}function dm(n,t,e,i,a,r){let o=jr(n,t,e,i);return jr(n,t+2,a,r)||o}function q8(n){return(n.flags&32)===32}function j8(n,t,e,i,a,r,o,s,c){let l=t.consts,d=Ya(t,n,4,o||null,s||null);Hh(t,e,d,mi(l,c)),qc(t,d);let h=d.tView=qh(2,d,i,a,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}function vc(n,t,e,i,a,r,o,s,c,l){let d=e+Mt,h=t.firstCreatePass?j8(d,t,n,i,a,r,o,s,c):t.data[d];Yi(h,!1);let g=H8(t,n,h,e);Vc()&&Bc(t,n,g,h),gi(g,n);let f=jf(g,n,g,h);return n[d]=f,Wc(n,f),g8(f,h,n),Tc(h)&&Vh(t,n,h),c!=null&&Nh(n,h,l),h}function T(n,t,e,i,a,r,o,s){let c=J(),l=Ue(),d=mi(l.consts,r);return vc(c,l,n,t,e,i,a,d,o,s),T}var H8=z8;function z8(n,t,e,i){return Nc(!0),t[je].createComment("")}var Ta=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ta||{}),hm=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}}return n})(),qd=class n{constructor(){this.ngZone=L(Ce),this.scheduler=L(Ua),this.errorHandler=L(Dn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ta.EarlyRead,Ta.Write,Ta.MixedReadWrite,Ta.Read]}execute(){this.executing=!0;for(let t of n.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[t]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=D({token:n,providedIn:"root",factory:()=>new n})}},jd=class{constructor(t,e,i,a){this.impl=t,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Zc(n,t){!t?.injector&&by(Zc);let e=t?.injector??L(Ft);return UM(e)?(Qt("NgAfterNextRender"),U8(n,e,t,!0)):G8}function B8(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function U8(n,t,e,i){let a=t.get(hm);a.impl??=t.get(qd);let r=e?.phase??Ta.MixedReadWrite,o=new jd(a.impl,B8(n,r),i,t.get(jc));return a.impl.register(o),o}var G8={destroy(){}};function st(n,t,e,i){let a=J(),r=Xa();if(Kt(a,r,t)){let o=Ue(),s=Fc();E6(s,a,n,t,e,i)}return st}function um(n,t,e,i){return Kt(n,Xa(),e)?t+zi(e)+i:Ot}function W8(n,t,e,i,a,r,o,s){let c=G3(),l=lm(n,c,e,a,o);return vh(3),l?t+zi(e)+i+zi(a)+r+zi(o)+s:Ot}function Us(n,t){return n<<17|t<<2}function Qi(n){return n>>17&32767}function $8(n){return(n&2)==2}function Z8(n,t){return n&131071|t<<17}function Hd(n){return n|2}function $a(n){return(n&131068)>>2}function Ql(n,t){return n&-131069|t<<2}function K8(n){return(n&1)===1}function zd(n){return n|1}function X8(n,t,e,i,a,r){let o=r?t.classBindings:t.styleBindings,s=Qi(o),c=$a(o);n[i]=e;let l=!1,d;if(Array.isArray(e)){let h=e;d=h[1],(d===null||Br(h,d)>0)&&(l=!0)}else d=e;if(a)if(c!==0){let g=Qi(n[s+1]);n[i+1]=Us(g,s),g!==0&&(n[g+1]=Ql(n[g+1],i)),n[s+1]=Z8(n[s+1],i)}else n[i+1]=Us(s,0),s!==0&&(n[s+1]=Ql(n[s+1],i)),s=i;else n[i+1]=Us(c,0),s===0?s=i:n[c+1]=Ql(n[c+1],i),c=i;l&&(n[i+1]=Hd(n[i+1])),zp(n,d,i,!0),zp(n,d,i,!1),Q8(t,d,n,i,r),o=Us(s,c),r?t.classBindings=o:t.styleBindings=o}function Q8(n,t,e,i,a){let r=a?n.residualClasses:n.residualStyles;r!=null&&typeof t=="string"&&Br(r,t)>=0&&(e[i+1]=zd(e[i+1]))}function zp(n,t,e,i){let a=n[e+1],r=t===null,o=i?Qi(a):$a(a),s=!1;for(;o!==0&&(s===!1||r);){let c=n[o],l=n[o+1];Y8(c,t)&&(s=!0,n[o+1]=i?zd(l):Hd(l)),o=i?Qi(l):$a(l)}s&&(n[e+1]=i?Hd(a):zd(a))}function Y8(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Br(n,t)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function J8(n){return n.substring(dn.key,dn.keyEnd)}function e7(n){return t7(n),pm(n,ym(n,0,dn.textEnd))}function pm(n,t){let e=dn.textEnd;return e===t?-1:(t=dn.keyEnd=n7(n,dn.key=t,e),ym(n,t,e))}function t7(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function ym(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function n7(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function m(n,t,e){let i=J(),a=Xa();if(Kt(i,a,t)){let r=Ue(),o=Fc();jh(r,o,i,n,t,i[je],e,!1)}return m}function Bd(n,t,e,i,a){let r=t.inputs,o=a?"class":"style";zh(n,e,r[o],o,i)}function Xr(n,t,e){return fm(n,t,e,!1),Xr}function Ge(n,t){return fm(n,t,null,!0),Ge}function Ji(n){a7(d7,i7,n,!0)}function i7(n,t){for(let e=e7(t);e>=0;e=pm(t,e))hh(n,J8(t),!0)}function fm(n,t,e,i){let a=J(),r=Ue(),o=vh(2);if(r.firstUpdatePass&&gm(r,n,o,i),t!==Ot&&Kt(a,o,t)){let s=r.data[Xn()];km(r,s,a,a[je],n,a[o+1]=u7(t,e),i,o)}}function a7(n,t,e,i){let a=Ue(),r=vh(2);a.firstUpdatePass&&gm(a,null,r,i);let o=J();if(e!==Ot&&Kt(o,r,e)){let s=a.data[Xn()];if(vm(s,i)&&!mm(a,r)){let c=i?s.classesWithoutHost:s.stylesWithoutHost;c!==null&&(e=nd(c,e||"")),Bd(a,s,o,e,i)}else h7(a,s,o,o[je],o[r+1],o[r+1]=l7(n,t,e),i,r)}}function mm(n,t){return t>=n.expandoStartIndex}function gm(n,t,e,i){let a=n.data;if(a[e+1]===null){let r=a[Xn()],o=mm(n,e);vm(r,i)&&t===null&&!o&&(t=!1),t=r7(a,r,t,i),X8(a,r,t,e,o,i)}}function r7(n,t,e,i){let a=X3(n),r=i?t.residualClasses:t.residualStyles;if(a===null)(i?t.classBindings:t.styleBindings)===0&&(e=Yl(null,n,t,e,i),e=Hr(e,t.attrs,i),r=null);else{let o=t.directiveStylingLast;if(o===-1||n[o]!==a)if(e=Yl(a,n,t,e,i),r===null){let c=o7(n,t,i);c!==void 0&&Array.isArray(c)&&(c=Yl(null,n,t,c[1],i),c=Hr(c,t.attrs,i),s7(n,t,i,c))}else r=c7(n,t,i)}return r!==void 0&&(i?t.residualClasses=r:t.residualStyles=r),e}function o7(n,t,e){let i=e?t.classBindings:t.styleBindings;if($a(i)!==0)return n[Qi(i)]}function s7(n,t,e,i){let a=e?t.classBindings:t.styleBindings;n[Qi(a)]=i}function c7(n,t,e){let i,a=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<a;r++){let o=n[r].hostAttrs;i=Hr(i,o,e)}return Hr(i,t.attrs,e)}function Yl(n,t,e,i,a){let r=null,o=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<o&&(r=t[s],i=Hr(i,r.hostAttrs,a),r!==n);)s++;return n!==null&&(e.directiveStylingLast=s),i}function Hr(n,t,e){let i=e?1:2,a=-1;if(t!==null)for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?a=o:a===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hh(n,o,e?!0:t[++r]))}return n===void 0?null:n}function l7(n,t,e){if(e==null||e==="")return _t;let i=[],a=Wr(e);if(Array.isArray(a))for(let r=0;r<a.length;r++)n(i,a[r],!0);else if(typeof a=="object")for(let r in a)a.hasOwnProperty(r)&&n(i,r,a[r]);else typeof a=="string"&&t(i,a);return i}function d7(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&hh(n,i,e)}function h7(n,t,e,i,a,r,o,s){a===Ot&&(a=_t);let c=0,l=0,d=0<a.length?a[0]:null,h=0<r.length?r[0]:null;for(;d!==null||h!==null;){let g=c<a.length?a[c+1]:void 0,f=l<r.length?r[l+1]:void 0,v=null,M;d===h?(c+=2,l+=2,g!==f&&(v=h,M=f)):h===null||d!==null&&d<h?(c+=2,v=d):(l+=2,v=h,M=f),v!==null&&km(n,t,e,i,v,M,o,s),d=c<a.length?a[c]:null,h=l<r.length?r[l]:null}}function km(n,t,e,i,a,r,o,s){if(!(t.type&3))return;let c=n.data,l=c[s+1],d=K8(l)?Bp(c,t,e,a,$a(l),o):void 0;if(!Mc(d)){Mc(r)||$8(l)&&(r=Bp(c,null,e,a,s,o));let h=Py(Xn(),e);c6(i,o,h,a,r)}}function Bp(n,t,e,i,a,r){let o=t===null,s;for(;a>0;){let c=n[a],l=Array.isArray(c),d=l?c[1]:c,h=d===null,g=e[a+1];g===Ot&&(g=h?_t:void 0);let f=h?Bl(g,i):d===i?g:void 0;if(l&&!Mc(f)&&(f=Bl(c,i)),Mc(f)&&(s=f,o))return s;let v=n[a+1];a=o?Qi(v):$a(v)}if(t!==null){let c=r?t.residualClasses:t.residualStyles;c!=null&&(s=Bl(c,i))}return s}function Mc(n){return n!==void 0}function u7(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=vt(Wr(n)))),n}function vm(n,t){return(n.flags&(t?8:16))!==0}function Kh(){return J()[St][rt]}var Ud=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),a=Math.max(t,e),r=this.detach(a);if(a-i>1){let o=this.detach(i);this.attach(i,r),this.attach(a,o)}else this.attach(i,r)}move(t,e){this.attach(e,this.detach(t))}};function Jl(n,t,e,i,a){return n===e&&Object.is(t,i)?1:Object.is(a(n,t),a(e,i))?-1:0}function p7(n,t,e){let i,a,r=0,o=n.length-1,s=void 0;if(Array.isArray(t)){let c=t.length-1;for(;r<=o&&r<=c;){let l=n.at(r),d=t[r],h=Jl(r,l,r,d,e);if(h!==0){h<0&&n.updateValue(r,d),r++;continue}let g=n.at(o),f=t[c],v=Jl(o,g,c,f,e);if(v!==0){v<0&&n.updateValue(o,f),o--,c--;continue}let M=e(r,l),S=e(o,g),F=e(r,d);if(Object.is(F,S)){let B=e(c,f);Object.is(B,M)?(n.swap(r,o),n.updateValue(o,f),c--,o--):n.move(o,r),n.updateValue(r,d),r++;continue}if(i??=new Cc,a??=Gp(n,r,o,e),Gd(n,i,r,F))n.updateValue(r,d),r++,o++;else if(a.has(F))i.set(M,n.detach(r)),o--;else{let B=n.create(r,t[r]);n.attach(r,B),r++,o++}}for(;r<=c;)Up(n,i,e,r,t[r]),r++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&r<=o;){let d=n.at(r),h=l.value,g=Jl(r,d,r,h,e);if(g!==0)g<0&&n.updateValue(r,h),r++,l=c.next();else{i??=new Cc,a??=Gp(n,r,o,e);let f=e(r,h);if(Gd(n,i,r,f))n.updateValue(r,h),r++,o++,l=c.next();else if(!a.has(f))n.attach(r,n.create(r,h)),r++,o++,l=c.next();else{let v=e(r,d);i.set(v,n.detach(r)),o--}}}for(;!l.done;)Up(n,i,e,n.length,l.value),l=c.next()}for(;r<=o;)n.destroy(n.detach(o--));i?.forEach(c=>{n.destroy(c)})}function Gd(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function Up(n,t,e,i,a){if(Gd(n,t,i,e(i,a)))n.updateValue(i,a);else{let r=n.create(i,a);n.attach(i,r)}}function Gp(n,t,e,i){let a=new Set;for(let r=t;r<=e;r++)a.add(i(r,n.at(r)));return a}var Cc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let a=this._vMap;for(;a.has(i);)i=a.get(i);a.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let a=this._vMap;for(;a.has(i);)i=a.get(i),t(i,e)}}};function qt(n,t){Qt("NgControlFlow");let e=J(),i=Xa(),a=e[i]!==Ot?e[i]:-1,r=a!==-1?wc(e,Mt+a):void 0,o=0;if(Kt(e,i,n)){let s=ge(null);try{if(r!==void 0&&$f(r,o),n!==-1){let c=Mt+n,l=wc(e,c),d=Kd(e[te],c),h=Ba(l,d.tView.ssrId),g=$r(e,d,t,{dehydratedView:h});Zr(l,g,o,za(d,h))}}finally{ge(s)}}else if(r!==void 0){let s=Wf(r,o);s!==void 0&&(s[rt]=t)}}var Wd=class{constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-pt}};var $d=class{constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function Xh(n,t,e,i,a,r,o,s,c,l,d,h,g){Qt("NgControlFlow");let f=J(),v=Ue(),M=c!==void 0,S=J(),F=s?o.bind(S[St][rt]):o,B=new $d(M,F);S[Mt+n]=B,vc(f,v,n+1,t,e,i,a,mi(v.consts,r)),M&&vc(f,v,n+2,c,l,d,h,mi(v.consts,g))}var Zd=class extends Ud{constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-pt}at(t){return this.getLView(t)[rt].$implicit}attach(t,e){let i=e[qa];this.needsIndexUpdate||=t!==this.length,Zr(this.lContainer,e,t,za(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,y7(this.lContainer,t)}create(t,e){let i=Ba(this.lContainer,this.templateTNode.tView.ssrId),a=$r(this.hostLView,this.templateTNode,new Wd(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),a}destroy(t){zc(t[te],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[rt].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[rt].$index=t}getLView(t){return f7(this.lContainer,t)}};function Qh(n){let t=ge(null),e=Xn();try{let i=J(),a=i[te],r=i[e],o=e+1,s=wc(i,o);if(r.liveCollection===void 0){let l=Kd(a,o);r.liveCollection=new Zd(s,i,l)}else r.liveCollection.reset();let c=r.liveCollection;if(p7(c,n,r.trackByFn),c.updateIndexes(),r.hasEmptyBlock){let l=Xa(),d=c.length===0;if(Kt(i,l,d)){let h=e+2,g=wc(i,h);if(d){let f=Kd(a,h),v=Ba(g,f.tView.ssrId),M=$r(i,f,void 0,{dehydratedView:v});Zr(g,M,0,za(f,v))}else $f(g,0)}}}finally{ge(t)}}function wc(n,t){return n[t]}function y7(n,t){return Nr(n,t)}function f7(n,t){return Wf(n,t)}function Kd(n,t){return fh(n,t)}function m7(n,t,e,i,a,r){let o=t.consts,s=mi(o,a),c=Ya(t,n,2,i,s);return Hh(t,e,c,mi(o,r)),c.attrs!==null&&fc(c,c.attrs,!1),c.mergedAttrs!==null&&fc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function y(n,t,e,i){let a=J(),r=Ue(),o=Mt+n,s=a[je],c=r.firstCreatePass?m7(o,r,a,t,e,i):r.data[o],l=g7(r,a,c,s,t,n);a[o]=l;let d=Tc(c);return Yi(c,!0),Tf(s,l,c),!q8(c)&&Vc()&&Bc(r,a,l,c),N3()===0&&gi(l,a),q3(),d&&(Vh(r,a,c),Oh(r,c,a)),i!==null&&Nh(a,c),y}function p(){let n=ot();gh()?kh():(n=n.parent,Yi(n,!1));let t=n;H3(t)&&z3(),j3();let e=Ue();return e.firstCreatePass&&(qc(e,n),yh(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&aM(t)&&Bd(e,t,J(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&rM(t)&&Bd(e,t,J(),t.stylesWithoutHost,!1),p}function H(n,t,e,i){return y(n,t,e,i),p(),H}var g7=(n,t,e,i,a,r)=>(Nc(!0),wf(i,a,eM()));function k7(n,t,e,i,a){let r=t.consts,o=mi(r,i),s=Ya(t,n,8,"ng-container",o);o!==null&&fc(s,o,!0);let c=mi(r,a);return Hh(t,e,s,c),t.queries!==null&&t.queries.elementStart(t,s),s}function ye(n,t,e){let i=J(),a=Ue(),r=n+Mt,o=a.firstCreatePass?k7(r,a,i,t,e):a.data[r];Yi(o,!0);let s=v7(a,i,o,n);return i[r]=s,Vc()&&Bc(a,i,s,o),gi(s,i),Tc(o)&&(Vh(a,i,o),Oh(a,o,i)),e!=null&&Nh(i,o),ye}function fe(){let n=ot(),t=Ue();return gh()?kh():(n=n.parent,Yi(n,!1)),t.firstCreatePass&&(qc(t,n),yh(n)&&t.queries.elementEnd(n)),fe}function Kc(n,t,e){return ye(n,t,e),fe(),Kc}var v7=(n,t,e,i)=>(Nc(!0),ZM(t[je],""));function G(){return J()}var xc="en-US";var M7=xc;function C7(n){typeof n=="string"&&(M7=n.toLowerCase().replace(/_/g,"-"))}var w7=(n,t,e)=>{};function b(n,t,e,i){let a=J(),r=Ue(),o=ot();return Mm(r,a,a[je],o,n,t,i),b}function x7(n,t,e,i){let a=n.cleanup;if(a!=null)for(let r=0;r<a.length-1;r+=2){let o=a[r];if(o===e&&a[r+1]===i){let s=t[ic],c=a[r+2];return s.length>c?s[c]:null}typeof o=="string"&&(r+=2)}return null}function Mm(n,t,e,i,a,r,o){let s=Tc(i),l=n.firstCreatePass&&Bf(n),d=t[rt],h=zf(t),g=!0;if(i.type&3||o){let M=Xt(i,t),S=o?o(M):M,F=h.length,B=o?ee=>o(Ln(ee[i.index])):i.index,U=null;if(!o&&s&&(U=x7(n,t,a,i.index)),U!==null){let ee=U.__ngLastListenerFn__||U;ee.__ngNextListenerFn__=r,U.__ngLastListenerFn__=r,g=!1}else{r=$p(i,t,d,r),w7(M,a,r);let ee=e.listen(S,a,r);h.push(r,ee),l&&l.push(a,B,F,F+1)}}else r=$p(i,t,d,r);let f=i.outputs,v;if(g&&f!==null&&(v=f[a])){let M=v.length;if(M)for(let S=0;S<M;S+=2){let F=v[S],B=v[S+1],Pe=t[F][B].subscribe(r),Me=h.length;h.push(r,Pe),l&&l.push(a,i.index,Me,-(Me+1))}}}function Wp(n,t,e,i){let a=ge(null);try{return In(6,t,e),e(i)!==!1}catch(r){return Uf(n,r),!1}finally{In(7,t,e),ge(a)}}function $p(n,t,e,i){return function a(r){if(r===Function)return i;let o=n.componentOffset>-1?Ci(n.index,t):t;Uh(o,5);let s=Wp(t,e,i,r),c=a.__ngNextListenerFn__;for(;c;)s=Wp(t,e,c,r)&&s,c=c.__ngNextListenerFn__;return s}}function k(n=1){return Y3(n)}function I7(n,t){let e=null,i=s3(n);for(let a=0;a<t.length;a++){let r=t[a];if(r==="*"){e=a;continue}if(i===null?py(n,r,!0):d3(i,r))return a}return e}function En(n){let t=J()[St][Lt];if(!t.projection){let e=n?n.length:1,i=t.projection=Yv(e,null),a=i.slice(),r=t.child;for(;r!==null;){if(r.type!==128){let o=n?I7(r,n):0;o!==null&&(a[o]?a[o].projectionNext=r:i[o]=r,a[o]=r)}r=r.next}}}function Tn(n,t=0,e,i,a,r){let o=J(),s=Ue(),c=i?n+1:null;c!==null&&vc(o,s,c,i,a,r,null,e);let l=Ya(s,Mt+n,16,null,e||null);l.projection===null&&(l.projection=t),kh();let h=!o[qa]||qy();o[St][Lt].projection[l.projection]===null&&c!==null?b7(o,s,c):h&&(l.flags&32)!==32&&o6(s,o,l)}function b7(n,t,e){let i=Mt+e,a=t.data[i],r=n[i],o=Ba(r,a.tView.ssrId),s=$r(n,a,void 0,{dehydratedView:o});Zr(r,s,0,za(a,o))}function Yh(n,t,e){return Cm(n,"",t,"",e),Yh}function Cm(n,t,e,i,a){let r=J(),o=um(r,t,e,i);if(o!==Ot){let s=Ue(),c=Fc();jh(s,c,r,n,o,r[je],a,!1)}return Cm}function Ct(n,t,e,i){b8(n,t,e,i)}function tt(n,t,e){I8(n,t,e)}function we(n){let t=J(),e=Ue(),i=zy();Mh(i+1);let a=Wh(e,i);if(n.dirty&&R3(t)===((a.metadata.flags&2)===2)){if(a.matches===null)n.reset([]);else{let r=L8(t,i);n.reset(r,_M),n.notifyOnChanges()}return!0}return!1}function xe(){return x8(J(),zy())}function wt(n){let t=U3();return P3(t,Mt+n)}function x(n,t=""){let e=J(),i=Ue(),a=n+Mt,r=i.firstCreatePass?Ya(i,a,1,t,null):i.data[a],o=_7(i,e,r,t,n);e[a]=o,Vc()&&Bc(i,e,o,r),Yi(r,!1)}var _7=(n,t,e,i,a)=>(Nc(!0),WM(t[je],i));function nt(n){return Se("",n,""),nt}function Se(n,t,e){let i=J(),a=um(i,n,t,e);return a!==Ot&&Gf(i,Xn(),a),Se}function Jh(n,t,e,i,a,r,o){let s=J(),c=W8(s,n,t,e,i,a,r,o);return c!==Ot&&Gf(s,Xn(),c),Jh}function re(n,t,e){sm(t)&&(t=t());let i=J(),a=Xa();if(Kt(i,a,t)){let r=Ue(),o=Fc();jh(r,o,i,n,t,i[je],e,!1)}return re}function z(n,t){let e=sm(n);return e&&n.set(t),e}function oe(n,t){let e=J(),i=Ue(),a=ot();return Mm(i,e,e[je],a,n,t),oe}function S7(n,t,e){let i=Ue();if(i.firstCreatePass){let a=fi(n);Xd(e,i.data,i.blueprint,a,!0),Xd(t,i.data,i.blueprint,a,!1)}}function Xd(n,t,e,i,a){if(n=kt(n),Array.isArray(n))for(let r=0;r<n.length;r++)Xd(n[r],t,e,i,a);else{let r=Ue(),o=J(),s=ot(),c=Na(n)?n:kt(n.provide),l=xy(n),d=s.providerIndexes&1048575,h=s.directiveStart,g=s.providerIndexes>>20;if(Na(n)||!n.multi){let f=new Zi(l,a,I),v=td(c,t,a?d:d+g,h);v===-1?(md(cc(s,o),r,c),ed(r,n,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),e.push(f),o.push(f)):(e[v]=f,o[v]=f)}else{let f=td(c,t,d+g,h),v=td(c,t,d,d+g),M=f>=0&&e[f],S=v>=0&&e[v];if(a&&!S||!a&&!M){md(cc(s,o),r,c);let F=A7(a?D7:L7,e.length,a,i,l);!a&&S&&(e[v].providerFactory=F),ed(r,n,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),e.push(F),o.push(F)}else{let F=wm(e[a?v:f],l,!a&&i);ed(r,n,f>-1?f:v,F)}!a&&i&&S&&e[v].componentProviders++}}}function ed(n,t,e,i){let a=Na(t),r=C3(t);if(a||r){let c=(r?kt(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!a&&t.multi){let d=l.indexOf(e);d===-1?l.push(e,[i,c]):l[d+1].push(i,c)}else l.push(e,c)}}}function wm(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function td(n,t,e,i){for(let a=e;a<i;a++)if(t[a]===n)return a;return-1}function L7(n,t,e,i){return Qd(this.multi,[])}function D7(n,t,e,i){let a=this.multi,r;if(this.providerFactory){let o=this.providerFactory.componentProviders,s=Ki(e,e[te],this.providerFactory.index,i);r=s.slice(0,o),Qd(a,r);for(let c=o;c<s.length;c++)r.push(s[c])}else r=[],Qd(a,r);return r}function Qd(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function A7(n,t,e,i,a){let r=new Zi(n,e,I);return r.multi=[],r.index=t,r.componentProviders=0,wm(r,a,i&&!e),r}function xt(n,t=[]){return e=>{e.providersResolver=(i,a)=>S7(i,a?a(n):n,t)}}var E7=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=My(!1,e.type),a=i.length>0?$h([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,a)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:n,providedIn:"environment",factory:()=>new n(P(yt))})}}return n})();function q(n){Qt("NgStandalone"),n.getStandaloneInjector=t=>t.get(E7).getOrCreateStandaloneInjector(n)}function Pn(n,t,e,i){return T7(J(),Ur(),n,t,e,i)}function wi(n,t,e,i,a){return P7(J(),Ur(),n,t,e,i,a)}function xm(n,t,e,i,a,r){return R7(J(),Ur(),n,t,e,i,a,r)}function Im(n,t,e,i,a,r,o){return F7(J(),Ur(),n,t,e,i,a,r,o)}function bm(n,t,e,i,a,r,o,s,c){let l=Ur()+n,d=J(),h=dm(d,l,e,i,a,r);return jr(d,l+4,o,s)||h?Kr(d,l+6,c?t.call(c,e,i,a,r,o,s):t(e,i,a,r,o,s)):N8(d,l+6)}function Xc(n,t){let e=n[t];return e===Ot?void 0:e}function T7(n,t,e,i,a,r){let o=t+e;return Kt(n,o,a)?Kr(n,o+1,r?i.call(r,a):i(a)):Xc(n,o+1)}function P7(n,t,e,i,a,r,o){let s=t+e;return jr(n,s,a,r)?Kr(n,s+2,o?i.call(o,a,r):i(a,r)):Xc(n,s+2)}function R7(n,t,e,i,a,r,o,s){let c=t+e;return lm(n,c,a,r,o)?Kr(n,c+3,s?i.call(s,a,r,o):i(a,r,o)):Xc(n,c+3)}function F7(n,t,e,i,a,r,o,s,c){let l=t+e;return dm(n,l,a,r,o,s)?Kr(n,l+4,c?i.call(c,a,r,o,s):i(a,r,o,s)):Xc(n,l+4)}function Jn(n,t){return $c(n,t)}var Qc=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var _m=new V("");function ea(n){return!!n&&typeof n.then=="function"}function Sm(n){return!!n&&typeof n.subscribe=="function"}var Lm=new V(""),Dm=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=L(Lm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let a of this.appInits){let r=a();if(ea(r))e.push(r);else if(Sm(r)){let o=new Promise((s,c)=>{r.subscribe({complete:s,error:c})});e.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(a=>{this.reject(a)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yc=new V("");function O7(){R0(()=>{throw new A(600,!1)})}function V7(n){return n.isBoundToModule}var N7=10;function q7(n,t,e){try{let i=e();return ea(i)?i.catch(a=>{throw t.runOutsideAngular(()=>n.handleError(a)),a}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}var Rn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(IM),this.afterRenderManager=L(hm),this.zonelessEnabled=L(Gh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Q,this.afterTick=new Q,this.componentTypes=[],this.components=[],this.isStable=L(Yn).hasPendingTasks.pipe(Z(e=>!e)),this._injector=L(yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:a=>{a&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let a=e instanceof yc;if(!this._injector.get(Dm).done){let g=!a&&my(e),f=!1;throw new A(405,f)}let o;a?o=e:o=this._injector.get(Ga).resolveComponentFactory(e),this.componentTypes.push(o.componentType);let s=V7(o)?void 0:this._injector.get(vi),c=i||o.selector,l=o.create(Ft.NULL,[],c,s),d=l.location.nativeElement,h=l.injector.get(_m,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Qs(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new A(101,!1);let e=ge(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ge(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(ki,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<N7;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:a,notifyErrorHandler:r}of this._views)j7(a,r,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Pc(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Qs(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(Yc,[]);[...this._bootstrapListeners,...i].forEach(a=>a(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Qs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new A(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qs(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function j7(n,t,e,i){if(!e&&!Pc(n))return;Xf(n,t,e&&!i?0:1)}var Yd=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},e2=(()=>{class n{compileModuleSync(e){return new Nd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),a=gy(e),r=Cf(a.declarations).reduce((o,s)=>{let c=yi(s);return c&&o.push(new Wa(c)),o},[]);return new Yd(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var H7=(()=>{class n{constructor(){this.zone=L(Ce),this.changeDetectionScheduler=L(Ua),this.applicationRef=L(Rn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),z7=new V("",{factory:()=>!1});function Am({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Ce(de(E({},Tm()),{scheduleInRootZone:e})),[{provide:Ce,useFactory:n},{provide:Va,multi:!0,useFactory:()=>{let i=L(H7,{optional:!0});return()=>i.initialize()}},{provide:Va,multi:!0,useFactory:()=>{let i=L(B7);return()=>{i.initialize()}}},t===!0?{provide:em,useValue:!0}:[],{provide:tm,useValue:e??cf}]}function Em(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,i=Am({ngZoneFactory:()=>{let a=Tm(n);return a.scheduleInRootZone=e,a.shouldCoalesceEventChangeDetection&&Qt("NgZone_CoalesceEvent"),new Ce(a)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return Za([{provide:z7,useValue:!0},{provide:Gh,useValue:!1},i])}function Tm(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var B7=(()=>{class n{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=L(Ce),this.pendingTasks=L(Yn)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var U7=(()=>{class n{constructor(){this.appRef=L(Rn),this.taskService=L(Yn),this.ngZone=L(Ce),this.zonelessEnabled=L(Gh),this.disableScheduling=L(em,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ie,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(tm,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cd||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Ep:lf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ep(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G7(){return typeof $localize<"u"&&$localize.locale||xc}var t2=new V("",{providedIn:"root",factory:()=>L(t2,he.Optional|he.SkipSelf)||G7()});var Pm=new V("");function Gs(n){return!!n.platformInjector}function W7(n){let t=Gs(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Ce);return e.run(()=>{Gs(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Dn,null),a;if(e.runOutsideAngular(()=>{a=e.onError.subscribe({next:r=>{i.handleError(r)}})}),Gs(n)){let r=()=>t.destroy(),o=n.platformInjector.get(Pm);o.add(r),t.onDestroy(()=>{a.unsubscribe(),o.delete(r)})}else n.moduleRef.onDestroy(()=>{Qs(n.allPlatformModules,n.moduleRef),a.unsubscribe()});return q7(i,e,()=>{let r=t.get(Dm);return r.runInitializers(),r.donePromise.then(()=>{let o=t.get(t2,xc);if(C7(o||xc),Gs(n)){let s=t.get(Rn);return n.rootComponent!==void 0&&s.bootstrap(n.rootComponent),s}else return $7(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function $7(n,t){let e=n.injector.get(Rn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new A(-403,!1);t.push(n)}var Ys=null;function Z7(n=[],t){return Ft.create({name:t,providers:[{provide:Lc,useValue:"platform"},{provide:Pm,useValue:new Set([()=>Ys=null])},...n]})}function K7(n=[]){if(Ys)return Ys;let t=Z7(n);return Ys=t,O7(),X7(t),t}function X7(n){n.get(Sh,null)?.forEach(e=>e())}var it=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q7}}return n})();function Q7(n){return Y7(ot(),J(),(n&16)===16)}function Y7(n,t,e){if(Ec(n)&&!e){let i=Ci(n.index,t);return new Xi(i,i)}else if(n.type&175){let i=t[St];return new Xi(i,t)}return null}var Jd=class{constructor(){}supports(t){return cm(t)}create(t){return new eh(t)}},J7=(n,t)=>t,eh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||J7}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,a=0,r=null;for(;e||i;){let o=!i||e&&e.currentIndex<Zp(i,a,r)?e:i,s=Zp(o,a,r),c=o.currentIndex;if(o===i)a--,i=i._nextRemoved;else if(e=e._next,o.previousIndex==null)a++;else{r||(r=[]);let l=s-a,d=c-a;if(l!=d){for(let g=0;g<l;g++){let f=g<r.length?r[g]:r[g]=0,v=f+g;d<=v&&v<l&&(r[g]=f+1)}let h=o.previousIndex;r[h]=d-l}}s!==c&&t(o,s,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!cm(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,a,r,o;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)r=t[s],o=this._trackByFn(s,r),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,r,o,s),i=!0):(i&&(e=this._verifyReinsertion(e,r,o,s)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else a=0,V8(t,s=>{o=this._trackByFn(a,s),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,s,o,a),i=!0):(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,a){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,a)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,a),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,a)):t=this._addAfter(new th(e,i),r,a)),t}_verifyReinsertion(t,e,i,a){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return r!==null?t=this._reinsertAfter(r,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let a=t._prevRemoved,r=t._nextRemoved;return a===null?this._removalsHead=r:a._nextRemoved=r,r===null?this._removalsTail=a:r._prevRemoved=a,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let a=e===null?this._itHead:e._next;return t._next=a,t._prev=e,a===null?this._itTail=t:a._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ic),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ic),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},th=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},nh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Ic=class{constructor(){this.map=new Map}put(t){let e=t.trackById,i=this.map.get(e);i||(i=new nh,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,a=this.map.get(i);return a?a.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Zp(n,t,e){let i=n.previousIndex;if(i===null)return i;let a=0;return e&&i<e.length&&(a=e[i]),i+t+a}var ih=class{constructor(){}supports(t){return t instanceof Map||Zh(t)}create(){return new ah}},ah=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Zh(t)))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,a)=>{if(e&&e.key===a)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let r=this._getOrCreateRecordForKey(a,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let a=this._records.get(t);this._maybeAddToChanges(a,e);let r=a._prev,o=a._next;return r&&(r._next=o),o&&(o._prev=r),a._next=null,a._prev=null,a}let i=new rh(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},rh=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Kp(){return new Jc([new Jd])}var Jc=(()=>{class n{static{this.\u0275prov=D({token:n,providedIn:"root",factory:Kp})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let a=i.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Kp()),deps:[[n,new lh,new Mi]]}}find(e){let i=this.factories.find(a=>a.supports(e));if(i!=null)return i;throw new A(901,!1)}}return n})();function Xp(){return new n2([new ih])}var n2=(()=>{class n{static{this.\u0275prov=D({token:n,providedIn:"root",factory:Xp})}constructor(e){this.factories=e}static create(e,i){if(i){let a=i.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Xp()),deps:[[n,new lh,new Mi]]}}find(e){let i=this.factories.find(a=>a.supports(e));if(i)return i;throw new A(901,!1)}}return n})();function Rm(n){try{let{rootComponent:t,appProviders:e,platformProviders:i}=n,a=K7(i),r=[Am({}),{provide:Ua,useExisting:U7},...e||[]],o=new kc({providers:r,parent:a,debugName:"",runEnvironmentInitializers:!1});return W7({r3Injector:o.injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}}var Fm=new V("");function Ae(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function xi(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function ue(n,t){Qt("NgSignals");let e=E0(n);return t?.equal&&(e[Mn].equal=t.equal),e}function Ii(n){let t=ge(null);try{return n()}finally{ge(t)}}var eC=new V("",{providedIn:"root",factory:()=>L(tC)}),tC=(()=>{class n{static{this.\u0275prov=D({token:n,providedIn:"root",factory:()=>new oh})}}return n})(),oh=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=L(Yn),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){let e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},sh=class{constructor(t,e,i,a,r,o){this.scheduler=t,this.effectFn=e,this.creationZone=i,this.injector=r,this.watcher=N0(s=>this.runEffect(s),()=>this.schedule(),o),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Dn,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function bi(n,t){Qt("NgSignals"),!t?.injector&&by(bi);let e=t?.injector??L(Ft),i=t?.manualCleanup!==!0?e.get(jc):null,a=new sh(e.get(eC),n,typeof Zone>"u"?null:Zone.current,i,e,t?.allowSignalWrites??!1),r=e.get(it,null,{optional:!0});return!r||!(r._lView[Y]&8)?a.watcher.notify():(r._lView[$s]??=[]).push(a.watcher.notify),a}function Om(n,t){let e=yi(n),i=t.elementInjector||Dc();return new Wa(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}var zm=null;function ei(){return zm}function Bm(n){zm??=n}var e1=class{};var Ee=new V(""),Um=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(iC),providedIn:"platform"})}}return n})();var iC=(()=>{class n extends Um{constructor(){super(),this._doc=L(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(e){let i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,a){this._history.pushState(e,i,a)}replaceState(e,i,a){this._history.replaceState(e,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Gm(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function Vm(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,i=e-(n[e-1]==="/"?1:0);return n.slice(0,i)+n.slice(e)}function ta(n){return n&&n[0]!=="?"?"?"+n:n}var t1=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(Wm),providedIn:"root"})}}return n})(),aC=new V(""),Wm=(()=>{class n extends t1{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gm(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+ta(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,r){let o=this.prepareExternalUrl(a+ta(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,a,r){let o=this.prepareExternalUrl(a+ta(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(P(Um),P(aC,8))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qr=(()=>{class n{constructor(e){this._subject=new _,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=sC(Vm(Nm(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ta(i))}normalize(e){return n.stripTrailingSlash(oC(this._basePath,Nm(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ta(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ta(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}static{this.normalizeQueryParams=ta}static{this.joinWithSlash=Gm}static{this.stripTrailingSlash=Vm}static{this.\u0275fac=function(i){return new(i||n)(P(t1))}}static{this.\u0275prov=D({token:n,factory:()=>rC(),providedIn:"root"})}}return n})();function rC(){return new Qr(P(t1))}function oC(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Nm(n){return n.replace(/\/index.html$/,"")}function sC(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}function n1(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[a,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(r)}return null}var i2=/\s+/,qm=[],mt=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=qm,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(i2):qm}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(i2):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let a=this.stateMap.get(e);a!==void 0?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],a=e[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(i2).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static{this.\u0275fac=function(i){return new(i||n)(I(ve),I(Dt))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var a2=class{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},At=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((a,r,o)=>{if(a.previousIndex==null)i.createEmbeddedView(this._template,new a2(a.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(r===null?void 0:r);else if(r!==null){let s=i.get(r);i.move(s,o),jm(s,a)}});for(let a=0,r=i.length;a<r;a++){let s=i.get(a).context;s.index=a,s.count=r,s.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{let r=i.get(a.currentIndex);jm(r,a)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(I(Vt),I(ke),I(Jc))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function jm(n,t){n.context.$implicit=t.item}var Le=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new r2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hm("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hm("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(I(Vt),I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),r2=class{constructor(){this.$implicit=null,this.ngIf=null}};function Hm(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${vt(t)}'.`)}var o2=class{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},na=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ce({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),er=(()=>{class n{constructor(e,i,a){this.ngSwitch=a,a._addCase(),this._view=new o2(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||n)(I(Vt),I(ke),I(na,9))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();var $m=(()=>{class n{constructor(e,i,a){this._ngEl=e,this._differs=i,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[a,r]=e.split("."),o=a.indexOf("-")===-1?void 0:An.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,a,r?`${i}${r}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,a,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(I(ve),I(n2),I(Dt))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),c2=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let a=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,a,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,a)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,a):!1,get:(e,i,a)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,a)}})}static{this.\u0275fac=function(i){return new(i||n)(I(Vt))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ne]})}}return n})();var K=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})(),l2="browser",cC="server";function Zm(n){return n===l2}function i1(n){return n===cC}var Ja=class{};var Jr=class{},r1=class{},ti=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let a=e.slice(0,i),r=a.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(a,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let a=(t.op==="a"?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(s=>r.indexOf(s)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var h2=class{encodeKey(t){return Km(t)}encodeValue(t){return Km(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function lC(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{let r=a.indexOf("="),[o,s]=r==-1?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,r)),t.decodeValue(a.slice(r+1))],c=e.get(o)||[];c.push(s),e.set(o,c)}),e}var dC=/%(\d[a-f0-9])/gi,hC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Km(n){return encodeURIComponent(n).replace(dC,(t,e)=>hC[e]??t)}function a1(n){return`${n}`}var Si=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new h2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],a=Array.isArray(i)?i.map(a1):[a1(i)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let a=t[i];Array.isArray(a)?a.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(a1(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],a=i.indexOf(a1(t.value));a!==-1&&i.splice(a,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var u2=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xm(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Qm(n){return typeof Blob<"u"&&n instanceof Blob}function Ym(n){return typeof FormData<"u"&&n instanceof FormData}function pC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Yr=class n{constructor(t,e,i,a){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(uC(this.method)||a?(this.body=i!==void 0?i:null,r=a):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new ti,this.context??=new u2,!this.params)this.params=new Si,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),c=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xm(this.body)||Qm(this.body)||Ym(this.body)||pC(this.body)?this.body:this.body instanceof Si?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ym(this.body)?null:Qm(this.body)?this.body.type||null:Xm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Si?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,r=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,s=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((g,f)=>g.set(f,t.setHeaders[f]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((g,f)=>g.set(f,t.setParams[f]),d)),new n(e,i,o,{params:d,headers:l,context:h,reportProgress:c,responseType:a,withCredentials:s,transferCache:r})}},Li=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Li||{}),eo=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new ti,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},o1=class n extends eo{constructor(t={}){super(t),this.type=Li.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},to=class n extends eo{constructor(t={}){super(t),this.type=Li.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},_i=class extends eo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ng=200,yC=204;function d2(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var no=(()=>{class n{constructor(e){this.handler=e}request(e,i,a={}){let r;if(e instanceof Yr)r=e;else{let c;a.headers instanceof ti?c=a.headers:c=new ti(a.headers);let l;a.params&&(a.params instanceof Si?l=a.params:l=new Si({fromObject:a.params})),r=new Yr(e,i,a.body!==void 0?a.body:null,{headers:c,context:a.context,params:l,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let o=X(r).pipe(ci(c=>this.handler.handle(c)));if(e instanceof Yr||a.observe==="events")return o;let s=o.pipe(at(c=>c instanceof to));switch(a.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return s.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return s.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return s.pipe(Z(c=>c.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Si().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,d2(a,i))}post(e,i,a={}){return this.request("POST",e,d2(a,i))}put(e,i,a={}){return this.request("PUT",e,d2(a,i))}static{this.\u0275fac=function(i){return new(i||n)(P(Jr))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),fC=/^\)\]\}',?\n/,mC="X-Request-URL";function Jm(n){if(n.url)return n.url;let t=mC.toLocaleLowerCase();return n.headers.get(t)}var gC=(()=>{class n{constructor(){this.fetchImpl=L(p2,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=L(Ce)}handle(e){return new ie(i=>{let a=new AbortController;return this.doRequest(e,a.signal,i).then(y2,r=>i.error(new _i({error:r}))),()=>a.abort()})}doRequest(e,i,a){return is(this,null,function*(){let r=this.createRequestInit(e),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,E({signal:i},r)));kC(f),a.next({type:Li.Sent}),o=yield f}catch(f){a.error(new _i({error:f,status:f.status??0,statusText:f.statusText,url:e.urlWithParams,headers:f.headers}));return}let s=new ti(o.headers),c=o.statusText,l=Jm(o)??e.urlWithParams,d=o.status,h=null;if(e.reportProgress&&a.next(new o1({headers:s,status:d,statusText:c,url:l})),o.body){let f=o.headers.get("content-length"),v=[],M=o.body.getReader(),S=0,F,B,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>is(this,null,function*(){for(;;){let{done:Pe,value:Me}=yield M.read();if(Pe)break;if(v.push(Me),S+=Me.length,e.reportProgress){B=e.responseType==="text"?(B??"")+(F??=new TextDecoder).decode(Me,{stream:!0}):void 0;let be=()=>a.next({type:Li.DownloadProgress,total:f?+f:void 0,loaded:S,partialText:B});U?U.run(be):be()}}}));let ee=this.concatChunks(v,S);try{let Pe=o.headers.get("Content-Type")??"";h=this.parseBody(e,ee,Pe)}catch(Pe){a.error(new _i({error:Pe,headers:new ti(o.headers),status:o.status,statusText:o.statusText,url:Jm(o)??e.urlWithParams}));return}}d===0&&(d=h?ng:0),d>=200&&d<300?(a.next(new to({body:h,headers:s,status:d,statusText:c,url:l})),a.complete()):a.error(new _i({error:h,headers:s,status:d,statusText:c,url:l}))})}parseBody(e,i,a){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(fC,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:a});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},a=e.withCredentials?"include":void 0;if(e.headers.forEach((r,o)=>i[r]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:a}}concatChunks(e,i){let a=new Uint8Array(i),r=0;for(let o of e)a.set(o,r),r+=o.length;return a}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),p2=class{};function y2(){}function kC(n){n.then(y2,y2)}function vC(n,t){return t(n)}function MC(n,t,e){return(i,a)=>pn(e,()=>t(i,r=>n(r,a)))}var ig=new V(""),CC=new V(""),wC=new V("",{providedIn:"root",factory:()=>!0});var eg=(()=>{class n extends Jr{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=L(Yn),this.contributeToStability=L(wC)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ig),...this.injector.get(CC,[])]));this.chain=i.reduceRight((a,r)=>MC(a,r,this.injector),vC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,a=>this.backend.handle(a)).pipe(Hi(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(P(r1),P(yt))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})();var xC=/^\)\]\}',?\n/;function IC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var tg=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new A(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Oe(i.\u0275loadImpl()):X(null)).pipe(ht(()=>new ie(r=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((M,S)=>o.setRequestHeader(M,S.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let M=e.detectContentTypeHeader();M!==null&&o.setRequestHeader("Content-Type",M)}if(e.responseType){let M=e.responseType.toLowerCase();o.responseType=M!=="json"?M:"text"}let s=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let M=o.statusText||"OK",S=new ti(o.getAllResponseHeaders()),F=IC(o)||e.url;return c=new o1({headers:S,status:o.status,statusText:M,url:F}),c},d=()=>{let{headers:M,status:S,statusText:F,url:B}=l(),U=null;S!==yC&&(U=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=U?ng:0);let ee=S>=200&&S<300;if(e.responseType==="json"&&typeof U=="string"){let Pe=U;U=U.replace(xC,"");try{U=U!==""?JSON.parse(U):null}catch(Me){U=Pe,ee&&(ee=!1,U={error:Me,text:U})}}ee?(r.next(new to({body:U,headers:M,status:S,statusText:F,url:B||void 0})),r.complete()):r.error(new _i({error:U,headers:M,status:S,statusText:F,url:B||void 0}))},h=M=>{let{url:S}=l(),F=new _i({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});r.error(F)},g=!1,f=M=>{g||(r.next(l()),g=!0);let S={type:Li.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),e.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),r.next(S)},v=M=>{let S={type:Li.UploadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),r.next(S)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",f),s!==null&&o.upload&&o.upload.addEventListener("progress",v)),o.send(s),r.next({type:Li.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",f),s!==null&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(P(Ja))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),ag=new V(""),bC="XSRF-TOKEN",_C=new V("",{providedIn:"root",factory:()=>bC}),SC="X-XSRF-TOKEN",LC=new V("",{providedIn:"root",factory:()=>SC}),s1=class{},DC=(()=>{class n{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=n1(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(P(Ee),P(yn),P(_C))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})();function AC(n,t){let e=n.url.toLowerCase();if(!L(ag)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=L(s1).getToken(),a=L(LC);return i!=null&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,i)})),t(n)}function rg(...n){let t=[no,tg,eg,{provide:Jr,useExisting:eg},{provide:r1,useFactory:()=>L(gC,{optional:!0})??L(tg)},{provide:ig,useValue:AC,multi:!0},{provide:ag,useValue:!0},{provide:s1,useClass:DC}];for(let e of n)t.push(...e.\u0275providers);return Za(t)}var g2=class extends e1{constructor(){super(...arguments),this.supportsDOMEvents=!0}},k2=class n extends g2{static makeCurrent(){Bm(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=EC();return e==null?null:TC(e)}resetBaseElement(){io=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return n1(document.cookie,t)}},io=null;function EC(){return io=io||document.querySelector("base"),io?io.getAttribute("href"):null}function TC(n){return new URL(n,document.baseURI).pathname}var PC=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),c1=new V(""),lg=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(P(c1),P(Ce))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),ao=class{constructor(t){this._doc=t}},f2="ng-app-id",dg=(()=>{class n{constructor(e,i,a,r={}){this.doc=e,this.appId=i,this.nonce=a,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=i1(r),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(a=>a.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${f2}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(a=>{a.textContent!=null&&i.set(a.textContent,a)}),i}return null}changeUsageCount(e,i){let a=this.styleRef;if(a.has(e)){let r=a.get(e);return r.usage+=i,r.usage}return a.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let a=this.styleNodesInDOM,r=a?.get(i);if(r?.parentNode===e)return a.delete(i),r.removeAttribute(f2),r;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(f2,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let a=this.getStyleElement(e,i),r=this.styleRef,o=r.get(i)?.elements;o?o.push(a):r.set(i,{elements:[a],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(P(Ee),P(_h),P(Dh,8),P(yn))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),m2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},M2=/%COMP%/g,hg="%COMP%",RC=`_nghost-${hg}`,FC=`_ngcontent-${hg}`,OC=!0,VC=new V("",{providedIn:"root",factory:()=>OC});function NC(n){return FC.replace(M2,n)}function qC(n){return RC.replace(M2,n)}function ug(n,t){return t.map(e=>e.replace(M2,n))}var l1=(()=>{class n{constructor(e,i,a,r,o,s,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=s,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=i1(s),this.defaultRenderer=new ro(e,o,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_n.ShadowDom&&(i=de(E({},i),{encapsulation:_n.Emulated}));let a=this.getOrCreateRenderer(e,i);return a instanceof d1?a.applyToHost(e):a instanceof oo&&a.applyStyles(),a}getOrCreateRenderer(e,i){let a=this.rendererByCompId,r=a.get(i.id);if(!r){let o=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case _n.Emulated:r=new d1(c,l,i,this.appId,d,o,s,h);break;case _n.ShadowDom:return new v2(c,l,e,i,o,s,this.nonce,h);default:r=new oo(c,l,i,d,o,s,h);break}a.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(P(lg),P(dg),P(_h),P(VC),P(Ee),P(yn),P(Ce),P(Dh))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),ro=class{constructor(t,e,i,a){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(m2[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(sg(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(sg(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new A(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;let r=m2[a];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let a=m2[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(An.DashCase|An.Important)?t.style.setProperty(e,i,a&An.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&An.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=ei().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function sg(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var v2=class extends ro{constructor(t,e,i,a,r,o,s,c){super(t,r,o,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ug(a.id,a.styles);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oo=class extends ro{constructor(t,e,i,a,r,o,s,c){super(t,r,o,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=a,this.styles=c?ug(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},d1=class extends oo{constructor(t,e,i,a,r,o,s,c){let l=a+"-"+i.id;super(t,e,i,r,o,s,c,l),this.contentAttr=NC(l),this.hostAttr=qC(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},jC=(()=>{class n extends ao{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}static{this.\u0275fac=function(i){return new(i||n)(P(Ee))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),HC=(()=>{class n extends ao{constructor(e){super(e),this.delegate=L(Fm,{optional:!0})}supports(e){return this.delegate?this.delegate.supports(e):!1}addEventListener(e,i,a){return this.delegate.addEventListener(e,i,a)}removeEventListener(e,i,a){return this.delegate.removeEventListener(e,i,a)}static{this.\u0275fac=function(i){return new(i||n)(P(Ee))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),cg=["alt","control","meta","shift"],zC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BC={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UC=(()=>{class n extends ao{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,a){let r=n.parseEventName(i),o=n.eventCallback(r.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(e,r.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),a=i.shift();if(i.length===0||!(a==="keydown"||a==="keyup"))return null;let r=n._normalizeKey(i.pop()),o="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),o="code."),cg.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),o+=l+".")}),o+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=a,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let a=zC[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(a=e.code,r="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),cg.forEach(o=>{if(o!==a){let s=BC[o];s(e)&&(r+=o+".")}}),r+=a,r===i)}static eventCallback(e,i,a){return r=>{n.matchEventFullKeyCode(r,e)&&a.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(P(Ee))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})();function pg(n,t){return Rm(E({rootComponent:n},GC(t)))}function GC(n){return{appProviders:[...XC,...n?.providers??[]],platformProviders:KC}}function WC(){k2.makeCurrent()}function $C(){return new Dn}function ZC(){return mf(document),document}var KC=[{provide:yn,useValue:l2},{provide:Sh,useValue:WC,multi:!0},{provide:Ee,useFactory:ZC,deps:[]}];var XC=[{provide:Lc,useValue:"root"},{provide:Dn,useFactory:$C,deps:[]},{provide:c1,useClass:jC,multi:!0,deps:[Ee,Ce,yn]},{provide:c1,useClass:UC,multi:!0,deps:[Ee]},{provide:c1,useClass:HC,multi:!0},l1,dg,lg,{provide:ki,useExisting:l1},{provide:Ja,useClass:PC,deps:[]},[]];var yg=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(P(Ee))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var le="primary",Io=Symbol("RouteTitle"),b2=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function or(n){return new b2(n)}function YC(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let a={};for(let r=0;r<i.length;r++){let o=i[r],s=n[r];if(o[0]===":")a[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function JC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Fn(n[e],t[e]))return!1;return!0}function Fn(n,t){let e=n?_2(n):void 0,i=t?_2(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let r=0;r<e.length;r++)if(a=e[r],!wg(n[a],t[a]))return!1;return!0}function _2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((a,r)=>i[r]===a)}else return n===t}function xg(n){return n.length>0?n[n.length-1]:null}function Di(n){return Fs(n)?n:ea(n)?Oe(Promise.resolve(n)):X(n)}var ew={exact:bg,subset:_g},Ig={exact:tw,subset:nw,ignored:()=>!0};function fg(n,t,e){return ew[e.paths](n.root,t.root,e.matrixParams)&&Ig[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function tw(n,t){return Fn(n,t)}function bg(n,t,e){if(!aa(n.segments,t.segments)||!p1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!bg(n.children[i],t.children[i],e))return!1;return!0}function nw(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wg(n[e],t[e]))}function _g(n,t,e){return Sg(n,t,t.segments,e)}function Sg(n,t,e,i){if(n.segments.length>e.length){let a=n.segments.slice(0,e.length);return!(!aa(a,e)||t.hasChildren()||!p1(a,e,i))}else if(n.segments.length===e.length){if(!aa(n.segments,e)||!p1(n.segments,e,i))return!1;for(let a in t.children)if(!n.children[a]||!_g(n.children[a],t.children[a],i))return!1;return!0}else{let a=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!aa(n.segments,a)||!p1(n.segments,a,i)||!n.children[le]?!1:Sg(n.children[le],t,r,i)}}function p1(n,t,e){return t.every((i,a)=>Ig[e](n[a].parameters,i.parameters))}var ii=class{constructor(t=new De([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){return rw.serialize(this)}},De=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y1(this)}},ia=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=or(this.parameters),this._parameterMap}toString(){return Dg(this)}};function iw(n,t){return aa(n,t)&&n.every((e,i)=>Fn(e.parameters,t[i].parameters))}function aa(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function aw(n,t){let e=[];return Object.entries(n.children).forEach(([i,a])=>{i===le&&(e=e.concat(t(a,i)))}),Object.entries(n.children).forEach(([i,a])=>{i!==le&&(e=e.concat(t(a,i)))}),e}var Y2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>new yo,providedIn:"root"})}}return n})(),yo=class{parse(t){let e=new L2(t);return new ii(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${so(t.root,!0)}`,i=cw(t.queryParams),a=typeof t.fragment=="string"?`#${ow(t.fragment)}`:"";return`${e}${i}${a}`}},rw=new yo;function y1(n){return n.segments.map(t=>Dg(t)).join("/")}function so(n,t){if(!n.hasChildren())return y1(n);if(t){let e=n.children[le]?so(n.children[le],!1):"",i=[];return Object.entries(n.children).forEach(([a,r])=>{a!==le&&i.push(`${a}:${so(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=aw(n,(i,a)=>a===le?[so(n.children[le],!1)]:[`${a}:${so(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[le]!=null?`${y1(n)}/${e[0]}`:`${y1(n)}/(${e.join("//")})`}}function Lg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h1(n){return Lg(n).replace(/%3B/gi,";")}function ow(n){return encodeURI(n)}function S2(n){return Lg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function f1(n){return decodeURIComponent(n)}function mg(n){return f1(n.replace(/\+/g,"%20"))}function Dg(n){return`${S2(n.path)}${sw(n.parameters)}`}function sw(n){return Object.entries(n).map(([t,e])=>`;${S2(t)}=${S2(e)}`).join("")}function cw(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(a=>`${h1(e)}=${h1(a)}`).join("&"):`${h1(e)}=${h1(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var lw=/^[^\/()?;#]+/;function C2(n){let t=n.match(lw);return t?t[0]:""}var dw=/^[^\/()?;=#]+/;function hw(n){let t=n.match(dw);return t?t[0]:""}var uw=/^[^=?&#]+/;function pw(n){let t=n.match(uw);return t?t[0]:""}var yw=/^[^&#]+/;function fw(n){let t=n.match(yw);return t?t[0]:""}var L2=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[le]=new De(t,e)),i}parseSegment(){let t=C2(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new ia(f1(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=hw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=C2(this.remaining);a&&(i=a,this.capture(i))}t[f1(e)]=f1(i)}parseQueryParam(t){let e=pw(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=fw(this.remaining);o&&(i=o,this.capture(i))}let a=mg(e),r=mg(i);if(t.hasOwnProperty(a)){let o=t[a];Array.isArray(o)||(o=[o],t[a]=o),o.push(r)}else t[a]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=C2(this.remaining),a=this.remaining[i.length];if(a!=="/"&&a!==")"&&a!==";")throw new A(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=le);let o=this.parseChildren();e[r]=Object.keys(o).length===1?o[le]:new De([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function Ag(n){return n.segments.length>0?new De([],{[le]:n}):n}function Eg(n){let t={};for(let[i,a]of Object.entries(n.children)){let r=Eg(a);if(i===le&&r.segments.length===0&&r.hasChildren())for(let[o,s]of Object.entries(r.children))t[o]=s;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new De(n.segments,t);return mw(e)}function mw(n){if(n.numberOfChildren===1&&n.children[le]){let t=n.children[le];return new De(n.segments.concat(t.segments),t.children)}return n}function fo(n){return n instanceof ii}function gw(n,t,e=null,i=null){let a=Tg(n);return Pg(a,t,e,i)}function Tg(n){let t;function e(r){let o={};for(let c of r.children){let l=e(c);o[c.outlet]=l}let s=new De(r.url,o);return r===n&&(t=s),s}let i=e(n.root),a=Ag(i);return t??a}function Pg(n,t,e,i){let a=n;for(;a.parent;)a=a.parent;if(t.length===0)return w2(a,a,a,e,i);let r=kw(t);if(r.toRoot())return w2(a,a,new De([],{}),e,i);let o=vw(r,a,n),s=o.processChildren?ho(o.segmentGroup,o.index,r.commands):Fg(o.segmentGroup,o.index,r.commands);return w2(a,o.segmentGroup,s,e,i)}function m1(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mo(n){return typeof n=="object"&&n!=null&&n.outlets}function w2(n,t,e,i,a){let r={};i&&Object.entries(i).forEach(([c,l])=>{r[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;n===t?o=e:o=Rg(n,t,e);let s=Ag(Eg(o));return new ii(s,r,a)}function Rg(n,t,e){let i={};return Object.entries(n.children).forEach(([a,r])=>{r===t?i[a]=e:i[a]=Rg(r,t,e)}),new De(n.segments,i)}var g1=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&m1(i[0]))throw new A(4003,!1);let a=i.find(mo);if(a&&a!==xg(i))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kw(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new g1(!0,0,n);let t=0,e=!1,i=n.reduce((a,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let s={};return Object.entries(r.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...a,{outlets:s}]}if(r.segmentPath)return[...a,r.segmentPath]}return typeof r!="string"?[...a,r]:o===0?(r.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&a.push(s))}),a):[...a,r]},[]);return new g1(e,t,i)}var ir=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function vw(n,t,e){if(n.isAbsolute)return new ir(t,!0,0);if(!e)return new ir(t,!1,NaN);if(e.parent===null)return new ir(e,!0,0);let i=m1(n.commands[0])?0:1,a=e.segments.length-1+i;return Mw(e,a,n.numberOfDoubleDots)}function Mw(n,t,e){let i=n,a=t,r=e;for(;r>a;){if(r-=a,i=i.parent,!i)throw new A(4005,!1);a=i.segments.length}return new ir(i,!1,a-r)}function Cw(n){return mo(n[0])?n[0].outlets:{[le]:n}}function Fg(n,t,e){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return ho(n,t,e);let i=ww(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new De(n.segments.slice(0,i.pathIndex),{});return r.children[le]=new De(n.segments.slice(i.pathIndex),n.children),ho(r,0,a)}else return i.match&&a.length===0?new De(n.segments,{}):i.match&&!n.hasChildren()?D2(n,t,e):i.match?ho(n,0,a):D2(n,t,e)}function ho(n,t,e){if(e.length===0)return new De(n.segments,{});{let i=Cw(e),a={};if(Object.keys(i).some(r=>r!==le)&&n.children[le]&&n.numberOfChildren===1&&n.children[le].segments.length===0){let r=ho(n.children[le],t,e);return new De(n.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(a[r]=Fg(n.children[r],t,o))}),Object.entries(n.children).forEach(([r,o])=>{i[r]===void 0&&(a[r]=o)}),new De(n.segments,a)}}function ww(n,t,e){let i=0,a=t,r={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return r;let o=n.segments[a],s=e[i];if(mo(s))break;let c=`${s}`,l=i<e.length-1?e[i+1]:null;if(a>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kg(c,l,o))return r;i+=2}else{if(!kg(c,{},o))return r;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}function D2(n,t,e){let i=n.segments.slice(0,t),a=0;for(;a<e.length;){let r=e[a];if(mo(r)){let c=xw(r.outlets);return new De(i,c)}if(a===0&&m1(e[0])){let c=n.segments[t];i.push(new ia(c.path,gg(e[0]))),a++;continue}let o=mo(r)?r.outlets[le]:`${r}`,s=a<e.length-1?e[a+1]:null;o&&s&&m1(s)?(i.push(new ia(o,gg(s))),a+=2):(i.push(new ia(o,{})),a++)}return new De(i,{})}function xw(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=D2(new De([],{}),0,i))}),t}function gg(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function kg(n,t,e){return n==e.path&&Fn(t,e.parameters)}var uo="imperative",ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ct||{}),Yt=class{constructor(t,e){this.id=t,this.url=e}},go=class extends Yt{constructor(t,e,i="imperative",a=null){super(t,e),this.type=ct.NavigationStart,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ra=class extends Yt{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ht||{}),A2=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(A2||{}),ni=class extends Yt{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oa=class extends Yt{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=ct.NavigationSkipped}},ko=class extends Yt{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},k1=class extends Yt{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E2=class extends Yt{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T2=class extends Yt{constructor(t,e,i,a,r){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=r,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},P2=class extends Yt{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},R2=class extends Yt{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F2=class{constructor(t){this.route=t,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},O2=class{constructor(t){this.route=t,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},V2=class{constructor(t){this.snapshot=t,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},N2=class{constructor(t){this.snapshot=t,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q2=class{constructor(t){this.snapshot=t,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},j2=class{constructor(t){this.snapshot=t,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vo=class{},sr=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Iw(n,t){return n.providers&&!n._injector&&(n._injector=$h(n.providers,t,`Route: ${n.path}`)),n._injector??t}function mn(n){return n.outlet||le}function bw(n,t){let e=n.filter(i=>mn(i)===t);return e.push(...n.filter(i=>mn(i)!==t)),e}function bo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var H2=class{get injector(){return bo(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new b1(this.rootInjector),this.attachRef=null}},b1=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new H2(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(P(yt))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v1=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=z2(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=z2(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=B2(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return B2(t,this._root).map(e=>e.value)}};function z2(n,t){if(n===t.value)return t;for(let e of t.children){let i=z2(n,e);if(i)return i}return null}function B2(n,t){if(n===t.value)return[t];for(let e of t.children){let i=B2(n,e);if(i.length)return i.unshift(t),i}return[]}var jt=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function nr(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var M1=class extends v1{constructor(t,e){super(t),this.snapshot=e,J2(this,t)}toString(){return this.snapshot.toString()}};function Og(n){let t=_w(n),e=new et([new ia("",{})]),i=new et({}),a=new et({}),r=new et({}),o=new et(""),s=new cr(e,i,r,o,a,le,n,t.root);return s.snapshot=t.root,new M1(new jt(s,[]),t)}function _w(n){let t={},e={},i={},a="",r=new ar([],t,i,a,e,le,n,null,{});return new w1("",new jt(r,[]))}var cr=class{constructor(t,e,i,a,r,o,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=r,this.outlet=o,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(l=>l[Io]))??X(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(t=>or(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(t=>or(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function C1(n,t,e="emptyOnly"){let i,{routeConfig:a}=n;return t!==null&&(e==="always"||a?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:E(E({},t.params),n.params),data:E(E({},t.data),n.data),resolve:E(E(E(E({},n.data),t.data),a?.data),n._resolvedData)}:i={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},a&&Ng(a)&&(i.resolve[Io]=a.title),i}var ar=class{get title(){return this.data?.[Io]}constructor(t,e,i,a,r,o,s,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=r,this.outlet=o,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=or(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},w1=class extends v1{constructor(t,e){super(e),this.url=t,J2(this,e)}toString(){return Vg(this._root)}};function J2(n,t){t.value._routerState=n,t.children.forEach(e=>J2(n,e))}function Vg(n){let t=n.children.length>0?` { ${n.children.map(Vg).join(", ")} } `:"";return`${n.value}${t}`}function x2(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Fn(t.params,e.params)||n.paramsSubject.next(e.params),JC(t.url,e.url)||n.urlSubject.next(e.url),Fn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function U2(n,t){let e=Fn(n.params,t.params)&&iw(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||U2(n.parent,t.parent))}function Ng(n){return typeof n.title=="string"||n.title===null}var Sw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new _,this.deactivateEvents=new _,this.attachEvents=new _,this.detachEvents=new _,this.parentContexts=L(b1),this.location=L(Vt),this.changeDetector=L(it),this.inputBinder=L(eu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:a}=e.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=e;let a=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new G2(e,s,a.injector);this.activated=a.createComponent(o,{index:a.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ce({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ne]})}}return n})(),G2=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===cr?this.route:t===b1?this.childContexts:this.parent.get(t,e)}},eu=new V("");function Lw(n,t,e){let i=Mo(n,t._root,e?e._root:void 0);return new M1(i,t)}function Mo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let a=Dw(n,t,e);return new jt(i,a)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(s=>Mo(n,s)),o}}let i=Aw(t.value),a=t.children.map(r=>Mo(n,r));return new jt(i,a)}}function Dw(n,t,e){return t.children.map(i=>{for(let a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Mo(n,i,a);return Mo(n,i)})}function Aw(n){return new cr(new et(n.url),new et(n.params),new et(n.queryParams),new et(n.fragment),new et(n.data),n.outlet,n.component,n)}var Co=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},qg="ngNavigationCancelingError";function x1(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=fo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=jg(!1,Ht.Redirect);return a.url=e,a.navigationBehaviorOptions=i,a}function jg(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[qg]=!0,e.cancellationCode=t,e}function Ew(n){return Hg(n)&&fo(n.url)}function Hg(n){return!!n&&n[qg]}var Tw=(n,t,e,i)=>Z(a=>(new W2(t,a.targetRouterState,a.currentRouterState,e,i).activate(n),a)),W2=class{constructor(t,e,i,a,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),x2(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let a=nr(e);t.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,a[o],i),delete a[o]}),Object.values(a).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let a=t.value,r=e?e.value:null;if(a===r)if(a.component){let o=i.getContext(a.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,r=nr(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,a);if(i&&i.outlet){let o=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,r=nr(t);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let a=nr(e);t.children.forEach(r=>{this.activateRoutes(r,a[r.value.outlet],i),this.forwardEvent(new j2(r.value.snapshot))}),t.children.length&&this.forwardEvent(new N2(t.value.snapshot))}activateRoutes(t,e,i){let a=t.value,r=e?e.value:null;if(x2(a),a===r)if(a.component){let o=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(a.component){let o=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let s=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),x2(s.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=a,o.outlet&&o.outlet.activateWith(a,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},I1=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},rr=class{constructor(t,e){this.component=t,this.route=e}};function Pw(n,t,e){let i=n._root,a=t?t._root:null;return co(i,a,e,[i.value])}function Rw(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function dr(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!ey(n)?n:t.get(n):i}function co(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){let r=nr(t);return n.children.forEach(o=>{Fw(o,r[o.value.outlet],e,i.concat([o.value]),a),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,s])=>po(s,e.getContext(o),a)),a}function Fw(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,o=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let c=Ow(o,r,r.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new I1(i)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?co(n,t,s?s.children:null,i,a):co(n,t,e,i,a),c&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new rr(s.outlet.component,o))}else o&&po(t,s,a),a.canActivateChecks.push(new I1(i)),r.component?co(n,null,s?s.children:null,i,a):co(n,null,e,i,a);return a}function Ow(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!aa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!aa(n.url,t.url)||!Fn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U2(n,t)||!Fn(n.queryParams,t.queryParams);case"paramsChange":default:return!U2(n,t)}}function po(n,t,e){let i=nr(n),a=n.value;Object.entries(i).forEach(([r,o])=>{a.component?t?po(o,t.children.getContext(r),e):po(o,null,e):po(o,t,e)}),a.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new rr(t.outlet.component,a)):e.canDeactivateChecks.push(new rr(null,a)):e.canDeactivateChecks.push(new rr(null,a))}function _o(n){return typeof n=="function"}function Vw(n){return typeof n=="boolean"}function Nw(n){return n&&_o(n.canLoad)}function qw(n){return n&&_o(n.canActivate)}function jw(n){return n&&_o(n.canActivateChild)}function Hw(n){return n&&_o(n.canDeactivate)}function zw(n){return n&&_o(n.canMatch)}function zg(n){return n instanceof Bn||n?.name==="EmptyError"}var u1=Symbol("INITIAL_VALUE");function lr(){return ht(n=>Ns(n.map(t=>t.pipe(cn(1),Gn(u1)))).pipe(Z(t=>{for(let e of t)if(e!==!0){if(e===u1)return u1;if(e===!1||Bw(e))return e}return!0}),at(t=>t!==u1),cn(1)))}function Bw(n){return fo(n)||n instanceof Co}function Uw(n,t){return Ze(e=>{let{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return o.length===0&&r.length===0?X(de(E({},e),{guardsResult:!0})):Gw(o,i,a,n).pipe(Ze(s=>s&&Vw(s)?Ww(i,r,n,t):X(s)),Z(s=>de(E({},e),{guardsResult:s})))})}function Gw(n,t,e,i){return Oe(n).pipe(Ze(a=>Qw(a.component,a.route,e,t,i)),xn(a=>a!==!0,!0))}function Ww(n,t,e,i){return Oe(t).pipe(ci(a=>_a(Zw(a.route.parent,i),$w(a.route,i),Xw(n,a.path,e),Kw(n,a.route,e))),xn(a=>a!==!0,!0))}function $w(n,t){return n!==null&&t&&t(new q2(n)),X(!0)}function Zw(n,t){return n!==null&&t&&t(new V2(n)),X(!0)}function Kw(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return X(!0);let a=i.map(r=>qs(()=>{let o=bo(t)??e,s=dr(r,o),c=qw(s)?s.canActivate(t,n):pn(o,()=>s(t,n));return Di(c).pipe(xn())}));return X(a).pipe(lr())}function Xw(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>Rw(o)).filter(o=>o!==null).map(o=>qs(()=>{let s=o.guards.map(c=>{let l=bo(o.node)??e,d=dr(c,l),h=jw(d)?d.canActivateChild(i,n):pn(l,()=>d(i,n));return Di(h).pipe(xn())});return X(s).pipe(lr())}));return X(r).pipe(lr())}function Qw(n,t,e,i,a){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return X(!0);let o=r.map(s=>{let c=bo(t)??a,l=dr(s,c),d=Hw(l)?l.canDeactivate(n,t,e,i):pn(c,()=>l(n,t,e,i));return Di(d).pipe(xn())});return X(o).pipe(lr())}function Yw(n,t,e,i){let a=t.canLoad;if(a===void 0||a.length===0)return X(!0);let r=a.map(o=>{let s=dr(o,n),c=Nw(s)?s.canLoad(t,e):pn(n,()=>s(t,e));return Di(c)});return X(r).pipe(lr(),Bg(i))}function Bg(n){return Dl(Be(t=>{if(typeof t!="boolean")throw x1(n,t)}),Z(t=>t===!0))}function Jw(n,t,e,i){let a=t.canMatch;if(!a||a.length===0)return X(!0);let r=a.map(o=>{let s=dr(o,n),c=zw(s)?s.canMatch(t,e):pn(n,()=>s(t,e));return Di(c)});return X(r).pipe(lr(),Bg(i))}var wo=class{constructor(t){this.segmentGroup=t||null}},xo=class extends Error{constructor(t){super(),this.urlTree=t}};function tr(n){return Ia(new wo(n))}function ex(n){return Ia(new A(4e3,!1))}function tx(n){return Ia(jg(!1,Ht.GuardRejected))}var $2=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),a.numberOfChildren===0)return X(i);if(a.numberOfChildren>1||!a.children[le])return ex(`${t.redirectTo}`);a=a.children[le]}}applyRedirectCommands(t,e,i,a,r){if(typeof e!="string"){let s=e,{queryParams:c,fragment:l,routeConfig:d,url:h,outlet:g,params:f,data:v,title:M}=a,S=pn(r,()=>s({params:f,data:v,queryParams:c,fragment:l,routeConfig:d,url:h,outlet:g,title:M}));if(S instanceof ii)throw new xo(S);e=S}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new xo(o);return o}applyRedirectCreateUrlTree(t,e,i,a){let r=this.createSegmentGroup(t,e.root,i,a);return new ii(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([a,r])=>{if(typeof r=="string"&&r[0]===":"){let s=r.substring(1);i[a]=e[s]}else i[a]=r}),i}createSegmentGroup(t,e,i,a){let r=this.createSegments(t,e.segments,i,a),o={};return Object.entries(e.children).forEach(([s,c])=>{o[s]=this.createSegmentGroup(t,c,i,a)}),new De(r,o)}createSegments(t,e,i,a){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,a):this.findOrReturn(r,i))}findPosParam(t,e,i){let a=i[e.path.substring(1)];if(!a)throw new A(4001,!1);return a}findOrReturn(t,e){let i=0;for(let a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}},Z2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nx(n,t,e,i,a){let r=Ug(n,t,e);return r.matched?(i=Iw(t,i),Jw(i,t,e,a).pipe(Z(o=>o===!0?r:E({},Z2)))):X(r)}function Ug(n,t,e){if(t.path==="**")return ix(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?E({},Z2):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let a=(t.matcher||YC)(e,n,t);if(!a)return E({},Z2);let r={};Object.entries(a.posParams??{}).forEach(([s,c])=>{r[s]=c.path});let o=a.consumed.length>0?E(E({},r),a.consumed[a.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:o,positionalParamSegments:a.posParams??{}}}function ix(n){return{matched:!0,parameters:n.length>0?xg(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vg(n,t,e,i){return e.length>0&&ox(n,e,i)?{segmentGroup:new De(t,rx(i,new De(e,n.children))),slicedSegments:[]}:e.length===0&&sx(n,e,i)?{segmentGroup:new De(n.segments,ax(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new De(n.segments,n.children),slicedSegments:e}}function ax(n,t,e,i){let a={};for(let r of e)if(_1(n,t,r)&&!i[mn(r)]){let o=new De([],{});a[mn(r)]=o}return E(E({},i),a)}function rx(n,t){let e={};e[le]=t;for(let i of n)if(i.path===""&&mn(i)!==le){let a=new De([],{});e[mn(i)]=a}return e}function ox(n,t,e){return e.some(i=>_1(n,t,i)&&mn(i)!==le)}function sx(n,t,e){return e.some(i=>_1(n,t,i))}function _1(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function cx(n,t,e){return t.length===0&&!n.children[e]}var K2=class{};function lx(n,t,e,i,a,r,o="emptyOnly"){return new X2(n,t,e,i,a,o,r).recognize()}var dx=31,X2=class{constructor(t,e,i,a,r,o,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=a,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new $2(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=vg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Z(({children:e,rootSnapshot:i})=>{let a=new jt(i,e),r=new w1("",a),o=gw(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(t){let e=new ar([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,le,e).pipe(Z(i=>({children:i,rootSnapshot:e})),Wt(i=>{if(i instanceof xo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof wo?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,a,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,a,!0,r).pipe(Z(o=>o instanceof jt?[o]:[]))}processChildren(t,e,i,a){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Oe(r).pipe(ci(o=>{let s=i.children[o],c=bw(e,o);return this.processSegmentGroup(t,c,s,o,a)}),zl((o,s)=>(o.push(...s),o)),li(null),Hl(),Ze(o=>{if(o===null)return tr(i);let s=Gg(o);return hx(s),X(s)}))}processSegment(t,e,i,a,r,o,s){return Oe(e).pipe(ci(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,a,r,o,s).pipe(Wt(l=>{if(l instanceof wo)return X(null);throw l}))),xn(c=>!!c),Wt(c=>{if(zg(c))return cx(i,a,r)?X(new K2):tr(i);throw c}))}processSegmentAgainstRoute(t,e,i,a,r,o,s,c){return mn(i)!==o&&(o===le||!_1(a,r,i))?tr(a):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,a,i,r,o,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,a,e,i,r,o,c):tr(a)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,r,o,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:g}=Ug(e,a,r);if(!c)return tr(e);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dx&&(this.allowRedirects=!1));let f=new ar(r,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Mg(a),mn(a),a.component??a._loadedComponent??null,a,Cg(a)),v=C1(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(v.params),f.data=Object.freeze(v.data);let M=this.applyRedirects.applyRedirectCommands(d,a.redirectTo,h,f,t);return this.applyRedirects.lineralizeSegments(a,M).pipe(Ze(S=>this.processSegment(t,i,e,S.concat(g),o,!1,s)))}matchSegmentAgainstRoute(t,e,i,a,r,o){let s=nx(e,i,a,t,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(ht(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,a).pipe(ht(({routes:l})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:g,remainingSegments:f}=c,v=new ar(g,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Mg(i),mn(i),i.component??i._loadedComponent??null,i,Cg(i)),M=C1(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:F}=vg(e,g,f,l);if(F.length===0&&S.hasChildren())return this.processChildren(d,l,S,v).pipe(Z(U=>new jt(v,U)));if(l.length===0&&F.length===0)return X(new jt(v,[]));let B=mn(i)===r;return this.processSegment(d,l,S,F,B?le:r,!0,v).pipe(Z(U=>new jt(v,U instanceof jt?[U]:[])))}))):tr(e)))}getChildConfig(t,e,i){return e.children?X({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?X({routes:e._loadedRoutes,injector:e._loadedInjector}):Yw(t,e,i,this.urlSerializer).pipe(Ze(a=>a?this.configLoader.loadChildren(t,e).pipe(Be(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):tx(e))):X({routes:[],injector:t})}};function hx(n){n.sort((t,e)=>t.value.outlet===le?-1:e.value.outlet===le?1:t.value.outlet.localeCompare(e.value.outlet))}function ux(n){let t=n.value.routeConfig;return t&&t.path===""}function Gg(n){let t=[],e=new Set;for(let i of n){if(!ux(i)){t.push(i);continue}let a=t.find(r=>i.value.routeConfig===r.value.routeConfig);a!==void 0?(a.children.push(...i.children),e.add(a)):t.push(i)}for(let i of e){let a=Gg(i.children);t.push(new jt(i.value,a))}return t.filter(i=>!e.has(i))}function Mg(n){return n.data||{}}function Cg(n){return n.resolve||{}}function px(n,t,e,i,a,r){return Ze(o=>lx(n,t,e,i,o.extractedUrl,a,r).pipe(Z(({state:s,tree:c})=>de(E({},o),{targetSnapshot:s,urlAfterRedirects:c}))))}function yx(n,t){return Ze(e=>{let{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return X(e);let r=new Set(a.map(c=>c.route)),o=new Set;for(let c of r)if(!o.has(c))for(let l of Wg(c))o.add(l);let s=0;return Oe(o).pipe(ci(c=>r.has(c)?fx(c,i,n,t):(c.data=C1(c,c.parent,n).resolve,X(void 0))),Be(()=>s++),La(1),Ze(c=>s===o.size?X(e):gt))})}function Wg(n){let t=n.children.map(e=>Wg(e)).flat();return[n,...t]}function fx(n,t,e,i){let a=n.routeConfig,r=n._resolve;return a?.title!==void 0&&!Ng(a)&&(r[Io]=a.title),mx(r,n,t,i).pipe(Z(o=>(n._resolvedData=o,n.data=C1(n,n.parent,e).resolve,null)))}function mx(n,t,e,i){let a=_2(n);if(a.length===0)return X({});let r={};return Oe(a).pipe(Ze(o=>gx(n[o],t,e,i).pipe(xn(),Be(s=>{if(s instanceof Co)throw x1(new yo,s);r[o]=s}))),La(1),jl(r),Wt(o=>zg(o)?gt:Ia(o)))}function gx(n,t,e,i){let a=bo(t)??i,r=dr(n,a),o=r.resolve?r.resolve(t,e):pn(a,()=>r(t,e));return Di(o)}function I2(n){return ht(t=>{let e=n(t);return e?Oe(e).pipe(Z(()=>t)):X(t)})}var $g=(()=>{class n{buildTitle(e){let i,a=e.root;for(;a!==void 0;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(r=>r.outlet===le);return i}getResolvedTitleForRoute(e){return e.data[Io]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(kx),providedIn:"root"})}}return n})(),kx=(()=>{class n extends $g{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(P(yg))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tu=new V("",{providedIn:"root",factory:()=>({})}),vx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=O({type:n,selectors:[["ng-component"]],standalone:!0,features:[q],decls:1,vars:0,template:function(i,a){i&1&&H(0,"router-outlet")},dependencies:[Sw],encapsulation:2})}}return n})();function nu(n){let t=n.children&&n.children.map(nu),e=t?de(E({},n),{children:t}):E({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==le&&(e.component=vx),e}var iu=new V(""),Mx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(e2)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return X(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Di(e.loadComponent()).pipe(Z(Zg),Be(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),Hi(()=>{this.componentLoaders.delete(e)})),a=new va(i,()=>new Q).pipe(ka());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return X({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=Cx(i,this.compiler,e,this.onLoadEndListener).pipe(Hi(()=>{this.childrenLoaders.delete(i)})),o=new va(r,()=>new Q).pipe(ka());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cx(n,t,e,i){return Di(n.loadChildren()).pipe(Z(Zg),Ze(a=>a instanceof qr||Array.isArray(a)?X(a):Oe(t.compileModuleAsync(a))),Z(a=>{i&&i(n);let r,o,s=!1;return Array.isArray(a)?(o=a,s=!0):(r=a.create(e).injector,o=r.get(iu,[],{optional:!0,self:!0}).flat()),{routes:o.map(nu),injector:r}}))}function wx(n){return n&&typeof n=="object"&&"default"in n}function Zg(n){return wx(n)?n.default:n}var au=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(xx),providedIn:"root"})}}return n})(),xx=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ix=new V("");var bx=new V(""),_x=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=L(Mx),this.environmentInjector=L(yt),this.urlSerializer=L(Y2),this.rootContexts=L(b1),this.location=L(Qr),this.inputBindingEnabled=L(eu,{optional:!0})!==null,this.titleStrategy=L($g),this.options=L(tu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(au),this.createViewTransition=L(Ix,{optional:!0}),this.navigationErrorHandler=L(bx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let e=a=>this.events.next(new F2(a)),i=a=>this.events.next(new O2(a));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(de(E(E({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,a){return this.transitions=new et({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uo,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(r=>r.id!==0),Z(r=>de(E({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ht(r=>{let o=!1,s=!1;return X(r).pipe(ht(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),gt;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?de(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new oa(c.id,this.urlSerializer.serialize(c.rawUrl),h,A2.IgnoredSameUrlNavigation)),c.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return X(c).pipe(ht(h=>{let g=this.transitions?.getValue();return this.events.next(new go(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?gt:Promise.resolve(h)}),px(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=de(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new k1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:g,source:f,restoredState:v,extras:M}=c,S=new go(h,this.urlSerializer.serialize(g),f,v);this.events.next(S);let F=Og(this.rootComponentType).snapshot;return this.currentTransition=r=de(E({},c),{targetSnapshot:F,urlAfterRedirects:g,extras:de(E({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,X(r)}else{let h="";return this.events.next(new oa(c.id,this.urlSerializer.serialize(c.extractedUrl),h,A2.IgnoredByUrlHandlingStrategy)),c.resolve(!1),gt}}),Be(c=>{let l=new E2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Z(c=>(this.currentTransition=r=de(E({},c),{guards:Pw(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),r)),Uw(this.environmentInjector,c=>this.events.next(c)),Be(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw x1(this.urlSerializer,c.guardsResult);let l=new T2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),at(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ht.GuardRejected),!1)),I2(c=>{if(c.guards.canActivateChecks.length)return X(c).pipe(Be(l=>{let d=new P2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ht(l=>{let d=!1;return X(l).pipe(yx(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Ht.NoDataFromResolver)}}))}),Be(l=>{let d=new R2(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),I2(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Be(g=>{d.component=g}),Z(()=>{})));for(let g of d.children)h.push(...l(g));return h};return Ns(l(c.targetSnapshot.root)).pipe(li(null),cn(1))}),I2(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:c,targetSnapshot:l}=r,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?Oe(d).pipe(Z(()=>r)):X(r)}),Z(c=>{let l=Lw(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r=de(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,r}),Be(()=>{this.events.next(new vo)}),Tw(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),cn(1),Be({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ra(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),ut(this.transitionAbortSubject.pipe(Be(c=>{throw c}))),Hi(()=>{!o&&!s&&this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wt(c=>{if(s=!0,Hg(c))this.events.next(new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),Ew(c)?this.events.next(new sr(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{let l=new ko(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{let d=pn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof Co){let{message:h,cancellationCode:g}=x1(this.urlSerializer,d);this.events.next(new ni(r.id,this.urlSerializer.serialize(r.extractedUrl),h,g)),this.events.next(new sr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(l);let h=e.errorHandler(c);r.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return gt}))}))}cancelNavigationTransition(e,i,a){let r=new ni(e.id,this.urlSerializer.serialize(e.extractedUrl),i,a);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sx(n){return n!==uo}var Lx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(Dx),providedIn:"root"})}}return n})(),Q2=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Dx=(()=>{class n extends Q2{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:()=>L(Ax),providedIn:"root"})}}return n})(),Ax=(()=>{class n extends Kg{constructor(){super(...arguments),this.location=L(Qr),this.urlSerializer=L(Y2),this.options=L(tu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(au),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Og(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof go)this.stateMemento=this.createStateMemento();else if(e instanceof oa)this.rawUrlTree=i.initialUrl;else if(e instanceof k1){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??a,i)}}else e instanceof vo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof ni&&(e.code===Ht.GuardRejected||e.code===Ht.NoDataFromResolver)?this.restoreHistory(i):e instanceof ko?this.restoreHistory(i,!0):e instanceof ra&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let a=e instanceof ii?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){let r=this.browserPageId,o=E(E({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(a,"",o)}else{let r=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(a,"",r)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,r=this.currentPageId-a;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(lo||{});function Ex(n,t){n.events.pipe(at(e=>e instanceof ra||e instanceof ni||e instanceof ko||e instanceof oa),Z(e=>e instanceof ra||e instanceof oa?lo.COMPLETE:(e instanceof ni?e.code===Ht.Redirect||e.code===Ht.SupersededByNewNavigation:!1)?lo.REDIRECTING:lo.FAILED),at(e=>e!==lo.REDIRECTING),cn(1)).subscribe(()=>{t()})}function Tx(n){throw n}var Px={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xg=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Qc),this.stateManager=L(Kg),this.options=L(tu,{optional:!0})||{},this.pendingTasks=L(Yn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(_x),this.urlSerializer=L(Y2),this.location=L(Qr),this.urlHandlingStrategy=L(au),this._events=new Q,this.errorHandler=this.options.errorHandler||Tx,this.navigated=!1,this.routeReuseStrategy=L(Lx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(iu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(eu,{optional:!0}),this.eventsSubscription=new Ie,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let a=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(a!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof ni&&i.code!==Ht.Redirect&&i.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ra)this.navigated=!0;else if(i instanceof sr){let o=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),c=E({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Sx(a.source)},o);this.scheduleNavigation(s,uo,null,c,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Ox(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,a){let r={replaceUrl:!0},o=a?.navigationId?a:null;if(a){let c=E({},a);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:a,queryParams:r,fragment:o,queryParamsHandling:s,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=E(E({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let g=a?a.snapshot:this.routerState.snapshot.root;h=Tg(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Pg(h,e,d,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){let a=fo(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(r,uo,null,i)}navigate(e,i={skipLocationChange:!1}){return Fx(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let a;if(i===!0?a=E({},Px):i===!1?a=E({},Rx):a=i,fo(e))return fg(this.currentUrlTree,e,a);let r=this.parseUrl(e);return fg(this.currentUrlTree,r,a)}removeEmptyProps(e){return Object.entries(e).reduce((i,[a,r])=>(r!=null&&(i[a]=r),i),{})}scheduleNavigation(e,i,a,r,o){if(this.disposed)return Promise.resolve(!1);let s,c,l;o?(s=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,g)=>{s=h,c=g});let d=this.pendingTasks.add();return Ex(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fx(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new A(4008,!1)}function Ox(n){return!(n instanceof vo)&&!(n instanceof sr)}var Vx=new V("");function Qg(n,...t){return Za([{provide:iu,multi:!0,useValue:n},[],{provide:cr,useFactory:Nx,deps:[Xg]},{provide:Yc,multi:!0,useFactory:qx},t.map(e=>e.\u0275providers)])}function Nx(n){return n.routerState.root}function qx(){let n=L(Ft);return t=>{let e=n.get(Rn);if(t!==e.components[0])return;let i=n.get(Xg),a=n.get(jx);n.get(Hx)===1&&i.initialNavigation(),n.get(zx,null,he.Optional)?.setUpPreloading(),n.get(Vx,null,he.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var jx=new V("",{factory:()=>new Q}),Hx=new V("",{providedIn:"root",factory:()=>1});var zx=new V("");var Yg=[];var me=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(me||{}),On="*";function Jg(n,t=null){return{type:me.Sequence,steps:n,options:t}}function ru(n){return{type:me.Style,styles:n,offset:null}}var Ai=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},So=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,a=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++a==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let a=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(a)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},S1="!";function ek(n){return new A(3e3,!1)}function Bx(){return new A(3100,!1)}function Ux(){return new A(3101,!1)}function Gx(n){return new A(3001,!1)}function Wx(n){return new A(3003,!1)}function $x(n){return new A(3004,!1)}function Zx(n,t){return new A(3005,!1)}function Kx(){return new A(3006,!1)}function Xx(){return new A(3007,!1)}function Qx(n,t){return new A(3008,!1)}function Yx(n){return new A(3002,!1)}function Jx(n,t,e,i,a){return new A(3010,!1)}function e9(){return new A(3011,!1)}function t9(){return new A(3012,!1)}function n9(){return new A(3200,!1)}function i9(){return new A(3202,!1)}function a9(){return new A(3013,!1)}function r9(n){return new A(3014,!1)}function o9(n){return new A(3015,!1)}function s9(n){return new A(3016,!1)}function c9(n,t){return new A(3404,!1)}function l9(n){return new A(3502,!1)}function d9(n){return new A(3503,!1)}function h9(){return new A(3300,!1)}function u9(n){return new A(3504,!1)}function p9(n){return new A(3301,!1)}function y9(n,t){return new A(3302,!1)}function f9(n){return new A(3303,!1)}function m9(n,t){return new A(3400,!1)}function g9(n){return new A(3401,!1)}function k9(n){return new A(3402,!1)}function v9(n,t){return new A(3505,!1)}function Ei(n){switch(n.length){case 0:return new Ai;case 1:return n[0];default:return new So(n)}}function yk(n,t,e=new Map,i=new Map){let a=[],r=[],o=-1,s=null;if(t.forEach(c=>{let l=c.get("offset"),d=l==o,h=d&&s||new Map;c.forEach((g,f)=>{let v=f,M=g;if(f!=="offset")switch(v=n.normalizePropertyName(v,a),M){case S1:M=e.get(f);break;case On:M=i.get(f);break;default:M=n.normalizeStyleValue(f,v,M,a);break}h.set(v,M)}),d||r.push(h),s=h,o=l}),a.length)throw l9(a);return r}function Lu(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ou(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ou(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ou(e,"destroy",n)));break}}function ou(n,t,e){let i=e.totalTime,a=!!e.disabled,r=Du(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,a),o=n._data;return o!=null&&(r._data=o),r}function Du(n,t,e,i,a="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:a,totalTime:r,disabled:!!o}}function Bt(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function tk(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var M9=typeof document>"u"?null:document.documentElement;function Au(n){let t=n.parentNode||n.host||null;return t===M9?null:t}function C9(n){return n.substring(1,6)=="ebkit"}var sa=null,nk=!1;function w9(n){sa||(sa=x9()||{},nk=sa.style?"WebkitAppearance"in sa.style:!1);let t=!0;return sa.style&&!C9(n)&&(t=n in sa.style,!t&&nk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sa.style)),t}function x9(){return typeof document<"u"?document.body:null}function fk(n,t){for(;t;){if(t===n)return!0;t=Au(t)}return!1}function mk(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Eu=(()=>{class n{validateStyleProperty(e){return w9(e)}containsElement(e,i){return fk(e,i)}getParentElement(e){return Au(e)}query(e,i,a){return mk(e,i,a)}computeStyle(e,i,a){return a||""}animate(e,i,a,r,o,s=[],c){return new Ai(a,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),da=class{static{this.NOOP=new Eu}},ha=class{};var I9=1e3,gk="{{",b9="}}",kk="ng-enter",uu="ng-leave",L1="ng-trigger",P1=".ng-trigger",ik="ng-animating",pu=".ng-animating";function ai(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yu(parseFloat(t[1]),t[2])}function yu(n,t){switch(t){case"s":return n*I9;default:return n}}function R1(n,t,e){return n.hasOwnProperty("duration")?n:_9(n,t,e)}function _9(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,a,r=0,o="";if(typeof n=="string"){let s=n.match(i);if(s===null)return t.push(ek(n)),{duration:0,delay:0,easing:""};a=yu(parseFloat(s[1]),s[2]);let c=s[3];c!=null&&(r=yu(parseFloat(c),s[4]));let l=s[5];l&&(o=l)}else a=n;if(!e){let s=!1,c=t.length;a<0&&(t.push(Bx()),s=!0),r<0&&(t.push(Ux()),s=!0),s&&t.splice(c,0,ek(n))}return{duration:a,delay:r,easing:o}}function S9(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Vn(n,t,e){t.forEach((i,a)=>{let r=Tu(a);e&&!e.has(a)&&e.set(a,n.style[r]),n.style[r]=i})}function la(n,t){t.forEach((e,i)=>{let a=Tu(i);n.style[a]=""})}function Lo(n){return Array.isArray(n)?n.length==1?n[0]:Jg(n):n}function L9(n,t,e){let i=t.params||{},a=vk(n);a.length&&a.forEach(r=>{i.hasOwnProperty(r)||e.push(Gx(r))})}var fu=new RegExp(`${gk}\\s*(.+?)\\s*${b9}`,"g");function vk(n){let t=[];if(typeof n=="string"){let e;for(;e=fu.exec(n);)t.push(e[1]);fu.lastIndex=0}return t}function Ao(n,t,e){let i=`${n}`,a=i.replace(fu,(r,o)=>{let s=t[o];return s==null&&(e.push(Wx(o)),s=""),s.toString()});return a==i?n:a}var D9=/-+([a-z0-9])/g;function Tu(n){return n.replace(D9,(...t)=>t[1].toUpperCase())}function A9(n,t){return n===0||t===0}function E9(n,t,e){if(e.size&&t.length){let i=t[0],a=[];if(e.forEach((r,o)=>{i.has(o)||a.push(o),i.set(o,r)}),a.length)for(let r=1;r<t.length;r++){let o=t[r];a.forEach(s=>o.set(s,Pu(n,s)))}}return t}function zt(n,t,e){switch(t.type){case me.Trigger:return n.visitTrigger(t,e);case me.State:return n.visitState(t,e);case me.Transition:return n.visitTransition(t,e);case me.Sequence:return n.visitSequence(t,e);case me.Group:return n.visitGroup(t,e);case me.Animate:return n.visitAnimate(t,e);case me.Keyframes:return n.visitKeyframes(t,e);case me.Style:return n.visitStyle(t,e);case me.Reference:return n.visitReference(t,e);case me.AnimateChild:return n.visitAnimateChild(t,e);case me.AnimateRef:return n.visitAnimateRef(t,e);case me.Query:return n.visitQuery(t,e);case me.Stagger:return n.visitStagger(t,e);default:throw $x(t.type)}}function Pu(n,t){return window.getComputedStyle(n)[t]}var T9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),F1=class extends ha{normalizePropertyName(t,e){return Tu(t)}normalizeStyleValue(t,e,i,a){let r="",o=i.toString().trim();if(T9.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&a.push(Zx(t,i))}return o+r}};var O1="*";function P9(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>R9(i,e,t)):e.push(n),e}function R9(n,t,e){if(n[0]==":"){let c=F9(n,e);if(typeof c=="function"){t.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(o9(n)),t;let a=i[1],r=i[2],o=i[3];t.push(ak(a,o));let s=a==O1&&o==O1;r[0]=="<"&&!s&&t.push(ak(o,a))}function F9(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(s9(n)),"* => *"}}var D1=new Set(["true","1"]),A1=new Set(["false","0"]);function ak(n,t){let e=D1.has(n)||A1.has(n),i=D1.has(t)||A1.has(t);return(a,r)=>{let o=n==O1||n==a,s=t==O1||t==r;return!o&&e&&typeof a=="boolean"&&(o=a?D1.has(n):A1.has(n)),!s&&i&&typeof r=="boolean"&&(s=r?D1.has(t):A1.has(t)),o&&s}}var Mk=":self",O9=new RegExp(`s*${Mk}s*,?`,"g");function Ck(n,t,e,i){return new mu(n).build(t,e,i)}var rk="",mu=class{constructor(t){this._driver=t}build(t,e,i){let a=new gu(e);return this._resetContextStyleTimingState(a),zt(this,Lo(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector=rk,t.collectedStyles=new Map,t.collectedStyles.set(rk,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,a=e.depCount=0,r=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Kx()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==me.State){let c=s,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,r.push(this.visitState(c,e))}),c.name=l}else if(s.type==me.Transition){let c=this.visitTransition(s,e);i+=c.queryCount,a+=c.depCount,o.push(c)}else e.errors.push(Xx())}),{type:me.Trigger,name:t.name,states:r,transitions:o,queryCount:i,depCount:a,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,o=a||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(c=>{vk(c).forEach(l=>{o.hasOwnProperty(l)||r.add(l)})})}),r.size&&e.errors.push(Qx(t.name,[...r.values()]))}return{type:me.State,name:t.name,style:i,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=zt(this,Lo(t.animation),e),a=P9(t.expr,e.errors);return{type:me.Transition,matchers:a,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ca(t.options)}}visitSequence(t,e){return{type:me.Sequence,steps:t.steps.map(i=>zt(this,i,e)),options:ca(t.options)}}visitGroup(t,e){let i=e.currentTime,a=0,r=t.steps.map(o=>{e.currentTime=i;let s=zt(this,o,e);return a=Math.max(a,e.currentTime),s});return e.currentTime=a,{type:me.Group,steps:r,options:ca(t.options)}}visitAnimate(t,e){let i=j9(t.timings,e.errors);e.currentAnimateTimings=i;let a,r=t.styles?t.styles:ru({});if(r.type==me.Keyframes)a=this.visitKeyframes(r,e);else{let o=t.styles,s=!1;if(!o){s=!0;let l={};i.easing&&(l.easing=i.easing),o=ru(l)}e.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,e);c.isEmptyStep=s,a=c}return e.currentAnimateTimings=null,{type:me.Animate,timings:i,style:a,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of a)typeof s=="string"?s===On?i.push(s):e.errors.push(Yx(s)):i.push(new Map(Object.entries(s)));let r=!1,o=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!r)){for(let c of s.values())if(c.toString().indexOf(gk)>=0){r=!0;break}}}),{type:me.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,a=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,c)=>{let l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c),h=!0;d&&(r!=a&&r>=d.startTime&&a<=d.endTime&&(e.errors.push(Jx(c,d.startTime,d.endTime,r,a)),h=!1),r=d.startTime),h&&l.set(c,{startTime:r,endTime:a}),e.options&&L9(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:me.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(e9()),i;let a=1,r=0,o=[],s=!1,c=!1,l=0,d=t.steps.map(F=>{let B=this._makeStyleAst(F,e),U=B.offset!=null?B.offset:q9(B.styles),ee=0;return U!=null&&(r++,ee=B.offset=U),c=c||ee<0||ee>1,s=s||ee<l,l=ee,o.push(ee),B});c&&e.errors.push(t9()),s&&e.errors.push(n9());let h=t.steps.length,g=0;r>0&&r<h?e.errors.push(i9()):r==0&&(g=a/(h-1));let f=h-1,v=e.currentTime,M=e.currentAnimateTimings,S=M.duration;return d.forEach((F,B)=>{let U=g>0?B==f?1:g*B:o[B],ee=U*S;e.currentTime=v+M.delay+ee,M.duration=ee,this._validateStyleAst(F,e),F.offset=U,i.styles.push(F)}),i}visitReference(t,e){return{type:me.Reference,animation:zt(this,Lo(t.animation),e),options:ca(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:me.AnimateChild,options:ca(t.options)}}visitAnimateRef(t,e){return{type:me.AnimateRef,animation:this.visitReference(t.animation,e),options:ca(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;let[r,o]=V9(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Bt(e.collectedStyles,e.currentQuerySelector,new Map);let s=zt(this,Lo(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:me.Query,selector:r,limit:a.limit||0,optional:!!a.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:ca(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(a9());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:R1(t.timings,e.errors,!0);return{type:me.Stagger,animation:zt(this,Lo(t.animation),e),timings:i,options:null}}};function V9(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Mk);return t&&(n=n.replace(O9,"")),n=n.replace(/@\*/g,P1).replace(/@\w+/g,e=>P1+"-"+e.slice(1)).replace(/:animating/g,pu),[n,t]}function N9(n){return n?E({},n):null}var gu=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function q9(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function j9(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=R1(n,t).duration;return su(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=su(0,0,"");return r.dynamic=!0,r.strValue=e,r}let a=R1(e,t);return su(a.duration,a.delay,a.easing)}function ca(n){return n?(n=E({},n),n.params&&(n.params=N9(n.params))):n={},n}function su(n,t,e){return{duration:n,delay:t,easing:e}}function Ru(n,t,e,i,a,r,o=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:a,delay:r,totalTime:a+r,easing:o,subTimeline:s}}var Eo=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},H9=1,z9=":enter",B9=new RegExp(z9,"g"),U9=":leave",G9=new RegExp(U9,"g");function wk(n,t,e,i,a,r=new Map,o=new Map,s,c,l=[]){return new ku().buildKeyframes(n,t,e,i,a,r,o,s,c,l)}var ku=class{buildKeyframes(t,e,i,a,r,o,s,c,l,d=[]){l=l||new Eo;let h=new vu(t,e,l,a,r,d,[]);h.options=c;let g=c.delay?ai(c.delay):0;h.currentTimeline.delayNextStep(g),h.currentTimeline.setStyles([o],null,h.errors,c),zt(this,i,h);let f=h.timelines.filter(v=>v.containsAnimation());if(f.length&&s.size){let v;for(let M=f.length-1;M>=0;M--){let S=f[M];if(S.element===e){v=S;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([s],null,h.errors,c)}return f.length?f.map(v=>v.buildKeyframes()):[Ru(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let a=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,a,a.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let a of t){let r=a?.delay;if(r){let o=typeof r=="number"?r:ai(Ao(r,a?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,o=i.duration!=null?ai(i.duration):null,s=i.delay!=null?ai(i.delay):null;return o!==0&&t.forEach(c=>{let l=e.appendInstructionToTimeline(c,o,s);r=Math.max(r,l.duration+l.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),zt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,a=e,r=t.options;if(r&&(r.params||r.delay)&&(a=e.createSubContext(r),a.transformIntoNewTimeline(),r.delay!=null)){a.previousNode.type==me.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=V1);let o=ai(r.delay);a.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>zt(this,o,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],a=e.currentTimeline.currentTime,r=t.options&&t.options.delay?ai(t.options.delay):0;t.steps.forEach(o=>{let s=e.createSubContext(t.options);r&&s.delayNextStep(r),zt(this,o,s),a=Math.max(a,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,a=e.params?Ao(i,e.params,e.errors):i;return R1(a,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),a.snapshotCurrentStyles());let r=t.style;r.type==me.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,a=e.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=a&&a.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,a=e.currentTimeline.duration,r=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(c=>{let l=c.offset||0;s.forwardTime(l*r),s.setStyles(c.styles,c.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(a+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,a=t.options||{},r=a.delay?ai(a.delay):0;r&&(e.previousNode.type===me.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=V1);let o=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=s.length;let c=null;s.forEach((l,d)=>{e.currentQueryIndex=d;let h=e.createSubContext(t.options,l);r&&h.delayNextStep(r),l===e.element&&(c=h.currentTimeline),zt(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let g=h.currentTimeline.currentTime;o=Math.max(o,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,a=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1),c=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=s-c;break;case"full":c=i.currentStaggerTime;break}let d=e.currentTimeline;c&&d.delayNextStep(c);let h=d.currentTime;zt(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=a.currentTime-h+(a.startTime-i.currentTimeline.startTime)}},V1={},vu=class n{constructor(t,e,i,a,r,o,s,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=V1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new N1(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,a=this.options;i.duration!=null&&(a.duration=ai(i.duration)),i.delay!=null&&(a.delay=ai(i.delay));let r=i.params;if(r){let o=a.params;o||(o=this.options.params={}),Object.keys(r).forEach(s=>{(!e||!o.hasOwnProperty(s))&&(o[s]=Ao(r[s],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(a=>{i[a]=e[a]})}}return t}createSubContext(t=null,e,i){let a=e||this.element,r=new n(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=V1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new Mu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(r),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,a,r,o){let s=[];if(a&&s.push(this.element),t.length>0){t=t.replace(B9,"."+this._enterClassName),t=t.replace(G9,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,t,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),s.push(...l)}return!r&&s.length==0&&o.push(r9(e)),s}},N1=class n{constructor(t,e,i,a){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=H9,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||On),this._currentKeyframe.set(e,On);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,a){e&&this._previousKeyframe.set("easing",e);let r=a&&a.params||{},o=W9(t,this._globalTimelineStyles);for(let[s,c]of o){let l=Ao(c,r,i);this._pendingStyles.set(s,l),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??On),this._updateStyle(s,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let a=this._styleSummary.get(i);(!a||e.time>a.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,a=[];this._keyframes.forEach((s,c)=>{let l=new Map([...this._backFill,...s]);l.forEach((d,h)=>{d===S1?t.add(h):d===On&&e.add(h)}),i||l.set("offset",c/this.duration),a.push(l)});let r=[...t.values()],o=[...e.values()];if(i){let s=a[0],c=new Map(s);s.set("offset",0),c.set("offset",1),a=[s,c]}return Ru(this.element,a,r,o,this.duration,this.startTime,this.easing,!1)}},Mu=class extends N1{constructor(t,e,i,a,r,o,s=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=i+e,s=e/o,c=new Map(t[0]);c.set("offset",0),r.push(c);let l=new Map(t[0]);l.set("offset",ok(s)),r.push(l);let d=t.length-1;for(let h=1;h<=d;h++){let g=new Map(t[h]),f=g.get("offset"),v=e+f*i;g.set("offset",ok(v/o)),r.push(g)}i=o,e=0,a="",t=r}return Ru(this.element,t,this.preStyleProps,this.postStyleProps,i,e,a,!0)}};function ok(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function W9(n,t){let e=new Map,i;return n.forEach(a=>{if(a==="*"){i??=t.keys();for(let r of i)e.set(r,On)}else for(let[r,o]of a)e.set(r,o)}),e}function sk(n,t,e,i,a,r,o,s,c,l,d,h,g){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:g}}var cu={},q1=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,a){return $9(this.ast.matchers,t,e,i,a)}buildStyles(t,e,i){let a=this._stateStyles.get("*");return t!==void 0&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,i):new Map}build(t,e,i,a,r,o,s,c,l,d){let h=[],g=this.ast.options&&this.ast.options.params||cu,f=s&&s.params||cu,v=this.buildStyles(i,f,h),M=c&&c.params||cu,S=this.buildStyles(a,M,h),F=new Set,B=new Map,U=new Map,ee=a==="void",Pe={params:xk(M,g),delay:this.ast.options?.delay},Me=d?[]:wk(t,e,this.ast.animation,r,o,v,S,Pe,l,h),be=0;return Me.forEach(ze=>{be=Math.max(ze.duration+ze.delay,be)}),h.length?sk(e,this._triggerName,i,a,ee,v,S,[],[],B,U,be,h):(Me.forEach(ze=>{let Tt=ze.element,on=Bt(B,Tt,new Set);ze.preStyleProps.forEach(zn=>on.add(zn));let es=Bt(U,Tt,new Set);ze.postStyleProps.forEach(zn=>es.add(zn)),Tt!==e&&F.add(Tt)}),sk(e,this._triggerName,i,a,ee,v,S,Me,[...F.values()],B,U,be))}};function $9(n,t,e,i,a){return n.some(r=>r(t,e,i,a))}function xk(n,t){let e=E({},t);return Object.entries(n).forEach(([i,a])=>{a!=null&&(e[i]=a)}),e}var Cu=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,a=xk(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,s)=>{o&&(o=Ao(o,a,e));let c=this.normalizer.normalizePropertyName(s,e);o=this.normalizer.normalizeStyleValue(s,c,o,e),i.set(s,o)})}),i}};function Z9(n,t,e){return new wu(n,t,e)}var wu=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{let r=a.options&&a.options.params||{};this.states.set(a.name,new Cu(a.style,r,i))}),ck(this.states,"true","1"),ck(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new q1(t,a,this.states))}),this.fallbackTransition=K9(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,a){return this.transitionFactories.find(o=>o.match(t,e,i,a))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function K9(n,t,e){let i=[(o,s)=>!0],a={type:me.Sequence,steps:[],options:null},r={type:me.Transition,animation:a,matchers:i,options:null,queryCount:0,depCount:0};return new q1(n,r,t)}function ck(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var X9=new Eo,xu=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],a=[],r=Ck(this._driver,e,i,a);if(i.length)throw d9(i);a.length&&void 0,this._animations.set(t,r)}_buildPlayer(t,e,i){let a=t.element,r=yk(this._normalizer,t.keyframes,e,i);return this._driver.animate(a,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let a=[],r=this._animations.get(t),o,s=new Map;if(r?(o=wk(this._driver,e,r,kk,uu,new Map,new Map,i,X9,a),o.forEach(d=>{let h=Bt(s,d.element,new Map);d.postStyleProps.forEach(g=>h.set(g,null))})):(a.push(h9()),o=[]),a.length)throw u9(a);s.forEach((d,h)=>{d.forEach((g,f)=>{d.set(f,this._driver.computeStyle(h,f,On))})});let c=o.map(d=>{let h=s.get(d.element);return this._buildPlayer(d,new Map,h)}),l=Ei(c);return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw p9(t);return e}listen(t,e,i,a){let r=Du(e,"","","");return Lu(this._getPlayer(t),i,r,a),()=>{}}command(t,e,i,a){if(i=="register"){this.register(t,a[0]);return}if(i=="create"){let o=a[0]||{};this.create(t,e,o);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t);break}}},lk="ng-animate-queued",Q9=".ng-animate-queued",lu="ng-animate-disabled",Y9=".ng-animate-disabled",J9="ng-star-inserted",eI=".ng-star-inserted",tI=[],Ik={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gn="__ng_removed",To=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),a=i?t.value:t;if(this.value=aI(a),i){let r=t,{value:o}=r,s=kl(r,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(a=>{i[a]==null&&(i[a]=e[a])})}}},Do="void",du=new To(Do),Iu=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jt(e,this._hostClassName)}listen(t,e,i,a){if(!this._triggers.has(e))throw y9(i,e);if(i==null||i.length==0)throw f9(e);if(!rI(i))throw m9(i,e);let r=Bt(this._elementListeners,t,[]),o={name:e,phase:i,callback:a};r.push(o);let s=Bt(this._engine.statesByElement,t,new Map);return s.has(e)||(Jt(t,L1),Jt(t,L1+"-"+e),s.set(e,du)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(o);c>=0&&r.splice(c,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw g9(t);return e}trigger(t,e,i,a=!0){let r=this._getTrigger(e),o=new Po(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Jt(t,L1),Jt(t,L1+"-"+e),this._engine.statesByElement.set(t,s=new Map));let c=s.get(e),l=new To(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s.set(e,l),c||(c=du),!(l.value===Do)&&c.value===l.value){if(!cI(c.params,l.params)){let M=[],S=r.matchStyles(c.value,c.params,M),F=r.matchStyles(l.value,l.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{la(t,S),Vn(t,F)})}return}let g=Bt(this._engine.playersByElement,t,[]);g.forEach(M=>{M.namespaceId==this.id&&M.triggerName==e&&M.queued&&M.destroy()});let f=r.matchTransition(c.value,l.value,t,l.params),v=!1;if(!f){if(!a)return;f=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:c,toState:l,player:o,isFallbackTransition:v}),v||(Jt(t,lk),o.onStart(()=>{hr(t,lk)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);let S=this._engine.playersByElement.get(t);if(S){let F=S.indexOf(o);F>=0&&S.splice(F,1)}}),this.players.push(o),g.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,P1,!0);i.forEach(a=>{if(a[gn])return;let r=this._engine.fetchNamespacesByElement(a);r.size?r.forEach(o=>o.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,i,a){let r=this._engine.statesByElement.get(t),o=new Map;if(r){let s=[];if(r.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let d=this.trigger(t,l,Do,a);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ei(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let a=new Set;e.forEach(r=>{let o=r.name;if(a.has(o))return;a.add(o);let c=this._triggers.get(o).fallbackTransition,l=i.get(o)||du,d=new To(Do),h=new Po(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)a=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[gn];(!r||r===Ik)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Jt(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let a=i.player;if(a.destroyed)return;let r=i.element,o=this._elementListeners.get(r);o&&o.forEach(s=>{if(s.name==i.triggerName){let c=Du(r,i.triggerName,i.fromState.value,i.toState.value);c._data=t,Lu(i.player,s.phase,c,s.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(i)}),this._queue=[],e.sort((i,a)=>{let r=i.transition.ast.depCount,o=a.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},bu=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,r)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Iu(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,s=this.driver.getParentElement(e);for(;s;){let c=a.get(s);if(c){let l=i.indexOf(c);i.splice(l+1,0,t),o=!0;break}s=this.driver.getParentElement(s)}o||i.unshift(t)}else i.push(t);return a.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let a=this._namespaceLookup[t];a&&a.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let a of i.values())if(a.namespaceId){let r=this._fetchNamespace(a.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,a){if(E1(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,a),!0}return!1}insertNode(t,e,i,a){if(!E1(e))return;let r=e[gn];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jt(t,lu)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hr(t,lu))}removeNode(t,e,i){if(E1(e)){let a=t?this._fetchNamespace(t):null;a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,a,r){this.collectedLeaveElements.push(e),e[gn]={namespaceId:t,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,a,r){return E1(e)?this._fetchNamespace(t).listen(e,i,a,r):()=>{}}_buildInstruction(t,e,i,a,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,a,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,P1,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,pu,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ei(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[gn];if(e&&e.setForRemoval){if(t[gn]=Ik,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lu)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Y9,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let a=this.collectedEnterElements[i];Jt(a,J9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let a=this.collectedLeaveElements[i];this.processLeaveNode(a)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ei(e).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(t){throw k9(t)}_flushAnimations(t,e){let i=new Eo,a=[],r=new Map,o=[],s=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(R=>{d.add(R);let N=this.driver.query(R,Q9,!0);for(let j=0;j<N.length;j++)d.add(N[j])});let h=this.bodyNode,g=Array.from(this.statesByElement.keys()),f=uk(g,this.collectedEnterElements),v=new Map,M=0;f.forEach((R,N)=>{let j=kk+M++;v.set(N,j),R.forEach(ne=>Jt(ne,j))});let S=[],F=new Set,B=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let N=this.collectedLeaveElements[R],j=N[gn];j&&j.setForRemoval&&(S.push(N),F.add(N),j.hasAnimation?this.driver.query(N,eI,!0).forEach(ne=>F.add(ne)):B.add(N))}let U=new Map,ee=uk(g,Array.from(F));ee.forEach((R,N)=>{let j=uu+M++;U.set(N,j),R.forEach(ne=>Jt(ne,j))}),t.push(()=>{f.forEach((R,N)=>{let j=v.get(N);R.forEach(ne=>hr(ne,j))}),ee.forEach((R,N)=>{let j=U.get(N);R.forEach(ne=>hr(ne,j))}),S.forEach(R=>{this.processLeaveNode(R)})});let Pe=[],Me=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(j=>{let ne=j.player,Xe=j.element;if(Pe.push(ne),this.collectedEnterElements.length){let dt=Xe[gn];if(dt&&dt.setForMove){if(dt.previousTriggersValues&&dt.previousTriggersValues.has(j.triggerName)){let Fi=dt.previousTriggersValues.get(j.triggerName),Gt=this.statesByElement.get(j.element);if(Gt&&Gt.has(j.triggerName)){let ts=Gt.get(j.triggerName);ts.value=Fi,Gt.set(j.triggerName,ts)}}ne.destroy();return}}let vn=!h||!this.driver.containsElement(h,Xe),Pt=U.get(Xe),ri=v.get(Xe),qe=this._buildInstruction(j,i,ri,Pt,vn);if(qe.errors&&qe.errors.length){Me.push(qe);return}if(vn){ne.onStart(()=>la(Xe,qe.fromStyles)),ne.onDestroy(()=>Vn(Xe,qe.toStyles)),a.push(ne);return}if(j.isFallbackTransition){ne.onStart(()=>la(Xe,qe.fromStyles)),ne.onDestroy(()=>Vn(Xe,qe.toStyles)),a.push(ne);return}let k0=[];qe.timelines.forEach(dt=>{dt.stretchStartingKeyframe=!0,this.disabledNodes.has(dt.element)||k0.push(dt)}),qe.timelines=k0,i.append(Xe,qe.timelines);let B5={instruction:qe,player:ne,element:Xe};o.push(B5),qe.queriedElements.forEach(dt=>Bt(s,dt,[]).push(ne)),qe.preStyleProps.forEach((dt,Fi)=>{if(dt.size){let Gt=c.get(Fi);Gt||c.set(Fi,Gt=new Set),dt.forEach((ts,gl)=>Gt.add(gl))}}),qe.postStyleProps.forEach((dt,Fi)=>{let Gt=l.get(Fi);Gt||l.set(Fi,Gt=new Set),dt.forEach((ts,gl)=>Gt.add(gl))})});if(Me.length){let R=[];Me.forEach(N=>{R.push(v9(N.triggerName,N.errors))}),Pe.forEach(N=>N.destroy()),this.reportError(R)}let be=new Map,ze=new Map;o.forEach(R=>{let N=R.element;i.has(N)&&(ze.set(N,N),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,be))}),a.forEach(R=>{let N=R.element;this._getPreviousPlayers(N,!1,R.namespaceId,R.triggerName,null).forEach(ne=>{Bt(be,N,[]).push(ne),ne.destroy()})});let Tt=S.filter(R=>pk(R,c,l)),on=new Map;hk(on,this.driver,B,l,On).forEach(R=>{pk(R,c,l)&&Tt.push(R)});let zn=new Map;f.forEach((R,N)=>{hk(zn,this.driver,new Set(R),c,S1)}),Tt.forEach(R=>{let N=on.get(R),j=zn.get(R);on.set(R,new Map([...N?.entries()??[],...j?.entries()??[]]))});let _e=[],Ve=[],Ke={};o.forEach(R=>{let{element:N,player:j,instruction:ne}=R;if(i.has(N)){if(d.has(N)){j.onDestroy(()=>Vn(N,ne.toStyles)),j.disabled=!0,j.overrideTotalTime(ne.totalTime),a.push(j);return}let Xe=Ke;if(ze.size>1){let Pt=N,ri=[];for(;Pt=Pt.parentNode;){let qe=ze.get(Pt);if(qe){Xe=qe;break}ri.push(Pt)}ri.forEach(qe=>ze.set(qe,Xe))}let vn=this._buildAnimation(j.namespaceId,ne,be,r,zn,on);if(j.setRealPlayer(vn),Xe===Ke)_e.push(j);else{let Pt=this.playersByElement.get(Xe);Pt&&Pt.length&&(j.parentPlayer=Ei(Pt)),a.push(j)}}else la(N,ne.fromStyles),j.onDestroy(()=>Vn(N,ne.toStyles)),Ve.push(j),d.has(N)&&a.push(j)}),Ve.forEach(R=>{let N=r.get(R.element);if(N&&N.length){let j=Ei(N);R.setRealPlayer(j)}}),a.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<S.length;R++){let N=S[R],j=N[gn];if(hr(N,uu),j&&j.hasAnimation)continue;let ne=[];if(s.size){let vn=s.get(N);vn&&vn.length&&ne.push(...vn);let Pt=this.driver.query(N,pu,!0);for(let ri=0;ri<Pt.length;ri++){let qe=s.get(Pt[ri]);qe&&qe.length&&ne.push(...qe)}}let Xe=ne.filter(vn=>!vn.destroyed);Xe.length?oI(this,N,Xe):this.processLeaveNode(N)}return S.length=0,_e.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let N=this.players.indexOf(R);this.players.splice(N,1)}),R.play()}),_e}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,a,r){let o=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(o=s)}else{let s=this.playersByElement.get(t);if(s){let c=!r||r==Do;s.forEach(l=>{l.queued||!c&&l.triggerName!=a||o.push(l)})}}return(i||a)&&(o=o.filter(s=>!(i&&i!=s.namespaceId||a&&a!=s.triggerName))),o}_beforeAnimationBuild(t,e,i){let a=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:a;for(let c of e.timelines){let l=c.element,d=l!==r,h=Bt(i,l,[]);this._getPreviousPlayers(l,d,o,s,e.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),h.push(f)})}la(r,e.fromStyles)}_buildAnimation(t,e,i,a,r,o){let s=e.triggerName,c=e.element,l=[],d=new Set,h=new Set,g=e.timelines.map(v=>{let M=v.element;d.add(M);let S=M[gn];if(S&&S.removedBeforeQueried)return new Ai(v.duration,v.delay);let F=M!==c,B=sI((i.get(M)||tI).map(be=>be.getRealPlayer())).filter(be=>{let ze=be;return ze.element?ze.element===M:!1}),U=r.get(M),ee=o.get(M),Pe=yk(this._normalizer,v.keyframes,U,ee),Me=this._buildPlayer(v,Pe,B);if(v.subTimeline&&a&&h.add(M),F){let be=new Po(t,s,M);be.setRealPlayer(Me),l.push(be)}return Me});l.forEach(v=>{Bt(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>iI(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>Jt(v,ik));let f=Ei(g);return f.onDestroy(()=>{d.forEach(v=>hr(v,ik)),Vn(c,e.toStyles)}),h.forEach(v=>{Bt(a,v,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ai(t.duration,t.delay)}},Po=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ai,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(a=>Lu(t,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function iI(n,t,e){let i=n.get(t);if(i){if(i.length){let a=i.indexOf(e);i.splice(a,1)}i.length==0&&n.delete(t)}return i}function aI(n){return n??null}function E1(n){return n&&n.nodeType===1}function rI(n){return n=="start"||n=="done"}function dk(n,t){let e=n.style.display;return n.style.display=t??"none",e}function hk(n,t,e,i,a){let r=[];e.forEach(c=>r.push(dk(c)));let o=[];i.forEach((c,l)=>{let d=new Map;c.forEach(h=>{let g=t.computeStyle(l,h,a);d.set(h,g),(!g||g.length==0)&&(l[gn]=nI,o.push(l))}),n.set(l,d)});let s=0;return e.forEach(c=>dk(c,r[s++])),o}function uk(n,t){let e=new Map;if(n.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,a=new Set(t),r=new Map;function o(s){if(!s)return i;let c=r.get(s);if(c)return c;let l=s.parentNode;return e.has(l)?c=l:a.has(l)?c=i:c=o(l),r.set(s,c),c}return t.forEach(s=>{let c=o(s);c!==i&&e.get(c).push(s)}),e}function Jt(n,t){n.classList?.add(t)}function hr(n,t){n.classList?.remove(t)}function oI(n,t,e){Ei(e).onDone(()=>n.processLeaveNode(t))}function sI(n){let t=[];return bk(n,t),t}function bk(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof So?bk(i.players,t):t.push(i)}}function cI(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let a=0;a<e.length;a++){let r=e[a];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}function pk(n,t,e){let i=e.get(n);if(!i)return!1;let a=t.get(n);return a?i.forEach(r=>a.add(r)):t.set(n,i),e.delete(n),!0}var ur=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,r)=>{},this._transitionEngine=new bu(t.body,e,i),this._timelineEngine=new xu(t.body,e,i),this._transitionEngine.onRemovalComplete=(a,r)=>this.onRemovalComplete(a,r)}registerTrigger(t,e,i,a,r){let o=t+"-"+a,s=this._triggerCache[o];if(!s){let c=[],l=[],d=Ck(this._driver,r,c,l);if(c.length)throw c9(a,c);l.length&&void 0,s=Z9(a,d,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,a,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,a){this._transitionEngine.insertNode(t,e,i,a)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,a){if(i.charAt(0)=="@"){let[r,o]=tk(i),s=a;this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,a)}listen(t,e,i,a,r){if(i.charAt(0)=="@"){let[o,s]=tk(i);return this._timelineEngine.listen(o,e,s,r)}return this._transitionEngine.listen(t,e,i,a,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function lI(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=hu(t[0]),t.length>1&&(i=hu(t[t.length-1]))):t instanceof Map&&(e=hu(t)),e||i?new _u(n,e,i):null}var _u=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vn(this._element,this._initialStyles),this._endStyles&&(Vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(la(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(la(this._element,this._endStyles),this._endStyles=null),Vn(this._element,this._initialStyles),this._state=3)}};function hu(n){let t=null;return n.forEach((e,i)=>{dI(i)&&(t=t||new Map,t.set(i,e))}),t}function dI(n){return n==="display"||n==="position"}var j1=class{constructor(t,e,i,a){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{a!=="offset"&&t.set(a,this._finished?i:Pu(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},H1=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return fk(t,e)}getParentElement(t){return Au(t)}query(t,e,i){return mk(t,e,i)}computeStyle(t,e,i){return Pu(t,e)}animate(t,e,i,a,r,o=[]){let s=a==0?"both":"forwards",c={duration:i,delay:a,fill:s};r&&(c.easing=r);let l=new Map,d=o.filter(f=>f instanceof j1);A9(i,a)&&d.forEach(f=>{f.currentSnapshot.forEach((v,M)=>l.set(M,v))});let h=S9(e).map(f=>new Map(f));h=E9(t,h,l);let g=lI(t,h);return new j1(t,h,c,g)}};var T1="@",_k="@.disabled",z1=class{constructor(t,e,i,a){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=a,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,a=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,a){this.delegate.setAttribute(t,e,i,a)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,a){this.delegate.setStyle(t,e,i,a)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==T1&&e==_k?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Su=class extends z1{constructor(t,e,i,a,r){super(e,i,a,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==T1?e.charAt(1)=="."&&e==_k?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==T1){let a=hI(t),r=e.slice(1),o="";return r.charAt(0)!=T1&&([r,o]=uI(r)),this.engine.listen(this.namespaceId,a,r,o,s=>{let c=s._data||-1;this.factory.scheduleListenerCallback(c,i,s)})}return this.delegate.listen(t,e,i)}};function hI(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function uI(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var B1=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(a,r)=>{r?.removeChild(null,a)}}createRenderer(t,e){let i="",a=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let l=this._rendererCache,d=l.get(a);if(!d){let h=()=>l.delete(a);d=new z1(i,a,this.engine,h),l.set(a,d)}return d}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let s=l=>{Array.isArray(l)?l.forEach(s):this.engine.registerTrigger(r,o,t,l.name,l)};return e.data.animation.forEach(s),new Su(this,o,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let a=this._animationCallbacksBuffer;a.length==0&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(r=>{let[o,s]=r;o(s)}),this._animationCallbacksBuffer=[]})}),a.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var yI=(()=>{class n extends ur{constructor(e,i,a){super(e,i,a)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(P(Ee),P(da),P(ha))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})();function fI(){return new F1}function mI(n,t,e){return new B1(n,t,e)}var Sk=[{provide:ha,useFactory:fI},{provide:ur,useClass:yI},{provide:ki,useFactory:mI,deps:[l1,ur,Ce]}],gI=[{provide:da,useFactory:()=>new H1},{provide:Lh,useValue:"BrowserAnimations"},...Sk],wV=[{provide:da,useClass:Eu},{provide:Lh,useValue:"NoopAnimations"},...Sk];function Lk(){return Qt("NgEagerAnimations"),[...gI]}var Dk={providers:[Em({eventCoalescing:!0}),Qg(Yg),rg(),Lk()]};var Nk=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(I(Dt),I(ve))}}static{this.\u0275dir=ce({type:n})}}return n})(),qu=(()=>{class n extends Nk{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275dir=ce({type:n,features:[fn]})}}return n})(),mr=new V(""),kI={provide:mr,useExisting:un(()=>ju),multi:!0},ju=(()=>{class n extends qu{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275dir=ce({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,a){i&1&&b("change",function(o){return a.onChange(o.target.checked)})("blur",function(){return a.onTouched()})},features:[xt([kI]),fn]})}}return n})(),vI={provide:mr,useExisting:un(()=>Ti),multi:!0};function MI(){let n=ei()?ei().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var CI=new V(""),Ti=(()=>{class n extends Nk{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!MI())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(I(Dt),I(ve),I(CI,8))}}static{this.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){i&1&&b("input",function(o){return a._handleInput(o.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(o){return a._compositionEnd(o.target.value)})},features:[xt([vI]),fn]})}}return n})();function G1(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Hu=new V(""),wI=new V("");function xI(n){return t=>{if(G1(t.value)||G1(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function II(n){return t=>{if(G1(t.value)||G1(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Ak(n){return null}function qk(n){return n!=null}function jk(n){return ea(n)?Oe(n):n}function Hk(n){let t={};return n.forEach(e=>{t=e!=null?E(E({},t),e):t}),Object.keys(t).length===0?null:t}function zk(n,t){return t.map(e=>e(n))}function bI(n){return!n.validate}function Bk(n){return n.map(t=>bI(t)?t:e=>t.validate(e))}function _I(n){if(!n)return null;let t=n.filter(qk);return t.length==0?null:function(e){return Hk(zk(e,t))}}function Uk(n){return n!=null?_I(Bk(n)):null}function SI(n){if(!n)return null;let t=n.filter(qk);return t.length==0?null:function(e){let i=zk(e,t).map(jk);return Vl(i).pipe(Z(Hk))}}function Gk(n){return n!=null?SI(Bk(n)):null}function Ek(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function LI(n){return n._rawValidators}function DI(n){return n._rawAsyncValidators}function Fu(n){return n?Array.isArray(n)?n:[n]:[]}function W1(n,t){return Array.isArray(n)?n.includes(t):n===t}function Tk(n,t){let e=Fu(t);return Fu(n).forEach(a=>{W1(e,a)||e.push(a)}),e}function Pk(n,t){return Fu(t).filter(e=>!W1(n,e))}var $1=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Uk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ou=class extends $1{get formDirective(){return null}get path(){return null}},No=class extends $1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vu=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},AI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GV=de(E({},AI),{"[class.ng-submitted]":"isSubmitted"}),Nn=(()=>{class n extends Vu{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(I(No,2))}}static{this.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){i&2&&Ge("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[fn]})}}return n})();var Ro="VALID",U1="INVALID",pr="PENDING",Fo="DISABLED",fr=class{},Z1=class extends fr{constructor(t,e){super(),this.value=t,this.source=e}},Oo=class extends fr{constructor(t,e){super(),this.pristine=t,this.source=e}},Vo=class extends fr{constructor(t,e){super(),this.touched=t,this.source=e}},yr=class extends fr{constructor(t,e){super(),this.status=t,this.source=e}};function EI(n){return(K1(n)?n.validators:n)||null}function TI(n){return Array.isArray(n)?Uk(n):n||null}function PI(n,t){return(K1(t)?t.asyncValidators:n)||null}function RI(n){return Array.isArray(n)?Gk(n):n||null}function K1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Nu=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ue(()=>this.statusReactive()),this.statusReactive=Fe(void 0),this._pristine=ue(()=>this.pristineReactive()),this.pristineReactive=Fe(!0),this._touched=ue(()=>this.touchedReactive()),this.touchedReactive=Fe(!1),this._events=new Q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(t){Ii(()=>this.statusReactive.set(t))}get valid(){return this.status===Ro}get invalid(){return this.status===U1}get pending(){return this.status==pr}get disabled(){return this.status===Fo}get enabled(){return this.status!==Fo}get pristine(){return Ii(this.pristineReactive)}set pristine(t){Ii(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(t){Ii(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Tk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Tk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Pk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Pk(t,this._rawAsyncValidators))}hasValidator(t){return W1(this._rawValidators,t)}hasAsyncValidator(t){return W1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(de(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Vo(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Vo(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(de(E({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Oo(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Oo(!0,i))}markAsPending(t={}){this.status=pr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(de(E({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Fo,this.errors=null,this._forEachChild(a=>{a.disable(de(E({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Z1(this.value,i)),this._events.next(new yr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ro,this._forEachChild(i=>{i.enable(de(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(de(E({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ro||this.status===pr)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Z1(this.value,e)),this._events.next(new yr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(de(E({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=jk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new yr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new _,this.statusChanges=new _}_calculateStatus(){return this._allControlsDisabled()?Fo:this.errors?U1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(U1)?U1:Ro}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),a=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),a&&this._events.next(new Oo(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Vo(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){K1(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=TI(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=RI(this._rawAsyncValidators)}};var Wk=new V("CallSetDisabledState",{providedIn:"root",factory:()=>zu}),zu="always";function FI(n,t){return[...t.path,n]}function OI(n,t,e=zu){NI(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),qI(n,t),HI(n,t),jI(n,t),VI(n,t)}function Rk(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function VI(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function NI(n,t){let e=LI(n);t.validator!==null?n.setValidators(Ek(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=DI(n);t.asyncValidator!==null?n.setAsyncValidators(Ek(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let a=()=>n.updateValueAndValidity();Rk(t._rawValidators,a),Rk(t._rawAsyncValidators,a)}function qI(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&$k(n,t)})}function jI(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&$k(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function $k(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HI(n,t){let e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function zI(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function BI(n){return Object.getPrototypeOf(n.constructor)===qu}function UI(n,t){if(!t)return null;Array.isArray(t);let e,i,a;return t.forEach(r=>{r.constructor===Ti?e=r:BI(r)?i=r:a=r}),a||i||e||null}function Fk(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ok(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var GI=class extends Nu{constructor(t=null,e,i){super(EI(e),PI(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ok(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Fk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Fk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ok(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var WI={provide:No,useExisting:un(()=>kn)},Vk=Promise.resolve(),kn=(()=>{class n extends No{constructor(e,i,a,r,o,s){super(),this._changeDetectorRef=o,this.callSetDisabledState=s,this.control=new GI,this._registered=!1,this.name="",this.update=new _,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=UI(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){OI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Vk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,a=i!==0&&Ae(i);Vk.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?FI(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(I(Ou,9),I(Hu,10),I(wI,10),I(mr,10),I(it,8),I(Wk,8))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xt([WI]),fn,Ne]})}}return n})();var $I={provide:mr,useExisting:un(()=>qo),multi:!0},qo=(()=>{class n extends qu{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275dir=ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,a){i&1&&b("input",function(o){return a.onChange(o.target.value)})("blur",function(){return a.onTouched()})},features:[xt([$I]),fn]})}}return n})();function Zk(n){return typeof n=="number"?n:parseFloat(n)}var Kk=(()=>{class n{constructor(){this._validator=Ak}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ak,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ce({type:n,features:[Ne]})}}return n})(),ZI={provide:Hu,useExisting:un(()=>Bu),multi:!0},Bu=(()=>{class n extends Kk{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>Zk(e),this.createValidator=e=>II(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275dir=ce({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,a){i&2&&st("max",a._enabled?a.max:null)},inputs:{max:"max"},features:[xt([ZI]),fn]})}}return n})(),KI={provide:Hu,useExisting:un(()=>Uu),multi:!0},Uu=(()=>{class n extends Kk{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>Zk(e),this.createValidator=e=>xI(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Qn(n)))(a||n)}})()}static{this.\u0275dir=ce({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,a){i&2&&st("min",a._enabled?a.min:null)},inputs:{min:"min"},features:[xt([KI]),fn]})}}return n})();var XI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();var en=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Wk,useValue:e.callSetDisabledState??zu}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({imports:[XI]})}}return n})();var Xk=(()=>{class n{transform(e){return typeof e=="string"?e:e>=0?`+${e}`:`${e}`}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=$n({name:"numberToString",type:n,pure:!0,standalone:!0})}return n})();var QI=["*"];var Qk=[["path",{d:"M19 15V9",key:"1hci5f"}],["path",{d:"M15 15h-3v4l-7-7 7-7v4h3v6z",key:"16tjna"}]];var Yk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]];var Jk=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]];var e4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]];var t4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]];var n4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var i4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]];var a4=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]];var r4=[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]];var Ho={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Gu=new V("LucideIcons",{factory:()=>new zo({})}),zo=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},YI=(()=>{class n{constructor(){this.color=Ho.stroke,this.size=Ho.width,this.strokeWidth=Ho["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JI(n,t=3){return parseFloat(n.toFixed(t)).toString(10)}var gr=(()=>{class n{constructor(e,i,a,r,o){this.elem=e,this.renderer=i,this.changeDetector=a,this.iconProviders=r,this.iconConfig=o,this.absoluteStrokeWidth=!1,this.defaultSize=Ho.height}get size(){return this._size??this.iconConfig.size}set size(e){e?this._size=this.parseNumber(e):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(e){e?this._strokeWidth=this.parseNumber(e):delete this._strokeWidth}ngOnChanges(e){if(e.name||e.img||e.color||e.size||e.absoluteStrokeWidth||e.strokeWidth||e.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let i=this.img??this.name;if(typeof i=="string"){let a=this.getIcon(this.toPascalCase(i));if(a)this.replaceElement(a);else throw new Error(`The "${i}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(i))this.replaceElement(i);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(e){let i=de(E({},Ho),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?JI(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",i,e]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(o=>o.trim()).filter(o=>o.length>0));let r=this.elem.nativeElement.childNodes;for(let o of r)this.renderer.removeChild(this.elem.nativeElement,o);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(e){return e.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(i,a,r)=>a.toUpperCase()+r.toLowerCase())}parseNumber(e){if(typeof e=="string"){let i=parseInt(e,10);if(isNaN(i))throw new Error(`${e} is not numeric.`);return i}return e}getIcon(e){for(let i of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(i.hasIcon(e))return i.getIcon(e);return null}createElement([e,i,a=[]]){let r=this.renderer.createElement(e,"http://www.w3.org/2000/svg");return Object.keys(i).forEach(o=>{let s=typeof i[o]=="string"?i[o]:i[o].toString(10);this.renderer.setAttribute(r,o,s)}),a.length&&a.forEach(o=>{let s=this.createElement(o);this.renderer.appendChild(r,s)}),r}}return n.\u0275fac=function(e){return new(e||n)(I(ve),I(Dt),I(it),I(Gu),I(YI))},n.\u0275cmp=O({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[Ne],ngContentSelectors:QI,decls:1,vars:0,template:function(e,i){e&1&&(En(),Tn(0))},encapsulation:2}),n})(),Wu=class{constructor(t){this.icons=t}},eb=n=>new zo(n??{}),kr=(()=>{class n{static pick(e){return{ngModule:n,providers:[{provide:Gu,multi:!0,useValue:new zo(e)},{provide:Gu,multi:!0,useFactory:eb,deps:[[new Mi,Wu]]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ye({type:n}),n.\u0275inj=Qe({imports:[[]]}),n})();var tb=["*"],Et=function(n){return n.Delete="delete",n.View="view",n.Edit="edit",n.Default="default",n.Save="save",n.Image="image",n}(Et||{}),X1=class n{static ICONS_MAP={[Et.Delete]:Yk,[Et.View]:r4,[Et.Edit]:t4,[Et.Default]:a4,[Et.Save]:i4,[Et.Image]:e4};icon=Et.Default;action=new _;get selectedIcon(){return n.ICONS_MAP[this.icon]}onClick(){this.action.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-context-menu-item"]],inputs:{icon:"icon"},outputs:{action:"action"},standalone:!0,features:[q],ngContentSelectors:tb,decls:3,vars:2,consts:[[1,"context-menu-item",3,"click"],[1,"context-menu-icon",3,"img","size"]],template:function(e,i){e&1&&(En(),y(0,"li",0),b("click",function(){return i.onClick()}),H(1,"lucide-angular",1),Tn(2),p()),e&2&&(u(),m("img",i.selectedIcon)("size",15))},dependencies:[kr,gr],styles:[".context-menu-item[_ngcontent-%COMP%]{display:flex;cursor:pointer;padding:4px;align-items:center;border-bottom:1px solid #1d262b;line-height:0em;min-width:150px}.context-menu-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;color:#1d262b}.context-menu-item[_ngcontent-%COMP%]:hover{background-color:#c7c7c7}"]})};var nb=(n,t)=>({left:n,top:t});function ib(n,t){if(n&1){let e=G();ye(0),y(1,"app-context-menu-item",2),b("action",function(){let a=C(e).$implicit,r=k();return w(r.onMenuItemClick(a))}),x(2),p(),fe()}if(n&2){let e=t.$implicit;u(),m("icon",e.icon)("ngClass",e.icon),u(),Se(" ",e.title," ")}}var Bo=(()=>{class n{elementRef;targetElement;menuItems=[];isVisible=!1;posX=0;posY=0;menuWidth=0;menuHeight=0;constructor(e){this.elementRef=e}hideContextMenu(e){this.elementRef.nativeElement.contains(e.target)||(this.isVisible=!1)}onContextMenu(e){let i=this.getTargetElement();i&&i.contains(e.target)&&(e.preventDefault(),this.showContextMenu(e))}onMenuItemClick(e){e.action(),this.isVisible=!1}getTargetElement(){return this.targetElement instanceof ve?this.targetElement.nativeElement:this.targetElement instanceof HTMLElement?this.targetElement:null}showContextMenu(e){let i=this.elementRef.nativeElement.querySelector("#context-menu");i&&((!this.menuWidth||!this.menuHeight)&&(i.style.visibility="hidden",i.style.display="block",this.menuWidth=i.offsetWidth,this.menuHeight=i.offsetHeight,i.removeAttribute("style")),this.posX=this.menuWidth+e.pageX>=window.innerWidth?e.pageX-this.menuWidth:e.pageX,this.posY=this.menuHeight+e.pageY>=window.innerHeight?e.pageY-this.menuHeight:e.pageY,this.isVisible=!0)}static \u0275fac=function(i){return new(i||n)(I(ve))};static \u0275cmp=O({type:n,selectors:[["app-context-menu"]],hostBindings:function(i,a){i&1&&b("click",function(o){return a.hideContextMenu(o)},!1,Th)("contextmenu",function(o){return a.onContextMenu(o)},!1,Th)},inputs:{targetElement:"targetElement",menuItems:"menuItems"},standalone:!0,features:[q],decls:2,vars:7,consts:[["id","context-menu",3,"ngStyle"],[4,"ngFor","ngForOf"],[3,"action","icon","ngClass"]],template:function(i,a){i&1&&(y(0,"ul",0),T(1,ib,3,3,"ng-container",1),p()),i&2&&(Ge("active",a.isVisible),m("ngStyle",wi(4,nb,a.posX+"px",a.posY+"px")),u(),m("ngForOf",a.menuItems))},dependencies:[K,mt,At,$m,X1],styles:["#context-menu[_ngcontent-%COMP%]{position:fixed;display:none;list-style:none;padding:0;margin:0;background-color:#fff7ed;color:#1d262b;z-index:2147483647;font-size:1.5em}#context-menu.active[_ngcontent-%COMP%]{display:block}"]})}return n})();function ab(n,t){if(n&1&&(y(0,"span"),x(1),p()),n&2){let e=k();u(),Jh("",e.prefix,"",e.displayValue,"",e.suffix,"")}}function rb(n,t){if(n&1){let e=G();y(0,"span")(1,"input",1),oe("ngModelChange",function(a){C(e);let r=k();return z(r.value,a)||(r.value=a),w(a)}),b("ngModelChange",function(a){C(e);let r=k();return w(r.onValueChange(a))}),p()()}if(n&2){let e=k();u(),m("type",e.type),re("ngModel",e.value)}}var tn=(()=>{class n{editMode=!1;type="text";prefix="";suffix="";valuePipe=null;step=1;min=0;max=100;_value="";isHovered=!1;set value(e){this._value=this.type==="number"?Number(e):String(e),this.valueChange.emit(this._value)}get value(){return this._value}valueChange=new _;get displayValue(){return this.type==="number"&&this.valuePipe?String(this.valuePipe.transform(this._value)):String(this._value)}get inputValue(){return this.type==="number"?Number(this._value):this._value}onMouseEnter(){this.isHovered=!0}onMouseLeave(){this.isHovered=!1}onWheel(e){if(console.log(e.deltaY),this.type!=="number"||!this.isHovered)return;e.preventDefault();let i=Number(this._value)||0,a=e.deltaY<0?this.step:-this.step,r=i+a;this.min!==void 0&&(r=Math.max(this.min,r)),this.max!==void 0&&(r=Math.min(this.max,r)),r!==i&&(this.value=r)}onValueChange(e){if(this.type==="number"){let i=Number(e);this.min!==void 0&&(i=Math.max(this.min,i)),this.max!==void 0&&(i=Math.min(this.max,i)),this.value=i}else this.value=e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-editable-input"]],hostBindings:function(i,a){i&1&&b("mouseenter",function(){return a.onMouseEnter()})("mouseleave",function(){return a.onMouseLeave()})("wheel",function(o){return a.onWheel(o)})},inputs:{editMode:"editMode",type:"type",prefix:"prefix",suffix:"suffix",valuePipe:"valuePipe",step:"step",min:"min",max:"max",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[q],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngModelChange","type","ngModel"]],template:function(i,a){i&1&&T(0,ab,2,3,"span",0)(1,rb,2,2,"span",0),i&2&&(m("ngIf",!a.editMode),u(),m("ngIf",a.editMode))},dependencies:[K,Le,en,Ti,Nn,kn]})}return n})();var o4={"saving-throw-str":"number","saving-throw-dex":"number","saving-throw-con":"number","saving-throw-int":"number","saving-throw-wis":"number","saving-throw-cha":"number"},s4={"skill-acrobatics":"number","skill-animal-handling":"number","skill-arcana":"number","skill-athletics":"number","skill-deception":"number","skill-history":"number","skill-insight":"number","skill-intimidation":"number","skill-investigation":"number","skill-medicine":"number","skill-nature":"number","skill-perception":"number","skill-performance":"number","skill-persuasion":"number","skill-religion":"number","skill-sleight-of-hand":"number","skill-stealth":"number","skill-survival":"number"},c4={cover:"checkbox",fly:"text",swim:"text",burrow:"text",climb:"text",walk:"text"},l4={poisoned:"checkbox",exhaustion:"checkbox",grappled:"checkbox",paralyzed:"checkbox",petrified:"checkbox",prone:"checkbox",restrained:"checkbox",unconscious:"checkbox",charmed:"checkbox",frightened:"checkbox",blinded:"checkbox",deafened:"checkbox",stunned:"checkbox"},d4={passive_perception:"number",truesight:"text",blindsight:"text",darkvision:"text",tremorsense:"text"},Q1=["acid","bludgeoning","cold","fire","force","lightning","necrotic","piercing","poison","psychic","radiant","slashing","thunder"],h4=["Tiny","Small","Medium","Large","Huge","Gargantuan"],u4=["beast","monstrosity","dragon","humanoid","undead","fiend","celestial","construct","giant","elemental","fey","aberration","ooze","swarm","plant"],p4=["lawful evil","any alignment","chaotic evil","chaotic good","lawful good","neutral","lawful neutral","unaligned","any non-good alignment","any non-lawful alignment","neutral evil","any chaotic alignment","neutral good","chaotic neutral","neutral good (50%) or neutral evil (50%)","any evil alignment"];var $e=function(n){return n.InitiativeRoll="initiativeRoll",n.Manual="manual",n.StatBlock="statBlock",n}($e||{}),Uo=function(n){return n.Default="default",n.Battle="battle",n}(Uo||{}),nn=(()=>{class n{currentViewSignal=Fe($e.Manual);currentModeSignal=Fe(Uo.Default);previousViewSignal=Fe($e.Manual);constructor(){}getCurrentView(){return this.currentViewSignal.asReadonly()}getCurrentMode(){return this.currentModeSignal.asReadonly()}getPreviousView(){return this.previousViewSignal.asReadonly()}setCurrentView(e){this.previousViewSignal.set(this.currentViewSignal()),this.currentViewSignal.set(e)}setMode(e){this.currentModeSignal.set(e)}enterBattleMode(){this.setMode(Uo.Battle),this.setCurrentView($e.StatBlock)}exitBattleMode(){this.setMode(Uo.Default)}isInBattleMode(){return this.currentModeSignal()===Uo.Battle}isCurrentView(e){return this.currentViewSignal()===e}getViewState(){return{view:this.currentViewSignal(),mode:this.currentModeSignal()}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y4={proficiency_bonus:2,size:"Medium",type:"humanoid",alignment:"any alignment",armor_class:[{type:"dex",value:10}],hit_points:10,hit_dice:"2d8",hit_points_roll:"10",speed:{walk:"30 ft."},strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,xp:10,challenge_rating:0,special_abilities:[],damage_vulnerabilities:[],damage_resistances:[],damage_immunities:[],condition_immunities:[],proficiencies:[],languages:"any one language (usually Common)",senses:{passive_perception:12},actions:[{name:"Club",desc:"Melee Weapon Attack: +2 to hit, reach 5 ft., one target. Hit: 2 (1d4) bludgeoning damage.",attack_bonus:2,damage:[{damage_type:{index:"bludgeoning",name:"Bludgeoning",url:"/api/damage-types/bludgeoning"},damage_dice:"1d4"}]}],reactions:[],legendary_actions:[],image:"",url:""};var lt=[];for(Y1=0;Y1<256;++Y1)lt.push((Y1+256).toString(16).slice(1));var Y1;function f4(n,t=0){return(lt[n[t+0]]+lt[n[t+1]]+lt[n[t+2]]+lt[n[t+3]]+"-"+lt[n[t+4]]+lt[n[t+5]]+"-"+lt[n[t+6]]+lt[n[t+7]]+"-"+lt[n[t+8]]+lt[n[t+9]]+"-"+lt[n[t+10]]+lt[n[t+11]]+lt[n[t+12]]+lt[n[t+13]]+lt[n[t+14]]+lt[n[t+15]]).toLowerCase()}var J1,ob=new Uint8Array(16);function Zu(){if(!J1&&(J1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!J1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return J1(ob)}var sb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ku={randomUUID:sb};function cb(n,t,e){if(Ku.randomUUID&&!t&&!n)return Ku.randomUUID();n=n||{};var i=n.random||(n.rng||Zu)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){e=e||0;for(var a=0;a<16;++a)t[e+a]=i[a];return t}return f4(i)}var Mr=cb;var el=(()=>{class n{charactersSignal=Fe([]);activeCharacterIdSignal=Fe(null);editingCharacterIdSignal=Fe(null);editingCharacterOriginalStateSignal=Fe(null);initiativeChangedSignal=Fe(!1);constructor(){this.loadFromStorage()}get characters(){return this.charactersSignal.asReadonly()}get activeCharacterId(){return this.activeCharacterIdSignal.asReadonly()}get initiativeChanged(){return this.initiativeChangedSignal.asReadonly()}get editingCharacterId(){return this.editingCharacterIdSignal.asReadonly()}getAllies=ue(()=>this.characters().filter(e=>e.type==="ally").sort((e,i)=>e.id>i.id?1:-1));getEnemies=ue(()=>this.characters().filter(e=>e.type==="enemy").sort((e,i)=>e.id>i.id?1:-1));hasUnsavedChanges=ue(()=>{let e=this.editingCharacterOriginalStateSignal(),i=this.editingCharacterIdSignal();if(!e||!i)return!1;let a=this.charactersSignal().find(r=>r.id===i);return a?this.hasCharacterChanged(e,a):!1});startEditingCharacter(e){let i=this.charactersSignal().find(a=>a.id===e);i&&(this.editingCharacterOriginalStateSignal.set(structuredClone(i)),this.editingCharacterIdSignal.set(e))}stopEditingCharacter(){this.editingCharacterIdSignal.set(null),this.editingCharacterOriginalStateSignal.set(null)}revertEditingChanges(){let e=this.editingCharacterOriginalStateSignal(),i=this.editingCharacterIdSignal();e&&i&&this.updateCharacter(structuredClone(e))}activateCharacter(e){this.charactersSignal().some(i=>i.id===e)&&(this.activeCharacterIdSignal.set(e),this.saveActiveCharacterId())}deactivateCharacter(){this.activeCharacterIdSignal.set(null),this.saveActiveCharacterId()}addDefaultCharacter(e){let i={id:Date.now()+Mr(),name:`${e==="ally"?"Ally":"Enemy"} ${this.characters().length+1}`,type:e,maxHp:10,currentHp:10,initiativeModifier:0,initiativeRoll:null,avatarSrc:"",armorClass:15,initiativeScore:null,hasRolledInitiative:!1};this.addCharacter(i)}updateCharacter(e){let i=this.charactersSignal().map(a=>a.id===e.id?e:a);this.updateCharacters(i)}updateCharacterImage(e,i){e.avatarSrc=i,this.updateCharacter(e)}deleteCharacter(e){let i=this.charactersSignal().filter(a=>a.id!==e);this.updateCharacters(i),this.activeCharacterIdSignal()===e&&this.deactivateCharacter()}notifyInitiativeChanged(){this.initiativeChangedSignal.update(e=>!e)}getActiveCharacterStatblock(){let e=this.activeCharacterIdSignal();return e?this.charactersSignal().find(a=>a.id===e)?.statblock:void 0}updateCharacterByStatblockId(e){let i=this.charactersSignal().find(a=>a.statblock?.id===e);i&&this.updateCharacter(i)}createDefaultStatblock(){let e=this.activeCharacterIdSignal();if(!e)return;let i=this.charactersSignal().find(a=>a.id===e);i&&(i.statblock=E({id:Mr(),index:"custom",name:i.name},y4),this.updateCharacter(i))}updateCharacters(e){this.charactersSignal.set(e),this.saveCharacters()}addCharacter(e){this.updateCharacters([...this.charactersSignal(),e])}loadFromStorage(){let e=localStorage.getItem("characters");e&&this.charactersSignal.set(JSON.parse(e));let i=localStorage.getItem("activeCharacterId");i&&this.activeCharacterIdSignal.set(i)}saveCharacters(){localStorage.setItem("characters",JSON.stringify(this.charactersSignal()))}saveActiveCharacterId(){localStorage.setItem("activeCharacterId",this.activeCharacterIdSignal()||"")}getInitiativeMod(e){return Math.floor((e-10)/2)}createCharacterFromStatblock(e,i){let a=e.index||"default";return e.id=Mr(),{avatarSrc:`assets/${a}.webp`,currentHp:e.hit_points,maxHp:e.hit_points,id:Date.now()+Mr(),type:i,initiativeRoll:null,initiativeModifier:this.getInitiativeMod(e.dexterity)||0,name:e.name,armorClass:e.armor_class[0].value,statblock:e,initiativeScore:null,hasRolledInitiative:!1}}hasCharacterChanged(e,i){return JSON.stringify(e.statblock)!==JSON.stringify(i.statblock)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tl=(()=>{class n{http;apiUrl="https://www.dnd5eapi.co/api";constructor(e){this.http=e}getMonster(e){return this.http.get(`${this.apiUrl}/monsters/${e}`).pipe(Wt(this.handleError))}getMonsterEntries(){return this.http.get(`${this.apiUrl}/monsters`).pipe(Wt(this.handleError),Z(e=>e.results))}handleError(e){let i="An unknown error occurred";return e.error instanceof ErrorEvent?i=`Error: ${e.error.message}`:i=`Error Code: ${e.status}
Message: ${e.message}`,console.error("API Error:",i),X()}static \u0275fac=function(i){return new(i||n)(P(no))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var an=(()=>{class n{characterService;dnd5eApiService;viewManagerService;characters=ue(()=>this.characterService.characters());allies;enemies;activeCharacterId=ue(()=>this.characterService.activeCharacterId());initiativeChanged=ue(()=>this.characterService.initiativeChanged());editingCharacterId=ue(()=>this.characterService.editingCharacterId());constructor(e,i,a){this.characterService=e,this.dnd5eApiService=i,this.viewManagerService=a,this.allies=this.characterService.getAllies,this.enemies=this.characterService.getEnemies}addPredefinedCharacter(e,i){this.dnd5eApiService.getMonster(i).subscribe({next:a=>{let r=this.characterService.createCharacterFromStatblock(a,e);this.characterService.addCharacter(r)},error:a=>{console.error(`Error fetching monster data for ${i}:`,a)}})}addDefaultCharacter(e){this.characterService.addDefaultCharacter(e)}updateCharacter(e){console.log(e),this.characterService.updateCharacter(e)}deleteCharacter(e){this.characterService.deleteCharacter(e)}notifyInitiativeChanged(){this.characterService.notifyInitiativeChanged()}activateCharacter(e){this.characterService.activateCharacter(e),this.viewManagerService.setCurrentView($e.StatBlock)}getActiveCharacterStatblock(){return this.characterService.getActiveCharacterStatblock()}updateCharacterByStatblockId(e){this.characterService.updateCharacterByStatblockId(e)}createDefaultStatblock(){this.characterService.createDefaultStatblock()}updateCharacterImage(e,i){this.characterService.updateCharacterImage(e,i)}startEditingCharacter(e){this.characterService.startEditingCharacter(e)}stopEditingCharacter(){this.characterService.stopEditingCharacter()}static \u0275fac=function(i){return new(i||n)(P(el),P(tl),P(nn))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lb=["diceSvg"],db=["diceButton"],k4=(()=>{class n{characterFacade;hasRolledInitiative=!1;offsetY=0;characterType="ally";initiativeRoll=null;initiativeMod=0;initiativeScore=null;hasRolledInitiativeChange=new _;initiativeRollChange=new _;initiativeModChange=new _;initiativeScoreChange=new _;diceSvg;diceButton;isSpinning=!1;spinDuration=3;hasUserInteracted=!1;constructor(e){this.characterFacade=e}colorTags=Q1;ngOnInit(){this.updateSvgColor(),this.updateInitiativeScore()}getRandomColorName(){return`--color-${this.colorTags[Math.floor(Math.random()*this.colorTags.length)]}`}updateSvgColor(){let e=document.documentElement,i=getComputedStyle(e).getPropertyValue(this.getRandomColorName()).trim();this.diceSvg&&this.diceSvg.nativeElement&&this.diceSvg.nativeElement.querySelectorAll("path, polygon").forEach(r=>{r.style.stroke=i})}onClick(){if(this.isSpinning)return;this.isSpinning=!0,this.diceButton.nativeElement.disabled=!0;let e=this.diceSvg.nativeElement;e.style.animationDuration=`${this.spinDuration}s`,e.classList.add("spinning"),e.addEventListener("animationend",()=>this.stopSpinning(),{once:!0}),this.hasUserInteracted=!0}stopSpinning(){this.isSpinning=!1,this.diceSvg.nativeElement.classList.remove("spinning"),this.diceButton.nativeElement.disabled=!1,this.generateRandomValue(),this.initiativeRollChange.emit(this.initiativeRoll),this.updateInitiativeScore(),this.emitRolledInitiative()}generateRandomValue(){this.initiativeRoll=Math.floor(Math.random()*20)+1}updateInitiativeScore(){this.initiativeRoll!==null&&(this.initiativeScore=this.initiativeRoll+this.initiativeMod,this.initiativeScoreChange.emit(this.initiativeScore),this.characterFacade.notifyInitiativeChanged())}onModChange(e){this.initiativeMod=e,this.initiativeModChange.emit(this.initiativeMod),this.updateInitiativeScore(),this.hasUserInteracted=!0,this.emitRolledInitiative()}onRollChange(e){this.initiativeRoll=e,e!==null&&(this.initiativeRollChange.emit(e),this.updateInitiativeScore()),this.hasUserInteracted=!0,this.emitRolledInitiative()}onScoreChange(e){this.initiativeScore=e,e!==null&&(this.initiativeScoreChange.emit(e),this.characterFacade.notifyInitiativeChanged()),this.hasUserInteracted=!0,this.emitRolledInitiative()}getDisplayValue(e){return e===null?"--":e.toString()}emitRolledInitiative(){this.hasUserInteracted&&(this.hasRolledInitiative=!0,this.hasRolledInitiativeChange.emit(this.hasRolledInitiative))}static \u0275fac=function(i){return new(i||n)(I(an))};static \u0275cmp=O({type:n,selectors:[["app-d20"]],viewQuery:function(i,a){if(i&1&&(tt(lb,7),tt(db,7)),i&2){let r;we(r=xe())&&(a.diceSvg=r.first),we(r=xe())&&(a.diceButton=r.first)}},inputs:{hasRolledInitiative:"hasRolledInitiative",offsetY:"offsetY",characterType:"characterType",initiativeRoll:"initiativeRoll",initiativeMod:"initiativeMod",initiativeScore:"initiativeScore"},outputs:{hasRolledInitiativeChange:"hasRolledInitiativeChange",initiativeRollChange:"initiativeRollChange",initiativeModChange:"initiativeModChange",initiativeScoreChange:"initiativeScoreChange"},standalone:!0,features:[q],decls:31,vars:7,consts:[["diceButton",""],["diceSvg",""],[1,"d20-container",3,"ngClass"],[1,"row","justify-content-left"],[1,"col-7"],[1,"modifier-container"],[1,"input-row"],["for","initiative-mod"],["id","initiative-mod","type","number","aria-label","Initiative modifier",3,"ngModelChange","ngModel"],["for","initiative-roll"],["id","initiative-roll","type","number","aria-label","Initiative roll value",3,"ngModelChange","ngModel","placeholder"],["for","initiative-score"],["id","initiative-score","type","number","aria-label","Initiative total score",3,"ngModelChange","ngModel","placeholder"],[1,"col-5"],["aria-label","Roll D20 dice",1,"button-d20",3,"click","disabled"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 130 130","aria-hidden","true","role","img"],["points","65,15 22,43 25,93 65,115 108,92 108,42",1,"st0","d20-face"],["d","M66,38L42,80c-0.1,0.2,0,0.6,0.3,0.6h52c0.3,0,0.5-0.3,0.3-0.6L66,38z",1,"st1","d20-line"],["d","M66.5,38l39.5,3c1.3,0.1,2.2,1.5,1.7,2.7l-14,38",1,"st1","d20-line"],["d","M66,15v23l-43,5c-0.3,0.1-0.4,0.4-0.2,0.6l19,37L25.5,93",1,"st1","d20-line"],["d","M108,92l-14.7-10L65,115c-0.3,0.5-1,0.5-1.4,0L41.7,80",1,"st1","d20-line"],[1,"roll-text"]],template:function(i,a){if(i&1){let r=G();y(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"label",7),x(6,"Modifier:"),p(),y(7,"input",8),b("ngModelChange",function(s){return C(r),w(a.onModChange(s))}),p()(),y(8,"div",6)(9,"label",9),x(10,"Roll:"),p(),y(11,"input",10),b("ngModelChange",function(s){return C(r),w(a.onRollChange(s))}),p()(),y(12,"div",6)(13,"label",11),x(14,"Score:"),p(),y(15,"input",12),b("ngModelChange",function(s){return C(r),w(a.onScoreChange(s))}),p()()()(),y(16,"div",13)(17,"button",14,0),b("click",function(){return C(r),w(a.onClick())}),Oc(),y(19,"svg",15,1)(21,"title"),x(22,"D20 Dice"),p(),y(23,"g"),H(24,"polygon",16)(25,"path",17)(26,"path",18)(27,"path",19)(28,"path",20),p()(),Zy(),y(29,"span",21),x(30,"ROLL!"),p()()()()()}i&2&&(m("ngClass",a.characterType),u(7),m("ngModel",a.initiativeMod),u(4),m("ngModel",a.initiativeRoll)("placeholder",a.getDisplayValue(a.initiativeRoll)),u(4),m("ngModel",a.initiativeScore)("placeholder",a.getDisplayValue(a.initiativeScore)),u(2),m("disabled",a.isSpinning))},dependencies:[en,Ti,qo,Nn,kn,K,mt],styles:[".button-d20[_ngcontent-%COMP%]{position:sticky;background-color:transparent;width:6em;height:6em;border-color:transparent;transition:transform .1s ease-in-out;box-shadow:none}.button-d20[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{fill:none;stroke-width:5;stroke-miterlimit:10;transition:stroke .1s ease}.button-d20[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%]{fill:var(--color-text)}.button-d20[_ngcontent-%COMP%]:active{box-shadow:none;transform:scale(.95)}.button-d20[disabled][_ngcontent-%COMP%], .button-d20[disabled][_ngcontent-%COMP%]:hover, .button-d20[_ngcontent-%COMP%]:hover, .button-d20[_ngcontent-%COMP%]:active{box-shadow:none;background-color:transparent;border-color:transparent}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinning[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_spin;animation-timing-function:cubic-bezier(.7,.1,.1,1)}.value-container[_ngcontent-%COMP%]{margin-top:1em}.value-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:3em;text-align:center;font-size:1.2em;padding:.3em;border:2px solid var(--dice-color);border-radius:4px}.modifier-container[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.modifier-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;text-align:left;margin-right:10px}"]})}return n})();function hb(n,t){if(n&1){let e=G();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),x(4),p(),y(5,"p",5),x(6),p(),y(7,"div",6)(8,"button",7),b("click",function(){C(e);let a=k();return w(a.onConfirm())}),x(9," Confirm "),p(),y(10,"button",8),b("click",function(){C(e);let a=k();return w(a.onCancel())}),x(11," Cancel "),p()()()()()}if(n&2){let e=k();u(4),nt(e.title),u(2),nt(e.message)}}var v4=(()=>{class n{isOpen=!1;title="Confirm Action";message="Are you sure you want to perform this action?";confirm=new _;cancel=new _;onConfirm(){this.confirm.emit(),this.isOpen=!1}onCancel(){this.cancel.emit(),this.isOpen=!1}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-confirm-action"]],inputs:{isOpen:"isOpen",title:"title",message:"message"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[q],decls:1,vars:1,consts:[["class","dialog-overlay",4,"ngIf"],[1,"dialog-overlay"],[1,"dialog-container"],[1,"dialog-content"],[1,"dialog-title"],[1,"dialog-message"],[1,"dialog-actions"],[1,"dialog-button","confirm-button",3,"click"],[1,"dialog-button","cancel-button",3,"click"]],template:function(i,a){i&1&&T(0,hb,12,2,"div",0),i&2&&m("ngIf",a.isOpen)},dependencies:[K,Le],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.dialog-container[_ngcontent-%COMP%]{background-color:#f0f0f0;border:4px solid #000;box-shadow:8px 8px #00000080;padding:20px;max-width:300px;width:100%}.dialog-content[_ngcontent-%COMP%]{text-align:center}.dialog-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px;color:#333}.dialog-message[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:#666}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.dialog-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;cursor:pointer;transition:all .3s ease}.confirm-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.cancel-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.dialog-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dialog-button[_ngcontent-%COMP%]:active{transform:scale(.9)}"]})}return n})();var M4=(()=>{class n{http;constructor(e){this.http=e}getAvatarList(){return this.http.get("assets/portraits/avatars.json").pipe(Z(e=>e.avatars))}static \u0275fac=function(i){return new(i||n)(P(no))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pb(n,t){n&1&&(y(0,"div",9),x(1,"Loading avatars..."),p())}function yb(n,t){if(n&1){let e=G();y(0,"div",12),b("click",function(){let a=C(e).$implicit,r=k(3);return w(r.selectAvatar(a))}),y(1,"div",13)(2,"img",14),b("error",function(a){C(e);let r=k(3);return w(r.handleImageError(a))}),p()()()}if(n&2){let e=t.$implicit;Ge("selected",e.selected),u(2),m("src",e.path,Hc)("alt","Avatar - "+e.filename)}}function fb(n,t){if(n&1&&(y(0,"div",10),T(1,yb,3,4,"div",11),p()),n&2){let e=k(2);u(),m("ngForOf",e.avatars)}}function mb(n,t){if(n&1){let e=G();y(0,"div",1)(1,"div",2)(2,"h2",3),x(3,"Choose Your Avatar"),p(),T(4,pb,2,0,"div",4)(5,fb,2,1,"div",5),y(6,"div",6)(7,"button",7),b("click",function(){C(e);let a=k();return w(a.onConfirm())}),x(8," Confirm "),p(),y(9,"button",8),b("click",function(){C(e);let a=k();return w(a.onCancel())}),x(10," Cancel "),p()()()()}if(n&2){let e=k();u(4),m("ngIf",e.loading),u(),m("ngIf",!e.loading),u(2),m("disabled",!e.selectedAvatar)}}var C4=(()=>{class n{avatarService;isOpen=!1;confirm=new _;cancel=new _;avatars=[];loading=!0;selectedAvatar=null;constructor(e){this.avatarService=e}ngOnInit(){this.loadAvatars()}loadAvatars(){this.loading=!0,this.avatarService.getAvatarList().subscribe({next:e=>{this.avatars=e.map((i,a)=>({id:a+1,path:`assets/portraits/${i}`,filename:i,selected:!1})),this.loading=!1},error:e=>{console.error("Error loading avatars:",e),this.loading=!1}})}selectAvatar(e){this.avatars.forEach(i=>i.selected=!1),e.selected=!0,this.selectedAvatar=e}onConfirm(){this.selectedAvatar&&this.confirm.emit(this.selectedAvatar.path),this.reset()}onCancel(){this.cancel.emit(),this.reset()}reset(){this.selectedAvatar=null,this.avatars.forEach(e=>e.selected=!1),this.isOpen=!1}handleImageError(e){let i=e.target;i.classList.add("error"),i.parentElement?.classList.add("error")}static \u0275fac=function(i){return new(i||n)(I(M4))};static \u0275cmp=O({type:n,selectors:[["app-avatar-gallery"]],inputs:{isOpen:"isOpen"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[q],decls:1,vars:1,consts:[["class","dialog-overlay",4,"ngIf"],[1,"dialog-overlay"],[1,"dialog-container"],[1,"dialog-title"],["class","loading-text",4,"ngIf"],["class","avatar-grid",4,"ngIf"],[1,"dialog-actions"],[1,"dialog-button","confirm-button",3,"click","disabled"],[1,"dialog-button","cancel-button",3,"click"],[1,"loading-text"],[1,"avatar-grid"],["class","avatar-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"avatar-item",3,"click"],[1,"pixel-frame"],[1,"avatar-image",3,"error","src","alt"]],template:function(i,a){i&1&&T(0,mb,11,3,"div",0),i&2&&m("ngIf",a.isOpen)},dependencies:[K,At,Le],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.dialog-container[_ngcontent-%COMP%]{background-color:var(--color-text);border:4px solid var(--color-footer);box-shadow:8px 8px #00000080;padding:20px;width:90%;max-width:600px;display:flex;flex-direction:column;max-height:90vh}.dialog-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px;color:#333}.avatar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;padding:16px;margin-bottom:20px;overflow-y:auto;max-height:450px;scrollbar-width:thin;scrollbar-color:var(--color-footer) var(--color-text)}.avatar-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.avatar-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-text)}.avatar-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-footer);border-radius:4px}.avatar-item[_ngcontent-%COMP%]{cursor:pointer;padding:8px;border:4px solid var(--color-footer);background-color:var(--color-text);transition:transform .3s ease;aspect-ratio:1}.avatar-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar-item.selected[_ngcontent-%COMP%]{background-color:var(--color-text);border-color:var(--color-spec1)}.pixel-frame[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.dialog-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;cursor:pointer;transition:all .3s ease}.dialog-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.dialog-button[_ngcontent-%COMP%]:not(:disabled):hover{transform:scale(1.1)}.dialog-button[_ngcontent-%COMP%]:not(:disabled):active{transform:scale(.9)}.confirm-button[_ngcontent-%COMP%]{background-color:var(--color-acid);color:var(--color-text)}.confirm-button[_ngcontent-%COMP%]:disabled:hover{background-color:var(--color-acid)}.cancel-button[_ngcontent-%COMP%]{background-color:var(--color-fire);color:var(--color-text)}.loading-text[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:18px;color:#666}.error[_ngcontent-%COMP%]{border:2px solid var(--color-fire)}"]})}return n})();var w4=(()=>{class n{characterIds=Fe([]);currentIndex=Fe(0);exhaustedIds=Fe(new Set);roundCounter=Fe(1);isFirstTurn=Fe(!0);orderedCharacterIds=Fe([]);activeCharacter=ue(()=>{let e=this.characterIds(),i=this.currentIndex();return e.length>0?e[i]:null});previousCharacter=ue(()=>{let e=this.characterIds(),i=this.currentIndex();if(e.length===0||this.isFirstTurn())return null;let a=this.calculatePreviousIndex(i,e.length);return e[a]});nextCharacter=ue(()=>{let e=this.characterIds(),i=this.currentIndex();if(e.length===0)return null;let a=this.calculateNextIndex(i,e.length);return e[a]});currentRound=ue(()=>this.roundCounter());characterOrderList=ue(()=>{let e=this.characterIds();if(e.length===0)return[];let i=this.currentIndex(),a=this.exhaustedIds(),r=e.length;return e.map((o,s)=>({id:o,order:this.calculateCharacterOrder(o,s,i,r,a)}))});initializeCharacters(){let e=this.orderedCharacterIds();if(!e.length)throw new Error("Cannot initialize battle with empty character list");this.resetState(e)}activateNext(){let e=this.characterIds();if(!e.length)return;let i=e[this.currentIndex()];this.exhaustCurrentCharacter(i);let a=this.calculateNextIndex(this.currentIndex(),e.length);this.handleRoundTransition(a),this.updateBattleState(a)}activatePrevious(){let e=this.characterIds();if(!e.length||this.isFirstTurn())return;let i=this.calculatePreviousIndex(this.currentIndex(),e.length),a=e[i];i===e.length-1&&this.handleRoundTransitionReverse(e),this.unexhaustCharacter(a),this.updateBattleState(i)}reset(){this.resetState([])}isCharacterActive(e){return this.activeCharacter()===e}isCharacterPrevious(e){return this.previousCharacter()===e}isCharacterNext(e){return this.nextCharacter()===e}isCharacterExhausted(e){return this.exhaustedIds().has(e)}updateOrderedCharacterIds(e){this.orderedCharacterIds.set([...e])}getOrderedCharacterIds(){return this.orderedCharacterIds()}calculatePreviousIndex(e,i){return(e-1+i)%i}calculateNextIndex(e,i){return(e+1)%i}calculateCharacterOrder(e,i,a,r,o){return this.characterIds().length===0?null:o.has(e)?r+i:(i-a+r)%r+1}resetState(e){this.characterIds.set([...e]),this.currentIndex.set(0),this.exhaustedIds.set(new Set),this.roundCounter.set(1),this.isFirstTurn.set(!0)}exhaustCurrentCharacter(e){this.exhaustedIds.update(i=>{let a=new Set(i);return a.add(e),a})}unexhaustCharacter(e){this.exhaustedIds.update(i=>{let a=new Set(i);return a.delete(e),a})}handleRoundTransition(e){e===0&&(this.exhaustedIds.set(new Set),this.roundCounter.update(i=>i+1))}handleRoundTransitionReverse(e){this.exhaustedIds.update(()=>{let i=new Set;return e.slice(0,-1).forEach(a=>i.add(a)),i}),this.roundCounter.update(i=>Math.max(1,i-1))}updateBattleState(e){this.currentIndex.set(e),this.isFirstTurn.set(!1)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wr=(()=>{class n{battleService;characterService;viewManagerService;activeCharacter;previousCharacter;nextCharacter;currentRound;characterOrderList;isFirstTurn;constructor(e,i,a){this.battleService=e,this.characterService=i,this.viewManagerService=a,this.activeCharacter=this.battleService.activeCharacter,this.previousCharacter=this.battleService.previousCharacter,this.nextCharacter=this.battleService.nextCharacter,this.currentRound=this.battleService.currentRound,this.characterOrderList=this.battleService.characterOrderList,this.isFirstTurn=this.battleService.isFirstTurn}isCharacterActive(e){return this.battleService.isCharacterActive(e)}isCharacterPrevious(e){return this.battleService.isCharacterPrevious(e)}isCharacterNext(e){return this.battleService.isCharacterNext(e)}isCharacterExhausted(e){return this.battleService.isCharacterExhausted(e)}updateOrderedCharacterIds(e){this.battleService.updateOrderedCharacterIds(e)}initializeBattle(){try{this.viewManagerService.enterBattleMode(),this.battleService.initializeCharacters();let e=this.battleService.activeCharacter();e&&this.characterService.activateCharacter(e)}catch(e){throw console.error("Failed to initialize battle:",e),new Error("Battle initialization failed")}}nextTurn(){try{this.battleService.activateNext();let e=this.battleService.activeCharacter();e&&(this.characterService.activateCharacter(e),this.viewManagerService.setCurrentView($e.StatBlock))}catch(e){throw console.error("Failed to proceed to next turn:",e),new Error("Failed to proceed to next turn")}}previousTurn(){try{this.battleService.activatePrevious();let e=this.battleService.activeCharacter();e&&(this.characterService.activateCharacter(e),this.viewManagerService.setCurrentView($e.StatBlock))}catch(e){throw console.error("Failed to return to previous turn:",e),new Error("Failed to return to previous turn")}}exitBattle(){try{this.viewManagerService.exitBattleMode(),this.battleService.reset()}catch(e){throw console.error("Failed to exit battle:",e),new Error("Failed to exit battle")}}static \u0275fac=function(i){return new(i||n)(P(w4),P(el),P(nn))};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kb=["characterCard"],vb=(n,t,e,i,a,r)=>({"edit-mode":n,"view-mode":t,exhausted:e,active:i,previous:a,defeated:r});function Mb(n,t){n&1&&(y(0,"span"),x(1,"No Name..."),p())}function Cb(n,t){if(n&1){let e=G();ye(0),y(1,"div",16)(2,"app-d20",17),b("hasRolledInitiativeChange",function(a){C(e);let r=k();return w(r.onInitiativeChange.hasRolled(a))})("initiativeRollChange",function(a){C(e);let r=k();return w(r.onInitiativeChange.roll(a))})("initiativeModChange",function(a){C(e);let r=k();return w(r.onInitiativeChange.mod(a))})("initiativeScoreChange",function(a){C(e);let r=k();return w(r.onInitiativeChange.score(a))}),p()(),fe()}if(n&2){let e=k();u(2),m("initiativeMod",e.character.initiativeModifier)("characterType",e.character.type)("initiativeRoll",e.character.initiativeRoll)("initiativeScore",e.initiativeScore)("hasRolledInitiative",e.character.hasRolledInitiative)}}var x4=(()=>{class n{characterFacade;viewManagerService;battleFacade;character;contextMenu;characterCard;characterOrder=null;showGallery=!1;onAvatarSelected(e){this.showGallery=!1,this.state.avatarSrc=e,this.characterFacade.updateCharacterImage(this.character,e)}state={editMode:!1,hpAdjustment:0,showDeleteConfirmation:!1,avatarSrc:""};viewState;battleState;contextMenuItems=[{action:()=>this.viewCharacter(),icon:Et.View,title:"View"},{action:()=>this.editCharacter(),icon:Et.Edit,title:"Edit"},{action:()=>this.saveCharacter(),icon:Et.Save,title:"Save"},{action:()=>this.openGallery(),icon:Et.Image,title:"Change Image"},{action:()=>this.confirmDelete(),icon:Et.Delete,title:"Delete"}];constructor(e,i,a){this.characterFacade=e,this.viewManagerService=i,this.battleFacade=a,this.viewState={currentView:this.viewManagerService.getCurrentView(),isInitiativeRollView:ue(()=>this.viewManagerService.getCurrentView()()===$e.InitiativeRoll),columnSizes:ue(()=>({left:this.viewManagerService.getCurrentView()()===$e.InitiativeRoll?"col-4":"col-8",right:this.viewManagerService.getCurrentView()()===$e.InitiativeRoll?"col-2":"col-4"}))},this.battleState={isActive:ue(()=>this.battleFacade.isCharacterActive(this.character.id)),isPrevious:ue(()=>this.battleFacade.isCharacterPrevious(this.character.id)),isNext:ue(()=>this.battleFacade.isCharacterNext(this.character.id)),isExhausted:ue(()=>this.battleFacade.isCharacterExhausted(this.character.id))},this.initializeCharacterOrderEffect(),this.initializeEditingEffect()}ngOnInit(){if(!this.character){console.error("Character input is required for CharacterComponent");return}this.state.avatarSrc=this.character.avatarSrc}get name(){return this.character.statblock?.name??this.character.name}set name(e){this.character.statblock?this.character.statblock.name=e:this.character.name=e}get armorClass(){return this.character.statblock?.armor_class[0].value??this.character.armorClass}set armorClass(e){this.character.statblock?this.character.statblock.armor_class[0].value=e:this.character.armorClass=e}get maxHp(){return this.character.statblock?.hit_points??this.character.maxHp}set maxHp(e){this.character.statblock?this.character.statblock.hit_points=e:this.character.maxHp=e}get initiativeScore(){return this.character.initiativeScore}onInitiativeChange={hasRolled:e=>{this.character.hasRolledInitiative=e},roll:e=>{this.character.initiativeRoll=e},mod:e=>{this.character.initiativeModifier=e},score:e=>{this.character.initiativeScore=e}};heal(){this.character.currentHp=Math.min(this.character.currentHp+this.state.hpAdjustment,this.maxHp),this.state.hpAdjustment=0}damage(){this.character.currentHp=Math.max(this.character.currentHp-this.state.hpAdjustment,0),this.state.hpAdjustment=0}saveCharacter(){this.characterFacade.stopEditingCharacter(),this.characterFacade.updateCharacter(this.character)}editCharacter(){this.characterFacade.startEditingCharacter(this.character.id),this.characterFacade.activateCharacter(this.character.id)}deleteCharacter(){this.characterFacade.deleteCharacter(this.character.id)}viewCharacter(){this.characterFacade.stopEditingCharacter(),this.characterFacade.activateCharacter(this.character.id)}onImageError(){this.state.avatarSrc=`https://api.dicebear.com/9.x/lorelei/svg?seed=${this.character.id}`}setCharacterOrder(e){this.characterOrder=e}delayedOrderUpdate(e){setTimeout(()=>{this.setCharacterOrder(e),this.characterCard&&this.characterCard.nativeElement.click()},1e3)}openGallery(){this.showGallery=!0}confirmDelete(){this.state.showDeleteConfirmation=!0}onDeleteConfirm(){this.deleteCharacter()}onDeleteCancel(){this.state.showDeleteConfirmation=!1}initializeEditingEffect(){bi(()=>{let e=this.characterFacade.editingCharacterId();this.state.editMode=e===this.character?.id})}initializeCharacterOrderEffect(){bi(()=>{let i=this.battleFacade.characterOrderList().find(a=>a.id===this.character.id);if(!i){this.characterOrder=null;return}this.battleFacade.isFirstTurn()?this.setCharacterOrder(i.order):this.delayedOrderUpdate(i.order)})}static \u0275fac=function(i){return new(i||n)(I(an),I(nn),I(wr))};static \u0275cmp=O({type:n,selectors:[["app-character"]],viewQuery:function(i,a){if(i&1&&(tt(Bo,5),tt(kb,7)),i&2){let r;we(r=xe())&&(a.contextMenu=r.first),we(r=xe())&&(a.characterCard=r.first)}},hostVars:2,hostBindings:function(i,a){i&2&&Xr("order",a.characterOrder)},inputs:{character:"character"},standalone:!0,features:[q],decls:32,vars:35,consts:[["characterCard",""],[1,"character-card",3,"ngClass"],[1,"content"],[1,"row"],[1,"name-section"],[4,"ngIf"],[3,"valueChange","editMode","type","value"],[1,"hp-section"],[1,"initiative-section"],[1,"damage-section"],[3,"click"],[1,"avatar"],["alt","Character Avatar",1,"img-fluid",3,"error","src"],["title","Delete Character",3,"confirm","cancel","isOpen","message"],[3,"targetElement","menuItems"],[3,"confirm","cancel","isOpen"],[1,"col-6"],[3,"hasRolledInitiativeChange","initiativeRollChange","initiativeModChange","initiativeScoreChange","initiativeMod","characterType","initiativeRoll","initiativeScore","hasRolledInitiative"]],template:function(i,a){if(i&1){let r=G();y(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),T(6,Mb,2,0,"span",5),y(7,"app-editable-input",6),oe("valueChange",function(s){return C(r),z(a.name,s)||(a.name=s),w(s)}),p()(),y(8,"div",7)(9,"span"),x(10,"HP: "),p(),y(11,"app-editable-input",6),oe("valueChange",function(s){return C(r),z(a.character.currentHp,s)||(a.character.currentHp=s),w(s)}),p(),y(12,"span"),x(13," / "),p(),y(14,"app-editable-input",6),oe("valueChange",function(s){return C(r),z(a.maxHp,s)||(a.maxHp=s),w(s)}),p()(),y(15,"div",8)(16,"span"),x(17,"AC: "),p(),y(18,"app-editable-input",6),oe("valueChange",function(s){return C(r),z(a.armorClass,s)||(a.armorClass=s),w(s)}),p()(),y(19,"div",9)(20,"button",10),b("click",function(){return C(r),w(a.heal())}),x(21,"Heal"),p(),y(22,"app-editable-input",6),oe("valueChange",function(s){return C(r),z(a.state.hpAdjustment,s)||(a.state.hpAdjustment=s),w(s)}),p(),y(23,"button",10),b("click",function(){return C(r),w(a.damage())}),x(24,"Damage"),p()()(),T(25,Cb,3,5,"ng-container",5),y(26,"div")(27,"div",11)(28,"img",12),b("error",function(){return C(r),w(a.onImageError())}),p()()()()(),y(29,"app-confirm-action",13),b("confirm",function(){return C(r),w(a.onDeleteConfirm())})("cancel",function(){return C(r),w(a.onDeleteCancel())}),p(),H(30,"app-context-menu",14),p(),y(31,"app-avatar-gallery",15),b("confirm",function(s){return C(r),w(a.onAvatarSelected(s))})("cancel",function(){return C(r),w(a.showGallery=!1)}),p()}if(i&2){let r=wt(1);m("ngClass",bm(28,vb,a.state.editMode,!a.state.editMode,a.battleState.isExhausted(),a.battleState.isActive(),a.battleState.isPrevious(),a.character.currentHp===0)),u(4),Ji(a.viewState.columnSizes().left),u(2),m("ngIf",a.name===""&&!a.state.editMode),u(),m("editMode",a.state.editMode)("type","text"),re("value",a.name),u(4),m("editMode",a.state.editMode)("type","number"),re("value",a.character.currentHp),u(3),m("editMode",a.state.editMode)("type","number"),re("value",a.maxHp),u(4),m("editMode",a.state.editMode)("type","number"),re("value",a.armorClass),u(4),m("editMode",!0)("type","number"),re("value",a.state.hpAdjustment),u(3),m("ngIf",a.viewState.isInitiativeRollView()),u(),Ji(a.viewState.columnSizes().right),u(2),m("src",a.state.avatarSrc,Hc),u(),m("isOpen",a.state.showDeleteConfirmation)("message","Are you sure you want to delete "+a.name+"?"),u(),m("targetElement",r)("menuItems",a.contextMenuItems),u(),m("isOpen",a.showGallery)}},dependencies:[K,mt,Le,en,Bo,tn,k4,v4,C4],styles:[`@keyframes fade-out{0%{opacity:1}50%{opacity:.5}to{opacity:0}}@keyframes translate-x-right{to{transform:translate(100%)}}@keyframes translate-x-left{to{transform:translate(-100%)}}@keyframes translate-y-up{to{transform:translateY(-100%)}}@keyframes translate-y-down{to{transform:translateY(100%)}}app-character .character-card{position:relative;height:140px;background:var(--color-footer);border:1px solid var(--color-text);padding:10px;margin-top:1rem;overflow:hidden}app-character .character-card.active{border:none}app-character .character-card.active .content:before,app-character .character-card.active .content:after{content:"";position:absolute;background-color:var(--color-spec1);width:1px;height:calc(100% + 24px);top:-12px}app-character .character-card.active .content:before{left:0;transform:translateY(100%);animation:translate-y-up 3s infinite linear;animation-delay:1.5s}app-character .character-card.active .content:after{right:0;transform:translateY(-100%);animation:translate-y-down 3s infinite linear;animation-delay:1.5s}app-character .character-card.active:before,app-character .character-card.active:after{content:"";position:absolute;background-color:var(--color-spec1);width:100%;height:1px}app-character .character-card.active:before{top:0;transform:translate(-100%);animation:translate-x-right 3s infinite linear}app-character .character-card.active:after{bottom:0;transform:translate(100%);animation:translate-x-left 3s infinite linear}app-character .character-card.previous{animation:fade-out 1s ease-out}app-character .character-card.exhausted{border-color:gray;opacity:.7}app-character .avatar{float:right;width:120px;height:100%}app-character .name-section{text-align:start;font-size:1rem}app-character .name-section input{text-align:start;max-width:20vw}app-character .damage-section{margin-top:1rem}app-character .edit-mode .edit{display:none}app-character .edit-mode .save{display:initial}app-character .view-mode .edit{display:initial}app-character .view-mode .save{display:none}
`],encapsulation:2})}return n})();var wb=["content"],xb=["scroll"],Ib=["padding"],_4=["*"],Wo=n=>({searchTerm:n});function bb(n,t){if(n&1&&(y(0,"div",3),Kc(1,6),p()),n&2){let e=k();u(),m("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Pn(2,Wo,e.filterValue))}}function _b(n,t){if(n&1&&(y(0,"div",5),Kc(1,6),p()),n&2){let e=k();u(),m("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Pn(2,Wo,e.filterValue))}}var Sb=["searchInput"],Lb=["clearButton"],Db=(n,t,e)=>({item:n,clear:t,label:e}),Ab=(n,t)=>({items:n,clear:t}),Eb=(n,t,e,i)=>({item:n,item$:t,index:e,searchTerm:i});function Tb(n,t){if(n&1&&(y(0,"div",20),x(1),p()),n&2){let e=k(2);u(),nt(e.placeholder)}}function Pb(n,t){}function Rb(n,t){if(n&1&&T(0,Tb,2,1,"ng-template",null,1,Jn)(2,Pb,0,0,"ng-template",19),n&2){let e=wt(1),i=k();u(2),m("ngTemplateOutlet",i.placeholderTemplate||e)}}function Fb(n,t){if(n&1){let e=G();y(0,"span",23),b("click",function(){C(e);let a=k().$implicit,r=k(2);return w(r.unselect(a))}),x(1,"\xD7"),p(),H(2,"span",24)}if(n&2){let e=k().$implicit,i=k(2);u(2),m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function Ob(n,t){}function Vb(n,t){if(n&1&&(y(0,"div",22),T(1,Fb,3,2,"ng-template",null,2,Jn)(3,Ob,0,0,"ng-template",12),p()),n&2){let e=t.$implicit,i=wt(2),a=k(2);Ge("ng-value-disabled",e.disabled),u(3),m("ngTemplateOutlet",a.labelTemplate||i)("ngTemplateOutletContext",xm(4,Db,e.value,a.clearItem,e.label))}}function Nb(n,t){if(n&1&&Xh(0,Vb,4,8,"div",21,Kh().trackByOption,!0),n&2){let e=k();Qh(e.selectedItems)}}function qb(n,t){}function jb(n,t){if(n&1&&T(0,qb,0,0,"ng-template",12),n&2){let e=k();m("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",wi(2,Ab,e.selectedValues,e.clearItem))}}function Hb(n,t){n&1&&H(0,"div",25)}function zb(n,t){}function Bb(n,t){if(n&1&&T(0,Hb,1,0,"ng-template",null,3,Jn)(2,zb,0,0,"ng-template",19),n&2){let e=wt(1),i=k();u(2),m("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function Ub(n,t){if(n&1&&(y(0,"span",15,4)(2,"span",26),x(3,"\xD7"),p()()),n&2){let e=k();Yh("title",e.clearAllText)}}function Gb(n,t){if(n&1&&H(0,"span",31),n&2){let e=k().$implicit,i=k(2);m("ngItemLabel",e.label)("escape",i.escapeHTML)}}function Wb(n,t){}function $b(n,t){if(n&1){let e=G();y(0,"div",30),b("click",function(){let a=C(e).$implicit,r=k(2);return w(r.toggleItem(a))})("mouseover",function(){let a=C(e).$implicit,r=k(2);return w(r.onItemHover(a))}),T(1,Gb,1,2,"ng-template",null,5,Jn)(3,Wb,0,0,"ng-template",12),p()}if(n&2){let e=t.$implicit,i=wt(2),a=k(2);Ge("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===a.itemsList.markedItem),st("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),u(3),m("ngTemplateOutlet",e.children?a.optgroupTemplate||i:a.optionTemplate||i)("ngTemplateOutletContext",Im(17,Eb,e.value,e,e.index,a.searchTerm))}}function Zb(n,t){if(n&1&&(y(0,"span")(1,"span",33),x(2),p(),x(3),p()),n&2){let e=k(3);u(2),nt(e.addTagText),u(),Se('"',e.searchTerm,'"')}}function Kb(n,t){}function Xb(n,t){if(n&1){let e=G();y(0,"div",32),b("mouseover",function(){C(e);let a=k(2);return w(a.itemsList.unmarkItem())})("click",function(){C(e);let a=k(2);return w(a.selectTag())}),T(1,Zb,4,2,"ng-template",null,6,Jn)(3,Kb,0,0,"ng-template",12),p()}if(n&2){let e=wt(2),i=k(2);Ge("ng-option-marked",!i.itemsList.markedItem),u(3),m("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",Pn(4,Wo,i.searchTerm))}}function Qb(n,t){if(n&1&&(y(0,"div",34),x(1),p()),n&2){let e=k(3);u(),nt(e.notFoundText)}}function Yb(n,t){}function Jb(n,t){if(n&1&&T(0,Qb,2,1,"ng-template",null,7,Jn)(2,Yb,0,0,"ng-template",12),n&2){let e=wt(1),i=k(2);u(2),m("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",Pn(2,Wo,i.searchTerm))}}function e_(n,t){if(n&1&&(y(0,"div",34),x(1),p()),n&2){let e=k(3);u(),nt(e.typeToSearchText)}}function t_(n,t){}function n_(n,t){if(n&1&&T(0,e_,2,1,"ng-template",null,8,Jn)(2,t_,0,0,"ng-template",19),n&2){let e=wt(1),i=k(2);u(2),m("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function i_(n,t){if(n&1&&(y(0,"div",34),x(1),p()),n&2){let e=k(3);u(),nt(e.loadingText)}}function a_(n,t){}function r_(n,t){if(n&1&&T(0,i_,2,1,"ng-template",null,9,Jn)(2,a_,0,0,"ng-template",12),n&2){let e=wt(1),i=k(2);u(2),m("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",Pn(2,Wo,i.searchTerm))}}function o_(n,t){if(n&1){let e=G();y(0,"ng-dropdown-panel",27),b("update",function(a){C(e);let r=k();return w(r.viewPortItems=a)})("scroll",function(a){C(e);let r=k();return w(r.scroll.emit(a))})("scrollToEnd",function(a){C(e);let r=k();return w(r.scrollToEnd.emit(a))})("outsideClick",function(){C(e);let a=k();return w(a.close())}),ye(1),Xh(2,$b,4,22,"div",28,Kh().trackByOption,!0),T(4,Xb,4,6,"div",29),fe(),T(5,Jb,3,4)(6,n_,3,1)(7,r_,3,4),p()}if(n&2){let e=k();Ge("ng-select-multiple",e.multiple),m("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId),u(2),Qh(e.viewPortItems),u(2),qt(e.showAddTag?4:-1),u(),qt(e.showNoItemsFound()?5:-1),u(),qt(e.showTypeToSearch()?6:-1),u(),qt(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}var S4=/[&<>"']/g,s_=RegExp(S4.source),c_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function l_(n){return n&&s_.test(n)?n.replace(S4,t=>c_[t]):n}function He(n){return n!=null}function Go(n){return typeof n=="object"&&He(n)}function d_(n){return n instanceof Promise}function il(n){return n instanceof Function}var h_=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?l_(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(i){return new(i||n)(I(ve))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},standalone:!0,features:[Ne]})}}return n})(),u_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-option-tmp",""]],standalone:!0})}}return n})(),p_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-optgroup-tmp",""]],standalone:!0})}}return n})(),y_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-label-tmp",""]],standalone:!0})}}return n})(),f_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-multi-label-tmp",""]],standalone:!0})}}return n})(),m_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-header-tmp",""]],standalone:!0})}}return n})(),g_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-footer-tmp",""]],standalone:!0})}}return n})(),k_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-notfound-tmp",""]],standalone:!0})}}return n})(),v_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-placeholder-tmp",""]],standalone:!0})}}return n})(),M_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-typetosearch-tmp",""]],standalone:!0})}}return n})(),C_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-loadingtext-tmp",""]],standalone:!0})}}return n})(),w_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-tag-tmp",""]],standalone:!0})}}return n})(),x_=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(I(ke))}}static{this.\u0275dir=ce({type:n,selectors:[["","ng-loadingspinner-tmp",""]],standalone:!0})}}return n})();function L4(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var I_={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function nl(n){let t=e=>I_[e]||e;return n.replace(/[^\u0000-\u007E]/g,t)}var Qu=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&He(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=i=>this._ngSelect.compareWith(i.value,t):this._ngSelect.bindValue?e=i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===t:e=i=>i.value===t||!i.children&&i.label&&i.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=nl(t).toLocaleLowerCase(),this.filteredItems.find(e=>nl(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:nl(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(let a of Array.from(this._groups.keys())){let r=[];for(let o of this._groups.get(a)){if(i&&(o.parent&&o.parent.selected||o.selected))continue;let s=this._ngSelect.searchFn?o.value:o;e(t,s)&&r.push(o)}if(r.length>0){let[o]=r.slice(-1);if(o.parent){let s=this._items.find(c=>c===o.parent);this._filteredItems.push(s)}this._filteredItems.push(...r)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(t,e){if(!Go(t))return t;if(e.indexOf(".")===-1)return t[e];{let i=e.split("."),a=t;for(let r=0,o=i.length;r<o;++r){if(a==null)return null;a=a[i[r]]}return a}}mapItem(t,e){let i=He(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),a=He(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:He(i)?i.toString():"",value:a,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,a=He(i)?this.findItem(i):null;this._selectionModel.unselect(e,t),this._selectionModel.select(a||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(a=>a===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return nl(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let i=new Map;if(t.length===0)return i;if(Array.isArray(t[0].value[e])){for(let o of t){let s=(o.value[e]||[]).map((c,l)=>this.mapItem(c,l));i.set(o,s)}return i}let a=il(this._ngSelect.groupBy),r=o=>{let s=a?e(o.value):o.value[e];return He(s)?s:void 0};for(let o of t){let s=r(o),c=i.get(s);c?c.push(o):i.set(s,[o])}return i}_flatten(t){let e=il(this._ngSelect.groupBy),i=[];for(let a of Array.from(t.keys())){let r=i.length;if(a===void 0){let h=t.get(void 0)||[];i.push(...h.map(g=>(g.index=r++,g)));continue}let o=Go(a),s={label:o?"":String(a),children:void 0,parent:null,index:r++,disabled:!this._ngSelect.selectableGroup,htmlId:L4()},c=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,l=this._ngSelect.groupValue||(()=>o?a.value:{[c]:a}),d=t.get(a).map(h=>(h.parent=s,h.children=void 0,h.index=r++,h));s.children=d,s.value=l(a,d.map(h=>h.value)),i.push(s),i.push(...d)}return i}},qn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace",n}(qn||{}),D4=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,a){let r=this._dimensions,o=r.itemHeight*i,c=Math.max(0,e)/o*i,l=Math.min(i,Math.ceil(c)+(r.itemsPerViewport+1)),h=Math.max(0,l-r.itemsPerViewport),g=Math.min(h,Math.floor(c)),f=r.itemHeight*Math.ceil(g)-r.itemHeight*Math.min(g,a);return f=isNaN(f)?0:f,g=isNaN(g)?-1:g,l=isNaN(l)?-1:l,g-=a,g=Math.max(0,g),l+=a,l=Math.min(i,l),{topPadding:f,scrollHeight:o,start:g,end:l}}setDimensions(e,i){let a=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:a}}getScrollTo(e,i,a){let{panelHeight:r}=this.dimensions,o=e+i,s=a,c=s+r;return r>=o&&a===e?null:o>c?s+o-c:e<=s?e:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac})}}return n})(),I4=["top","right","bottom","left"],b_=typeof requestAnimationFrame<"u"?wa:vs,b4=(()=>{class n{constructor(e,i,a,r,o){this._renderer=e,this._zone=i,this._panelService=a,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new _,this.scroll=new _,this.scrollToEnd=new _,this.outsideClick=new _,this._destroy$=new Q,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:i}=this._panelService.dimensions,a=this.markedItem.index*e;return i>a?0:a}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;let a=this.items.indexOf(e);if(a<0||a>=this.itemsLength)return;let r;if(this.virtualScroll){let o=this._panelService.dimensions.itemHeight;r=this._panelService.getScrollTo(a*o,o,this._lastScrollPosition)}else{let o=this._dropdown.querySelector(`#${e.htmlId}`),s=i?o.offsetTop:this._lastScrollPosition;r=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,s)}He(r)&&(this._scrollablePanel.scrollTop=r)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),I4.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){I4.forEach(a=>{let r=`ng-select-${a}`;this._renderer.removeClass(this._dropdown,r),this._renderer.removeClass(this._select,r)});let i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{wn(this.scrollElementRef.nativeElement,"scroll").pipe(ut(this._destroy$),Sa(0,b_)).subscribe(e=>{let i=e.path||e.composedPath&&e.composedPath();if(!i||i.length===0&&!e.target)return;let a=!i||i.length===0?e.target.scrollTop:i[0].scrollTop;this._onContentScrolled(a)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Un(wn(this._document,"touchstart",{capture:!0}),wn(this._document,"click",{capture:!0})).pipe(ut(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let i=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,i),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let i=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),He(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let a=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${a*this.itemsLength}px`;let r=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(a,r),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let i=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=i.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let i=this._select.getBoundingClientRect(),a=document.documentElement.scrollTop||document.body.scrollTop,r=i.top+window.pageYOffset,o=i.height,s=e.getBoundingClientRect().height;return r+o+s>a+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),a=e.left-i.left;this._dropdown.style.left=a+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),a=e.height;if(this._currentPosition==="top"){let r=i.bottom-e.bottom;this._dropdown.style.bottom=r+a+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let r=e.top-i.top;this._dropdown.style.top=r+a+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{wn(this._dropdown,"mousedown").pipe(ut(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(i){return new(i||n)(I(Dt),I(Ce),I(D4),I(ve),I(Ee,8))}}static{this.\u0275cmp=O({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,a){if(i&1&&(tt(wb,7,ve),tt(xb,7,ve),tt(Ib,7,ve)),i&2){let r;we(r=xe())&&(a.contentElementRef=r.first),we(r=xe())&&(a.scrollElementRef=r.first),we(r=xe())&&(a.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Ae],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},standalone:!0,features:[Nt,Ne,q],ngContentSelectors:_4,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,a){i&1&&(En(),T(0,bb,2,4,"div",3),y(1,"div",4,0),H(3,"div",null,1),y(5,"div",null,2),Tn(7),p()(),T(8,_b,2,4,"div",5)),i&2&&(qt(a.headerTemplate?0:-1),u(3),Ge("total-padding",a.virtualScroll),u(2),Ge("scrollable-content",a.virtualScroll&&a.items.length),u(3),qt(a.footerTemplate?8:-1))},dependencies:[c2],encapsulation:2,changeDetection:0})}}return n})(),__=(()=>{class n{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new Q}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(i){return new(i||n)(I(ve))}}static{this.\u0275cmp=O({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Ae]},standalone:!0,features:[Nt,Ne,q],ngContentSelectors:_4,decls:1,vars:0,template:function(i,a){i&1&&(En(),Tn(0))},encapsulation:2,changeDetection:0})}}return n})();function S_(){return new Yu}var Yu=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){let a=t.parent.children.length,r=t.parent.children.filter(o=>o.selected).length;t.parent.selected=a===r}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),i&&this._activeChildren(t)?this._selected=[...this._selected.filter(a=>a.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(a=>!a.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(a=>a!==t&&!a.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},L_=(()=>{class n{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),D_=(()=>{class n{warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),A_=new V("ng-select-selection-model"),al=(()=>{class n{constructor(e,i,a,r,o,s,c){this.classes=e,this.autoFocus=i,this.config=a,this._cd=s,this._console=c,this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new _,this.focusEvent=new _,this.changeEvent=new _,this.openEvent=new _,this.closeEvent=new _,this.searchEvent=new _,this.clearEvent=new _,this.addEvent=new _,this.removeEvent=new _,this.scroll=new _,this.scrollToEnd=new _,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=L4(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Q,this._keyPress$=new Q,this._items=[],this.keyDownFn=l=>!0,this.clearItem=l=>{let d=this.selectedItems.find(h=>h.value===l);this.unselect(d)},this.trackByOption=(l,d)=>this.trackByFn?this.trackByFn(d.value):d,this._onChange=l=>{},this._onTouched=()=>{},this._mergeGlobalConfig(a),this.itemsList=new Qu(this,r?r():S_()),this.element=o.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!il(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return He(this._clearSearchOnAdd)?this._clearSearchOnAdd:He(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return He(this._deselectOnClick)?this._deselectOnClick:He(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=He(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),He(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(qn[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let i=e.target;this.clearButton&&this.clearButton.nativeElement===i?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case qn.ArrowDown:this._handleArrowDown(e);break;case qn.ArrowUp:this._handleArrowUp(e);break;case qn.Space:this._handleSpace(e);break;case qn.Enter:this._handleEnter(e);break;case qn.Tab:this._handleTab(e);break;case qn.Esc:this.close(),e.preventDefault();break;case qn.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case qn.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let i=e.target;if(i.tagName!=="INPUT"&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(i.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;il(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let i=a=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(a,null):this.itemsList.addItem(a);d_(e)?e.then(a=>this.select(i(a))).catch(()=>{}):e&&this.select(i(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=He(i)?!Go(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&He(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=a=>{this.items=a.map(r=>({$ngOptionValue:r.value,$ngOptionLabel:r.elementRef.nativeElement.innerHTML,disabled:r.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{let a=Un(this.ngOptions.changes,this._destroy$);Un(...this.ngOptions.map(r=>r.stateChange$)).pipe(ut(a)).subscribe(r=>{let o=this.itemsList.findItem(r.value);o.disabled=r.disabled,o.label=r.label||o.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Gn(this.ngOptions),ut(this._destroy$)).subscribe(a=>{this.bindLabel=this._defaultLabel,e(a),i()})}_isValidWriteValue(e){if(!He(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let i=a=>!He(this.compareWith)&&Go(a)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(a)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(a=>i(a)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let i=a=>{let r=this.itemsList.findItem(a);if(r)this.itemsList.select(r);else{let o=Go(a),s=!o&&!this.bindValue;o||s?this.itemsList.select(this.itemsList.mapItem(a,null)):this.bindValue&&(r={[this.bindLabel]:null,[this.bindValue]:a},this.itemsList.select(this.itemsList.mapItem(r,null)))}};this.multiple?e.forEach(a=>i(a)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(ut(this._destroy$),Be(e=>this._pressedKeys.push(e)),ql(200),at(()=>this._pressedKeys.length>0),Z(()=>this._pressedKeys.join(""))).subscribe(e=>{let i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,i=E({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let a of Object.keys(i))e.setAttribute(a,i[a])}_updateNgModel(){let e=[];for(let a of this.selectedItems)if(this.bindValue){let r=null;if(a.children){let o=this.groupValue?this.bindValue:this.groupBy;r=a.value[o||this.groupBy]}else r=this.itemsList.resolveNested(a.value,this.bindValue);e.push(r)}else e.push(a.value);let i=this.selectedItems.map(a=>a.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(He(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey)this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=He(this.virtualScroll)?this.virtualScroll:He(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=He(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(i){return new(i||n)(Gr("class"),Gr("autofocus"),I(L_),I(A_,8),I(ve),I(it),I(D_))}}static{this.\u0275cmp=O({type:n,selectors:[["ng-select"]],contentQueries:function(i,a,r){if(i&1&&(Ct(r,u_,5,ke),Ct(r,p_,5,ke),Ct(r,y_,5,ke),Ct(r,f_,5,ke),Ct(r,m_,5,ke),Ct(r,g_,5,ke),Ct(r,k_,5,ke),Ct(r,v_,5,ke),Ct(r,M_,5,ke),Ct(r,C_,5,ke),Ct(r,w_,5,ke),Ct(r,x_,5,ke),Ct(r,__,5)),i&2){let o;we(o=xe())&&(a.optionTemplate=o.first),we(o=xe())&&(a.optgroupTemplate=o.first),we(o=xe())&&(a.labelTemplate=o.first),we(o=xe())&&(a.multiLabelTemplate=o.first),we(o=xe())&&(a.headerTemplate=o.first),we(o=xe())&&(a.footerTemplate=o.first),we(o=xe())&&(a.notFoundTemplate=o.first),we(o=xe())&&(a.placeholderTemplate=o.first),we(o=xe())&&(a.typeToSearchTemplate=o.first),we(o=xe())&&(a.loadingTextTemplate=o.first),we(o=xe())&&(a.tagTemplate=o.first),we(o=xe())&&(a.loadingSpinnerTemplate=o.first),we(o=xe())&&(a.ngOptions=o)}},viewQuery:function(i,a){if(i&1&&(tt(b4,5),tt(Sb,7),tt(Lb,5)),i&2){let r;we(r=xe())&&(a.dropdownPanel=r.first),we(r=xe())&&(a.searchInput=r.first),we(r=xe())&&(a.clearButton=r.first)}},hostVars:20,hostBindings:function(i,a){i&1&&b("keydown",function(o){return a.handleKeyDown(o)}),i&2&&Ge("ng-select-typeahead",a.typeahead)("ng-select-multiple",a.multiple)("ng-select-taggable",a.addTag)("ng-select-searchable",a.searchable)("ng-select-clearable",a.clearable)("ng-select-opened",a.isOpen)("ng-select",a.useDefaultClass)("ng-select-filtered",a.filtered)("ng-select-single",a.single)("ng-select-disabled",a.disabled)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",Ae],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Ae],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Ae],hideSelected:[2,"hideSelected","hideSelected",Ae],selectOnTab:[2,"selectOnTab","selectOnTab",Ae],openOnEnter:[2,"openOnEnter","openOnEnter",Ae],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",xi],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",xi],virtualScroll:[2,"virtualScroll","virtualScroll",Ae],selectableGroup:[2,"selectableGroup","selectableGroup",Ae],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Ae],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Ae],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",xi],readonly:[2,"readonly","readonly",Ae],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Ae],minTermLength:[2,"minTermLength","minTermLength",xi],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Ae],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Ae],addTag:"addTag",searchable:[2,"searchable","searchable",Ae],clearable:[2,"clearable","clearable",Ae],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},standalone:!0,features:[xt([{provide:mr,useExisting:un(()=>n),multi:!0},D4]),Nt,Ne,q],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,a){if(i&1){let r=G();y(0,"div",10),b("mousedown",function(s){return C(r),w(a.handleMousedown(s))}),y(1,"div",11),T(2,Rb,3,1)(3,Nb,2,0)(4,jb,1,5,null,12),y(5,"div",13)(6,"input",14,0),b("blur",function(s){return C(r),w(a.onInputBlur(s))})("change",function(s){return C(r),w(s.stopPropagation())})("compositionend",function(){C(r);let s=wt(7);return w(a.onCompositionEnd(s.value))})("compositionstart",function(){return C(r),w(a.onCompositionStart())})("focus",function(s){return C(r),w(a.onInputFocus(s))})("input",function(){C(r);let s=wt(7);return w(a.filter(s.value))}),p()()(),T(8,Bb,3,1)(9,Ub,4,1,"span",15),y(10,"span",16),H(11,"span",17),p()(),T(12,o_,8,17,"ng-dropdown-panel",18)}i&2&&(Ge("ng-appearance-outline",a.appearance==="outline")("ng-has-value",a.hasValue),u(2),qt(a.selectedItems.length===0&&!a.searchTerm||a.fixedPlaceholder===!0?2:-1),u(),qt((!a.multiLabelTemplate||!a.multiple)&&a.selectedItems.length>0?3:-1),u(),qt(a.multiple&&a.multiLabelTemplate&&a.selectedValues.length>0?4:-1),u(2),m("disabled",a.disabled)("readOnly",!a.searchable||a.itemsList.maxItemsSelected)("value",a.searchTerm?a.searchTerm:""),st("aria-activedescendant",a.isOpen?a.itemsList==null||a.itemsList.markedItem==null?null:a.itemsList.markedItem.htmlId:null)("aria-controls",a.isOpen?a.dropdownId:null)("aria-expanded",a.isOpen)("aria-label",a.ariaLabel)("id",a.labelForId)("tabindex",a.tabIndex),u(2),qt(a.loading?8:-1),u(),qt(a.showClear()?9:-1),u(3),qt(a.isOpen?12:-1))},dependencies:[c2,h_,b4,mt],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return n})();var A4=(()=>{class n{dnd5eApiService;monsterEntries=[];monsterSelected=new _;constructor(e){this.dnd5eApiService=e}ngOnInit(){this.dnd5eApiService.getMonsterEntries().subscribe(e=>this.monsterEntries=e)}onSelect(e){e&&this.monsterSelected.emit(e)}static \u0275fac=function(i){return new(i||n)(I(tl))};static \u0275cmp=O({type:n,selectors:[["app-monster-search"]],outputs:{monsterSelected:"monsterSelected"},standalone:!0,features:[q],decls:2,vars:1,consts:[["select",""],["bindLabel","name","placeholder","Find Monster...",1,"custom",3,"change","items"]],template:function(i,a){if(i&1){let r=G();y(0,"ng-select",1,0),b("change",function(s){C(r);let c=wt(1);return a.onSelect(s),w(c.clearModel())}),p()}i&2&&m("items",a.monsterEntries)},dependencies:[al,K]})}return n})();var E4=(()=>{class n{characterFacade;characterType="ally";constructor(e){this.characterFacade=e}addDefaultCharacter(){this.characterFacade.addDefaultCharacter(this.characterType)}addPredefinedCharacter(e){this.characterFacade.addPredefinedCharacter(this.characterType,e)}onMonsterSelected(e){this.addPredefinedCharacter(e.index)}static \u0275fac=function(i){return new(i||n)(I(an))};static \u0275cmp=O({type:n,selectors:[["app-create-character"]],inputs:{characterType:"characterType"},standalone:!0,features:[q],decls:12,vars:0,consts:[[1,"container-fluid","menu"],[1,"row","justify-content-center"],[1,"upper-box"],[3,"monsterSelected"],[1,"col-auto"],[1,"or-span"],[1,"lower-box"],[3,"click"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-monster-search",3),b("monsterSelected",function(o){return a.onMonsterSelected(o)}),p()()(),y(4,"div",1)(5,"div",4)(6,"span",5),x(7,"OR"),p()()(),y(8,"div",1)(9,"div",6)(10,"button",7),b("click",function(){return a.addDefaultCharacter()}),x(11,"ADD YOUR OWN"),p()()()())},dependencies:[K,A4],styles:[".menu[_ngcontent-%COMP%]{margin-top:1rem;border:2px dashed;border-radius:3px}.upper-box[_ngcontent-%COMP%], .lower-box[_ngcontent-%COMP%]{margin:auto;width:80%}.upper-box[_ngcontent-%COMP%]{padding-top:2em}.lower-box[_ngcontent-%COMP%]{padding-bottom:2em}button[_ngcontent-%COMP%]{min-height:36px;width:100%}"]})}return n})();var E_=["*"];var T4=[["path",{d:"M5 9v6",key:"158jrl"}],["path",{d:"M9 9h3V5l7 7-7 7v-4H9V9z",key:"1sg2xn"}]];var P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]];var R4=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]];var F4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var $o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Ju=new V("LucideIcons",{factory:()=>new Zo({})}),Zo=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},T_=(()=>{class n{constructor(){this.color=$o.stroke,this.size=$o.width,this.strokeWidth=$o["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function P_(n,t=3){return parseFloat(n.toFixed(t)).toString(10)}var O4=(()=>{class n{constructor(e,i,a,r,o){this.elem=e,this.renderer=i,this.changeDetector=a,this.iconProviders=r,this.iconConfig=o,this.absoluteStrokeWidth=!1,this.defaultSize=$o.height}get size(){return this._size??this.iconConfig.size}set size(e){e?this._size=this.parseNumber(e):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(e){e?this._strokeWidth=this.parseNumber(e):delete this._strokeWidth}ngOnChanges(e){if(e.name||e.img||e.color||e.size||e.absoluteStrokeWidth||e.strokeWidth||e.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let i=this.img??this.name;if(typeof i=="string"){let a=this.getIcon(this.toPascalCase(i));if(a)this.replaceElement(a);else throw new Error(`The "${i}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(i))this.replaceElement(i);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(e){let i=de(E({},$o),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?P_(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",i,e]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(o=>o.trim()).filter(o=>o.length>0));let r=this.elem.nativeElement.childNodes;for(let o of r)this.renderer.removeChild(this.elem.nativeElement,o);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(e){return e.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(i,a,r)=>a.toUpperCase()+r.toLowerCase())}parseNumber(e){if(typeof e=="string"){let i=parseInt(e,10);if(isNaN(i))throw new Error(`${e} is not numeric.`);return i}return e}getIcon(e){for(let i of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(i.hasIcon(e))return i.getIcon(e);return null}createElement([e,i,a=[]]){let r=this.renderer.createElement(e,"http://www.w3.org/2000/svg");return Object.keys(i).forEach(o=>{let s=typeof i[o]=="string"?i[o]:i[o].toString(10);this.renderer.setAttribute(r,o,s)}),a.length&&a.forEach(o=>{let s=this.createElement(o);this.renderer.appendChild(r,s)}),r}}return n.\u0275fac=function(e){return new(e||n)(I(ve),I(Dt),I(it),I(Ju),I(T_))},n.\u0275cmp=O({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[Ne],ngContentSelectors:E_,decls:1,vars:0,template:function(e,i){e&1&&(En(),Tn(0))},encapsulation:2}),n})(),e0=class{constructor(t){this.icons=t}},R_=n=>new Zo(n??{}),V4=(()=>{class n{static pick(e){return{ngModule:n,providers:[{provide:Ju,multi:!0,useValue:new Zo(e)},{provide:Ju,multi:!0,useFactory:R_,deps:[[new Mi,e0]]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ye({type:n}),n.\u0275inj=Qe({imports:[[]]}),n})();function O_(n,t){if(n&1){let e=G();ye(0),y(1,"button",8),b("click",function(){C(e);let a=k();return w(a.previous())}),H(2,"lucide-angular",7),x(3," Prev "),p(),y(4,"button",8),b("click",function(){C(e);let a=k();return w(a.next())}),x(5," Next "),H(6,"lucide-angular",7),p(),y(7,"button",9),b("click",function(){C(e);let a=k();return w(a.exit())}),x(8," Exit Battle "),H(9,"lucide-angular",7),p(),fe()}if(n&2){let e=k();u(2),m("img",e.leftIcon)("size",30),u(4),m("img",e.rightIcon)("size",30),u(3),m("img",e.exitIcon)("size",30)}}function V_(n,t){if(n&1){let e=G();ye(0),y(1,"button",10),b("click",function(){C(e);let a=k();return w(a.switchView(a.rollView))}),x(2,"Set Initiative"),p(),fe()}}function N_(n,t){if(n&1){let e=G();ye(0),y(1,"button",10),b("click",function(){C(e);let a=k();return w(a.startBattle())}),x(2,"Start Battle"),p(),fe()}}var N4=(()=>{class n{viewManagerService;battleFacade;rollView=$e.InitiativeRoll;manualView=$e.Manual;statBlockView=$e.StatBlock;helpIcon=P4;leftIcon=Qk;rightIcon=T4;exitIcon=Jk;currentView=ue(()=>this.viewManagerService.getCurrentView()());isBattleMode=ue(()=>this.viewManagerService.isInBattleMode());constructor(e,i){this.viewManagerService=e,this.battleFacade=i}isRollView(){return this.currentView()===this.rollView}switchView(e){this.viewManagerService.setCurrentView(e)}next(){this.battleFacade.nextTurn()}startBattle(){this.battleFacade.initializeBattle()}previous(){this.battleFacade.previousTurn()}exit(){this.battleFacade.exitBattle()}static \u0275fac=function(i){return new(i||n)(I(nn),I(wr))};static \u0275cmp=O({type:n,selectors:[["app-footer"]],standalone:!0,features:[q],decls:13,vars:5,consts:[[1,"floating-footer"],[1,"footer-content"],[1,"row"],[1,"col-1"],[1,"col-10"],[4,"ngIf"],[1,"icon-button","help",3,"click"],[3,"img","size"],[1,"icon-button","next",3,"click"],[1,"icon-button","exit",3,"click"],[3,"click"]],template:function(i,a){i&1&&(y(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),x(4,"Currently: --"),p(),y(5,"div",4),T(6,O_,10,6,"ng-container",5)(7,V_,3,0,"ng-container",5)(8,N_,3,0,"ng-container",5),p(),y(9,"div",3)(10,"button",6),b("click",function(){return a.switchView(a.manualView)}),H(11,"lucide-angular",7),x(12," Help "),p()()()()()),i&2&&(u(6),m("ngIf",a.isBattleMode()),u(),m("ngIf",!a.isBattleMode()&&!a.isRollView()),u(),m("ngIf",!a.isBattleMode()&&a.isRollView()),u(3),m("img",a.helpIcon)("size",30))},dependencies:[V4,O4,K,Le],styles:[".floating-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:var(--color-footer);border-top:1px solid var(--color-spec2);z-index:1000}.footer-content[_ngcontent-%COMP%]{padding:15px;text-align:center}.icon-button[_ngcontent-%COMP%]{box-shadow:none;border:none;background-color:transparent}.icon-button[_ngcontent-%COMP%]:hover{background-color:transparent;border:none;box-shadow:none}.icon-button[_ngcontent-%COMP%]:active{transform:scale(.95);background-color:transparent;border:none;box-shadow:none}"]})}return n})();var Pi=(()=>{class n{screenWidth=window.innerWidth;ngOnInit(){this.calculateScreenWidth()}onResize(){this.calculateScreenWidth()}calculateScreenWidth(){this.screenWidth=window.innerWidth}getPolylinePoints(){return`0,0 ${this.screenWidth*.5},2.5 0,5`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-tapered-rule"]],hostBindings:function(i,a){i&1&&b("resize",function(o){return a.onResize(o)},!1,Mf)},standalone:!0,features:[q],decls:2,vars:1,consts:[["height","5","width","100%",1,"tapered-rule"]],template:function(i,a){i&1&&(Oc(),y(0,"svg",0),H(1,"polyline"),p()),i&2&&(u(),st("points",a.getPolylinePoints()))}})}return n})();function q_(n,t){if(n&1&&(y(0,"span"),x(1),p()),n&2){let e=k();u(),Se(" ",e.displayValue,`
`)}}function j_(n,t){if(n&1){let e=G();y(0,"span")(1,"ng-select",1),oe("ngModelChange",function(a){C(e);let r=k();return z(r.value,a)||(r.value=a),w(a)}),b("change",function(a){C(e);let r=k();return w(r.onSelect(a))}),p()()}if(n&2){let e=k();u(),m("items",e.items)("placeholder",e.placeholder),re("ngModel",e.value)}}var q4=(()=>{class n{items=[];placeholder="item...";editMode=!1;value=null;valueChange=new _;onSelect(e){this.value=e,this.valueChange.emit(e)}get displayValue(){return this.value?String(this.value):this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-editable-select"]],inputs:{items:"items",placeholder:"placeholder",editMode:"editMode",value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[q],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngModelChange","change","items","placeholder","ngModel"]],template:function(i,a){i&1&&T(0,q_,2,1,"span",0)(1,j_,2,3,"span",0),i&2&&(m("ngIf",!a.editMode),u(),m("ngIf",a.editMode))},dependencies:[K,Le,al,en,Nn,kn]})}return n})();function jn(n){return t=>{let e=String(t);n.emit(e)}}function H_(n,t){n&1&&(y(0,"span"),x(1,"No Name..."),p())}var j4=(()=>{class n{sizes=h4;monsterTypes=u4;aligments=p4;editMode=!1;name="";size="";type="";alignment="";nameChange=new _;sizeChange=new _;typeChange=new _;alignmentChange=new _;onNameChange=jn(this.nameChange);onSizeChange=jn(this.sizeChange);onTypeChange=jn(this.typeChange);onAlignmentChange=jn(this.alignmentChange);static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-creature-heading"]],inputs:{editMode:"editMode",name:"name",size:"size",type:"type",alignment:"alignment"},outputs:{nameChange:"nameChange",sizeChange:"sizeChange",typeChange:"typeChange",alignmentChange:"alignmentChange"},standalone:!0,features:[q],decls:14,vars:13,consts:[[1,"creature-heading"],[4,"ngIf"],[3,"valueChange","editMode","type","value"],[1,"base-characteristics"],["placeholder","Size",3,"valueChange","value","editMode","items"],["placeholder","Type",3,"valueChange","value","editMode","items"],["placeholder","Alignment",3,"valueChange","value","editMode","items"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"h1"),T(2,H_,2,0,"span",1),y(3,"app-editable-input",2),oe("valueChange",function(o){return z(a.name,o)||(a.name=o),o}),b("valueChange",function(o){return a.onNameChange(o)}),p()(),y(4,"h4")(5,"div",3)(6,"app-editable-select",4),oe("valueChange",function(o){return z(a.size,o)||(a.size=o),o}),b("valueChange",function(o){return a.onSizeChange(o)}),p(),y(7,"span"),x(8,"\xA0"),p(),y(9,"app-editable-select",5),oe("valueChange",function(o){return z(a.type,o)||(a.type=o),o}),b("valueChange",function(o){return a.onTypeChange(o)}),p(),y(10,"span"),x(11,",\xA0"),p(),y(12,"app-editable-select",6),oe("valueChange",function(o){return z(a.alignment,o)||(a.alignment=o),o}),b("valueChange",function(o){return a.onAlignmentChange(o)}),p()()()(),H(13,"app-tapered-rule")),i&2&&(u(2),m("ngIf",a.name===""&&!a.editMode),u(),m("editMode",a.editMode)("type","text"),re("value",a.name),u(3),re("value",a.size),m("editMode",a.editMode)("items",a.sizes),u(3),re("value",a.type),m("editMode",a.editMode)("items",a.monsterTypes),u(3),re("value",a.alignment),m("editMode",a.editMode)("items",a.aligments))},dependencies:[K,Le,Pi,tn,q4],styles:[`app-creature-heading h1 input{min-width:100%;text-align:left!important;font-size:1em!important}app-creature-heading ng-select{font-size:small!important}app-creature-heading .base-characteristics{display:flex}
`],encapsulation:2})}return n})();function z_(n,t){if(n&1){let e=G();y(0,"app-editable-input",7),b("valueChange",function(a){C(e);let r=k(2).$implicit,o=k();return w(o.onValueChange(r.key,a))}),p()}if(n&2){let e=k(2).$implicit,i=k();m("editMode",!0)("value",i.getStringValue(e))}}function B_(n,t){if(n&1){let e=G();y(0,"app-editable-input",8),b("valueChange",function(a){C(e);let r=k(2).$implicit,o=k();return w(o.onValueChange(r.key,a))}),p()}if(n&2){let e=k(2).$implicit,i=k();m("editMode",!0)("value",i.getNumberValue(e))}}function U_(n,t){if(n&1){let e=G();ye(0),y(1,"div",2)(2,"label")(3,"input",3),oe("ngModelChange",function(a){C(e);let r=k().$implicit;return z(r.checked,a)||(r.checked=a),w(a)}),b("change",function(){C(e);let a=k().$implicit,r=k();return w(r.onItemChange(a))}),p(),x(4),p(),ye(5,4),T(6,z_,1,2,"app-editable-input",5)(7,B_,1,2,"app-editable-input",6),fe(),p(),fe()}if(n&2){let e=k().$implicit,i=k();u(3),re("ngModel",e.checked),u(),Se(" ",i.getDisplayValue(e.key)," "),u(),m("ngSwitch",e.type),u(),m("ngSwitchCase","text"),u(),m("ngSwitchCase","number")}}function G_(n,t){n&1&&(y(0,"span"),x(1,"\xA0"),p())}function W_(n,t){if(n&1&&H(0,"app-editable-input",11),n&2){let e=k(2).$implicit,i=k();m("valuePipe",i.displayValuePipe)("editMode",!1)("value",i.getStringValue(e))}}function $_(n,t){if(n&1&&H(0,"app-editable-input",12),n&2){let e=k(2).$implicit,i=k();m("valuePipe",i.displayValuePipe)("editMode",!1)("value",i.getNumberValue(e))}}function Z_(n,t){n&1&&(ye(0),y(1,"span"),x(2,", "),p(),fe())}function K_(n,t){if(n&1&&(ye(0),y(1,"span"),x(2),p(),T(3,G_,2,0,"span",1),ye(4,4),T(5,W_,1,3,"app-editable-input",9)(6,$_,1,3,"app-editable-input",10),fe(),T(7,Z_,3,0,"ng-container",1),fe()),n&2){let e=k().$implicit,i=k();u(2),nt(i.getDisplayValue(e.key)),u(),m("ngIf",i.isNumberOrText(e)),u(),m("ngSwitch",e.type),u(),m("ngSwitchCase","text"),u(),m("ngSwitchCase","number"),u(),m("ngIf",!i.isLastDisplayedItem(e))}}function X_(n,t){if(n&1&&(ye(0),T(1,U_,8,5,"ng-container",1)(2,K_,8,6,"ng-container",1),fe()),n&2){let e=t.$implicit,i=k();u(),m("ngIf",i.editMode),u(),m("ngIf",!i.editMode&&i.shouldDisplayItem(e))}}var rl=(()=>{class n{items={};editMode=!1;availableOptions={};sessionId="";displayKeyPipe=null;displayValuePipe=null;itemsChange=new _;allItems=[];ngOnInit(){this.initializeAllItems()}ngOnChanges(e){e.sessionId&&this.initializeAllItems()}initializeAllItems(){let e=Object.entries(this.items),i=Object.entries(this.availableOptions),a=new Set(e.map(([r])=>r));this.allItems=[...this.createExistingItems(e),...this.createMissingItems(i,a)]}onItemChange(e){e.type==="checkbox"&&(e.value=e.checked),this.updateItems()}onValueChange(e,i){let a=this.allItems.find(r=>r.key===e);a&&(a.value=i,this.updateItems())}updateItems(){let e=this.allItems.reduce((i,a)=>(a.checked&&(a.type!=="checkbox"||a.value===!0)&&(i[a.key]=a.value),i),{});this.itemsChange.emit(e)}getDefaultValueForType(e){return{checkbox:!1,number:0,text:"..."}[e]}getInputType(e){return typeof e=="boolean"?"checkbox":typeof e=="number"?"number":"text"}getStringValue(e){return e.value}getNumberValue(e){return e.value}shouldDisplayItem(e){return e.checked}getItemKeyToString(e){return e.type!=="checkbox"?e.key:`(${e.key})`}isLastDisplayedItem(e){let i=this.allItems.filter(a=>this.shouldDisplayItem(a));return i[i.length-1]===e}getItemKeytoString(e){return e.type!=="checkbox"?e.key:`(${e.key})`}createExistingItems(e){return e.map(([i,a])=>({key:i,value:a,checked:!0,type:this.getInputType(a)}))}createMissingItems(e,i){return e.filter(([a])=>!i.has(a)).map(([a,r])=>({key:a,value:this.getDefaultValueForType(r),checked:!1,type:r}))}isNumberOrText(e){return e.type==="number"||e.type==="text"}getDisplayValue(e){return this.displayKeyPipe?this.displayKeyPipe.transform(`${e}`):e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-editable-checkbox-list"]],inputs:{items:"items",editMode:"editMode",availableOptions:"availableOptions",sessionId:"sessionId",displayKeyPipe:"displayKeyPipe",displayValuePipe:"displayValuePipe"},outputs:{itemsChange:"itemsChange"},standalone:!0,features:[Ne,q],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"checkbox-item"],["type","checkbox",3,"ngModelChange","change","ngModel"],[3,"ngSwitch"],["type","text",3,"editMode","value","valueChange",4,"ngSwitchCase"],["type","number",3,"editMode","value","valueChange",4,"ngSwitchCase"],["type","text",3,"valueChange","editMode","value"],["type","number",3,"valueChange","editMode","value"],["type","text",3,"valuePipe","editMode","value",4,"ngSwitchCase"],["type","number",3,"valuePipe","editMode","value",4,"ngSwitchCase"],["type","text",3,"valuePipe","editMode","value"],["type","number",3,"valuePipe","editMode","value"]],template:function(i,a){i&1&&T(0,X_,3,2,"ng-container",0),i&2&&m("ngForOf",a.allItems)},dependencies:[K,At,Le,na,er,tn,en,ju,Nn,kn]})}return n})();function Ut(n){return t=>{let e=Number(t);n.emit(e)}}var Q_=(n,t)=>({"edit-mode":n,"view-mode":t}),H4=(()=>{class n{speedOptions=c4;editMode=!1;armorClass=0;armorType="";hitPoints=0;hitDice="";speed={};id="";speedChange=new _;armorClassChange=new _;armorTypeChange=new _;hitPointsChange=new _;hitDiceChange=new _;onArmorClassChange=Ut(this.armorClassChange);onArmorTypeChange=jn(this.armorTypeChange);onHitPointsChange=Ut(this.hitPointsChange);onHitDiceChange=jn(this.hitDiceChange);get speedItems(){return this.speed}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-top-stats"]],inputs:{editMode:"editMode",armorClass:"armorClass",armorType:"armorType",hitPoints:"hitPoints",hitDice:"hitDice",speed:"speed",id:"id"},outputs:{speedChange:"speedChange",armorClassChange:"armorClassChange",armorTypeChange:"armorTypeChange",hitPointsChange:"hitPointsChange",hitDiceChange:"hitDiceChange"},standalone:!0,features:[q],decls:23,vars:20,consts:[[3,"ngClass"],[1,"property-line","first"],[3,"valueChange","editMode","type","value"],["prefix","(","suffix",")",3,"valueChange","editMode","type","value"],[1,"property-line"],[1,"property-line","last"],[1,"speed-container"],[3,"itemsChange","sessionId","editMode","availableOptions","items"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"div",1)(2,"h4"),x(3,"Armor Class"),p(),y(4,"p")(5,"app-editable-input",2),oe("valueChange",function(o){return z(a.armorClass,o)||(a.armorClass=o),o}),b("valueChange",function(o){return a.onArmorClassChange(o)}),p(),y(6,"span"),x(7,"\xA0"),p(),y(8,"app-editable-input",3),oe("valueChange",function(o){return z(a.armorType,o)||(a.armorType=o),o}),b("valueChange",function(o){return a.onArmorTypeChange(o)}),p()()(),y(9,"div",4)(10,"h4"),x(11,"Hit Points"),p(),y(12,"p")(13,"app-editable-input",2),oe("valueChange",function(o){return z(a.hitPoints,o)||(a.hitPoints=o),o}),b("valueChange",function(o){return a.onHitPointsChange(o)}),p(),y(14,"span"),x(15,"\xA0"),p(),y(16,"app-editable-input",3),oe("valueChange",function(o){return z(a.hitDice,o)||(a.hitDice=o),o}),b("valueChange",function(o){return a.onHitDiceChange(o)}),p()()(),y(17,"div",5)(18,"h4"),x(19,"Speed"),p(),y(20,"div",6)(21,"app-editable-checkbox-list",7),b("itemsChange",function(o){return a.speedChange.emit(o)}),p()()()(),H(22,"app-tapered-rule")),i&2&&(m("ngClass",wi(17,Q_,a.editMode,!a.editMode)),u(5),m("editMode",a.editMode)("type","number"),re("value",a.armorClass),u(3),m("editMode",a.editMode)("type","text"),re("value",a.armorType),u(5),m("editMode",a.editMode)("type","number"),re("value",a.hitPoints),u(3),m("editMode",a.editMode)("type","text"),re("value",a.hitDice),u(5),m("sessionId",a.id)("editMode",a.editMode)("availableOptions",a.speedOptions)("items",a.speedItems))},dependencies:[Pi,rl,K,mt,tn],styles:[`app-top-stats .edit-mode div.speed-container{width:100%;display:table}app-top-stats .edit-mode .checkbox-item{float:left;width:33%}app-top-stats .edit-mode .checkbox-item app-editable-input input{float:right;margin-right:10px}app-top-stats .edit-mode .checkbox-item label{vertical-align:sub}app-top-stats .view-mode div.speed-container{display:inline;margin-inline:1em}
`],encapsulation:2})}return n})();function Y_(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.strength),") ")}}function J_(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.dexterity),") ")}}function eS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.constitution),") ")}}function tS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.intelligence),") ")}}function nS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.wisdom),") ")}}function iS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k();u(),Se(" (",e.getModifier(e.charisma),") ")}}var z4=(()=>{class n{strength=10;dexterity=10;constitution=10;intelligence=10;wisdom=10;charisma=10;editMode=!1;strengthChange=new _;dexterityChange=new _;constitutionChange=new _;intelligenceChange=new _;wisdomChange=new _;charismaChange=new _;onStrenghtChange=Ut(this.strengthChange);onDexterityChange=Ut(this.dexterityChange);onConstitutionChange=Ut(this.constitutionChange);onIntelligenceChange=Ut(this.intelligenceChange);onWisdomChange=Ut(this.wisdomChange);onCharismaChange=Ut(this.charismaChange);getModifier(e){let i=Math.floor((e-10)/2);return i>=0?`+${i}`:`${i}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-abilities"]],inputs:{strength:"strength",dexterity:"dexterity",constitution:"constitution",intelligence:"intelligence",wisdom:"wisdom",charisma:"charisma",editMode:"editMode"},outputs:{strengthChange:"strengthChange",dexterityChange:"dexterityChange",constitutionChange:"constitutionChange",intelligenceChange:"intelligenceChange",wisdomChange:"wisdomChange",charismaChange:"charismaChange"},standalone:!0,features:[q],decls:38,vars:24,consts:[[1,"abilities"],[1,"ability-strength"],[3,"valueChange","editMode","type","value"],[4,"ngIf"],[1,"ability-dexterity"],[1,"ability-constitution"],[1,"ability-intelligence"],[1,"ability-wisdom"],[1,"ability-charisma"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"div",1)(2,"h4"),x(3,"STR"),p(),y(4,"p")(5,"app-editable-input",2),oe("valueChange",function(o){return z(a.strength,o)||(a.strength=o),o}),b("valueChange",function(o){return a.onStrenghtChange(o)}),p(),T(6,Y_,2,1,"ng-container",3),p()(),y(7,"div",4)(8,"h4"),x(9,"DEX"),p(),y(10,"p")(11,"app-editable-input",2),oe("valueChange",function(o){return z(a.dexterity,o)||(a.dexterity=o),o}),b("valueChange",function(o){return a.onDexterityChange(o)}),p(),T(12,J_,2,1,"ng-container",3),p()(),y(13,"div",5)(14,"h4"),x(15,"CON"),p(),y(16,"p")(17,"app-editable-input",2),oe("valueChange",function(o){return z(a.constitution,o)||(a.constitution=o),o}),b("valueChange",function(o){return a.onConstitutionChange(o)}),p(),T(18,eS,2,1,"ng-container",3),p()(),y(19,"div",6)(20,"h4"),x(21,"INT"),p(),y(22,"p")(23,"app-editable-input",2),oe("valueChange",function(o){return z(a.intelligence,o)||(a.intelligence=o),o}),b("valueChange",function(o){return a.onIntelligenceChange(o)}),p(),T(24,tS,2,1,"ng-container",3),p()(),y(25,"div",7)(26,"h4"),x(27,"WIS"),p(),y(28,"p")(29,"app-editable-input",2),oe("valueChange",function(o){return z(a.wisdom,o)||(a.wisdom=o),o}),b("valueChange",function(o){return a.onWisdomChange(o)}),p(),T(30,nS,2,1,"ng-container",3),p()(),y(31,"div",8)(32,"h4"),x(33,"CHA"),p(),y(34,"p")(35,"app-editable-input",2),oe("valueChange",function(o){return z(a.charisma,o)||(a.charisma=o),o}),b("valueChange",function(o){return a.onCharismaChange(o)}),p(),T(36,iS,2,1,"ng-container",3),p()()(),H(37,"app-tapered-rule")),i&2&&(u(5),m("editMode",a.editMode)("type","number"),re("value",a.strength),u(),m("ngIf",!a.editMode),u(5),m("editMode",a.editMode)("type","number"),re("value",a.dexterity),u(),m("ngIf",!a.editMode),u(5),m("editMode",a.editMode)("type","number"),re("value",a.constitution),u(),m("ngIf",!a.editMode),u(5),m("editMode",a.editMode)("type","number"),re("value",a.intelligence),u(),m("ngIf",!a.editMode),u(5),m("editMode",a.editMode)("type","number"),re("value",a.wisdom),u(),m("ngIf",!a.editMode),u(5),m("editMode",a.editMode)("type","number"),re("value",a.charisma),u(),m("ngIf",!a.editMode))},dependencies:[Pi,tn,K,Le],styles:[".abilities[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:16.66%;min-width:40px;text-align:center}"]})}return n})();var B4=(()=>{class n{transform(e){if(!e)return"";let i=e.split("-");return i[i.length-1].toUpperCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=$n({name:"savingThrowFormat",type:n,pure:!0,standalone:!0})}return n})();var U4=(()=>{class n{transform(e){return e?e.replace(/^skill-/,"").replace(/-/g," ").replace(/\b\w/g,i=>i.toUpperCase()):""}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=$n({name:"skillFormat",type:n,pure:!0,standalone:!0})}return n})();var ol=[];function aS(n){for(let t of n.dependencies)t.delete(n);n.dependencies.clear()}function rS(n,t){t.add(n),n.dependencies.add(t)}function t0(n){let t=new Set;function e(){let a=ol[ol.length-1];return a&&rS(a,t),n}function i(a){n=a;for(let r of[...t])r.execute()}return[e,i]}function n0(n){let t={execute(){aS(t),ol.push(t),n(),ol.pop()},dependencies:new Set};t.execute()}function G4(n,t){return n.length===t.length&&n.every((e,i)=>e===t[i])}function W4(n,t){n.value=t,n.dispatchEvent(new Event("change"))}function oS(n,t){let e=n.lastIndexOf(t);e!==-1&&n.splice(e,1)}function xr(n,t){let e=document.createElement(n);return Object.assign(e,t)}function $4(n,t){return typeof n=="string"?n.split(t):Array.isArray(n)?n.flatMap(e=>typeof e=="string"?e.split(t):[]):[]}var i0="use-bootstrap-tag",Z4=`${i0}-target`;function K4(n){let t=n,e=t.nextElementSibling;e&&e.classList.contains(i0)&&e.remove();let i=xr("div");t.insertAdjacentElement("afterend",i);let a=t.dataset,r={separator:a.ubTagSeparator||",",variant:a.ubTagVariant||"secondary",xPosition:a.ubTagXPosition||"right",transform:a.ubTagTransform||"input => input",isDuplicate:a.ubTagDuplicate!==void 0,max:+a.ubTagMax>0?+a.ubTagMax:void 0,noInputOnblur:a.ubTagNoInputOnblur!==void 0},o=()=>i.querySelectorAll("button"),s=_e=>{_e.classList.add("duplicate"),setTimeout(()=>{_e.classList.remove("duplicate")},150)},c=()=>t.value,l=()=>c().split(r.separator).filter(_e=>_e!==""),d=_e=>{let Ve=l(),Ke=$4(_e,r.separator);if(!r.max||Ve.length<r.max){let R=[];!r.isDuplicate&&Ve.forEach((j,ne)=>Ke.includes(j)&&R.push(ne));let N=[];Ke.forEach(j=>{Ve.includes(j)?r.isDuplicate&&N.push(j):N.push(j)}),Ve.push(...N),G4(l(),Ve)||(W4(t,Ve.join(r.separator)),N.forEach(j=>{let ne=o()[Ve.lastIndexOf(j)],Xe=ne.offsetHeight;ne.style.height=0,setTimeout(()=>ne.style.height=`${Xe}px`,0),setTimeout(()=>ne.style.removeProperty("height"),150)})),r.isDuplicate||R.forEach(j=>s(o()[j]))}else Ke.length>0&&o().forEach(s)},h=_e=>{let Ve=l();$4(_e,r.separator).forEach(R=>oS(Ve,R)),G4(l(),Ve)||W4(t,Ve.join(r.separator))},g=t.classList,f=t.disabled;t.tabIndex=-1,g.add(Z4);let[v,M]=t0(t.value),[S,F]=t0(!1),[B,U]=t0(""),ee=()=>v().split(r.separator).filter(_e=>_e.trim()!==""),Pe=()=>Function(`return ${r.transform}`)()(B().trim()),Me=()=>ee().length?"":t.placeholder;i.className=`${i0} d-flex flex-wrap align-items-center gap-1 ${g.value}`.replace(Z4,""),n0(()=>{S()?i.classList.add("focus"):i.classList.remove("focus")});let be=()=>{var _e;return(_e=i.querySelector("input"))==null?void 0:_e.focus()},ze=_e=>{_e>=0&&h(ee()[_e])},Tt=(_e=!1)=>{let Ve=Pe();Ve===""&&U(""),(B().includes(r.separator)||_e&&B()!=="")&&(d(Ve.split(r.separator).filter(Ke=>Ke.trim()!=="")),U(""))},on=xr("button",{type:"button",className:`align-items-center gap-1 d-inline-flex py-0 border-0 btn btn-${r.variant}`,disabled:f});g.contains("form-control-sm")&&on.classList.add("btn-sm"),g.contains("form-control-lg")&&on.classList.add("btn-lg"),r.xPosition==="left"&&on.classList.add("flex-row-reverse");let es=xr("span",{className:"d-inline-flex",role:"button",tabIndex:-1,innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg>'}),zn=_e=>{o().forEach(Ve=>Ve.remove()),_e.reverse().forEach((Ve,Ke)=>{let R=_e.length-1-Ke,N=on.cloneNode();if(N.innerHTML=Ve,N.onfocus=()=>{N.classList.add("active"),F(!0)},N.onblur=()=>{N.classList.remove("active"),F(!1)},N.onkeydown=({key:j})=>{if(j==="Backspace"||j==="Delete"){ze(R);let ne=j==="Backspace"?R-1:ee().length===R?-1:R;ne===-1?be():o()[ne].focus()}},!f){let j=es.cloneNode(!0);j.onclick=()=>{ze(R),be()},N.append(j)}i.prepend(N)})};if(n0(()=>{zn(ee())}),!f){let _e=xr("div",{className:"input-wrapper"}),Ve=xr("span"),Ke=xr("input",{type:"text"});Ke.onfocus=()=>{F(!0)},Ke.onblur=()=>{F(!1),r.noInputOnblur?U(""):Tt(!0)},Ke.onkeydown=R=>{B()===""&&R.key==="Backspace"&&ze(ee().length-1),B()!==""&&R.key==="Enter"&&(Tt(!0),R.preventDefault())},Ke.oninput=()=>{U(Ke.value),Tt()},n0(()=>{Ve.innerHTML=B()||Me()||"i",Ke.placeholder=Me(),Ke.value=B()}),_e.append(Ve,Ke),i.append(_e)}return i.onclick=_e=>{_e.target.tagName!=="BUTTON"&&be()},t.addEventListener("change",()=>{M(t.value)}),t.addEventListener("focus",be),{getValue:c,getValues:l,addValue:d,removeValue:h}}var sS=["tagInput"],cS=n=>({"input-hidden":n});function lS(n,t){if(n&1){let e=G();y(0,"button",8),b("click",function(){let a=C(e).$implicit,r=k();return w(r.addTag(a))}),x(1),p()}if(n&2){let e=t.$implicit,i=k();Ge("hidden",i.isTagSelected(e)),m("ngClass",e),u(),Se(" ",e," ")}}function dS(n,t){if(n&1&&(ye(0),y(1,"p"),x(2),p(),fe()),n&2){let e=k();u(2),nt(e.items.join(", "))}}function hS(n,t){if(n&1){let e=G();y(0,"button",13),b("click",function(){C(e);let a=k().$implicit,r=k(2);return w(r.removeTag(a))}),p()}}function uS(n,t){if(n&1&&(y(0,"span",11),T(1,hS,1,0,"button",12),p()),n&2){let e=k(2);u(),m("ngIf",e.editMode)}}function pS(n,t){if(n&1&&(y(0,"div",9),T(1,uS,2,1,"span",10),p()),n&2){let e=k();u(),m("ngForOf",e.items)}}var X4=(()=>{class n{tagInputElement;_items=[];set items(e){this.areArraysDifferent(this._items,e)&&(this._items=e)}get items(){return this._items}editMode=!1;separator;allowDuplicates=!1;transform="";variant="";xPosition="right";maxTags;noInputOnBlur=!1;tagOptions=[];tagLabelKey="name";tagColorKey="color";onValueChange=new _;tagInput=null;ngAfterViewInit(){this.initializeTagInput()}initializeTagInput(){this.tagInput=K4(this.tagInputElement.nativeElement),this.updateTagInputValues(),this.tagInputElement.nativeElement.addEventListener("change",this.onInputChange.bind(this)),this.tagInputElement.nativeElement.addEventListener("itemAdded",this.onInputChange.bind(this)),this.tagInputElement.nativeElement.addEventListener("itemRemoved",this.onInputChange.bind(this))}updateTagInputValues(){if(!this.tagInput)return;let e=this.tagInput.getValues();this.areArraysDifferent(this._items,e)&&(this.tagInput.removeValue(e),this._items.forEach(i=>this.tagInput?.addValue(i)))}onInputChange(){let e=this.getValues();this.areArraysDifferent(e,this._items)&&(this._items=e,this.onValueChange.emit(this._items))}addTag(e){this.tagInput&&(!this._items.includes(e)||this.allowDuplicates)&&(this.tagInput.addValue(e),this.onInputChange())}removeTag(e){this.tagInput&&this._items.includes(e)&&(this.tagInput.removeValue(e),this.onInputChange())}isTagSelected(e){return this._items.includes(e)}getValues(){return this.tagInput?.getValues()??[]}areArraysDifferent(e,i){return e.length!==i.length||e.some((a,r)=>a!==i[r])}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-editable-list"]],viewQuery:function(i,a){if(i&1&&tt(sS,5),i&2){let r;we(r=xe())&&(a.tagInputElement=r.first)}},inputs:{items:"items",editMode:"editMode",separator:"separator",allowDuplicates:"allowDuplicates",transform:"transform",variant:"variant",xPosition:"xPosition",maxTags:"maxTags",noInputOnBlur:"noInputOnBlur",tagOptions:"tagOptions",tagLabelKey:"tagLabelKey",tagColorKey:"tagColorKey"},outputs:{onValueChange:"onValueChange"},standalone:!0,features:[q],decls:8,vars:12,consts:[["tagInput",""],[1,"editable-list-container",3,"ngClass"],["type","text",1,"form-control"],[1,"tag-options-wrapper"],[1,"tag-options"],["class","tag-button",3,"ngClass","hidden","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","selected-tags",4,"ngIf"],[1,"tag-button",3,"click","ngClass"],[1,"selected-tags"],["class","selected-tag",4,"ngFor","ngForOf"],[1,"selected-tag"],["class","remove-tag",3,"click",4,"ngIf"],[1,"remove-tag",3,"click"]],template:function(i,a){i&1&&(y(0,"div",1),H(1,"input",2,0),y(3,"div",3)(4,"div",4),T(5,lS,2,4,"button",5),p()()(),T(6,dS,3,1,"ng-container",6)(7,pS,2,1,"div",7)),i&2&&(m("ngClass",Pn(10,cS,!a.editMode)),u(),st("data-ub-tag-separator",a.separator)("data-ub-tag-duplicate",a.allowDuplicates?"":null)("data-ub-tag-transform",a.transform)("data-ub-tag-variant",a.variant)("data-ub-tag-x-position",a.xPosition)("data-ub-tag-max",a.maxTags),u(4),m("ngForOf",a.tagOptions),u(),m("ngIf",!a.editMode),u(),m("ngIf",!a.editMode))},dependencies:[K,mt,At,Le],styles:[`app-editable-list .use-bootstrap-tag{background-color:transparent;color:var(--color-text)}app-editable-list .use-bootstrap-tag.focus{background-color:transparent;box-shadow:none;border-color:var(--color-text)}app-editable-list .use-bootstrap-tag input[type=text]{border-radius:0;color:var(--color-text);width:100%;max-width:none;text-align:start}app-editable-list .form-control{border:1px solid var(--color-text)}app-editable-list .input-hidden,app-editable-list .tag-button.hidden{display:none}app-editable-list .tag-options-wrapper{margin-top:3px;width:100%}app-editable-list .tag-options{display:flex;flex-wrap:wrap;width:100%}app-editable-list .tag-options:after{content:"";flex-grow:1000;height:0}app-editable-list .tag-options .acid{background:var(--color-acid)}app-editable-list .tag-options .bludgeoning{background:var(--color-bludgeoning)}app-editable-list .tag-options .cold{background:var(--color-cold)}app-editable-list .tag-options .fire{background:var(--color-fire)}app-editable-list .tag-options .force{background:var(--color-force)}app-editable-list .tag-options .lightning{background:var(--color-lightning)}app-editable-list .tag-options .necrotic{background:var(--color-necrotic)}app-editable-list .tag-options .piercing{background:var(--color-piercing)}app-editable-list .tag-options .poison{background:var(--color-poison)}app-editable-list .tag-options .psychic{background:var(--color-psychic)}app-editable-list .tag-options .radiant{background:var(--color-radiant)}app-editable-list .tag-options .slashing{background:var(--color-slashing)}app-editable-list .tag-options .thunder{background:var(--color-thunder)}app-editable-list .input-wrapper>span:before{white-space:pre;content:"  ADD YOUR OWN  ";color:#999;visibility:visible;border:dashed 1px;border-radius:3px}app-editable-list .focus .input-wrapper>span:before{visibility:hidden}app-editable-list .tag-button{color:var(--color-text);box-shadow:none;flex-grow:1;padding:5px;margin-right:2px;border:none;cursor:pointer;font-size:1em;font-weight:500;text-transform:capitalize;transition:opacity .2s,transform .1s;display:flex;align-items:center;justify-content:center;text-align:center;white-space:nowrap}app-editable-list .tag-button:hover{transform:scale(1.05);z-index:1;color:var(--color-text);box-shadow:none}app-editable-list .tag-button:active{transform:scale(.95);box-shadow:none}
`],encapsulation:2})}return n})();var Q4=(()=>{class n{transform(e){return e==="passive_perception"?"passive Perception":e}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=$n({name:"sensesFormat",type:n,pure:!0,standalone:!0})}return n})();var yS=(n,t)=>({"edit-mode":n,"view-mode":t});function fS(n,t){if(n&1){let e=G();y(0,"div",3)(1,"h4"),x(2,"Saving Throws"),p(),y(3,"div",12)(4,"app-editable-checkbox-list",13),b("itemsChange",function(a){C(e);let r=k();return w(r.onSavingThrowsChange(a))}),p()()()}if(n&2){let e=k();u(4),m("displayKeyPipe",e.savingThrowFormatPipe)("displayValuePipe",e.numberToStringPipe)("sessionId",e.id)("editMode",e.editMode)("availableOptions",e.savingThrowsOptions)("items",e.savingThrows)}}function mS(n,t){if(n&1){let e=G();y(0,"div",3)(1,"h4"),x(2,"Skills"),p(),y(3,"div",14)(4,"app-editable-checkbox-list",13),b("itemsChange",function(a){C(e);let r=k();return w(r.onSkillsChange(a))}),p()()()}if(n&2){let e=k();u(4),m("displayKeyPipe",e.skillFormatPipe)("displayValuePipe",e.numberToStringPipe)("sessionId",e.id)("editMode",e.editMode)("availableOptions",e.skillsOptions)("items",e.skills)}}function gS(n,t){if(n&1){let e=G();y(0,"div",15)(1,"h4"),x(2,"Damage Immunities"),p(),y(3,"app-editable-list",16),b("onValueChange",function(a){C(e);let r=k();return w(r.onDamageImmunitiesChange(a))}),p()()}if(n&2){let e=k();u(3),m("tagOptions",e.damageSourcesTags)("editMode",e.editMode)("separator",";")("items",e.damageImmunities)("allowDuplicates",!1)("maxTags",20)}}function kS(n,t){if(n&1){let e=G();y(0,"div",15)(1,"h4"),x(2,"Damage Resistances"),p(),y(3,"app-editable-list",16),b("onValueChange",function(a){C(e);let r=k();return w(r.onDamageResistancesChange(a))}),p()()}if(n&2){let e=k();u(3),m("tagOptions",e.damageSourcesTags)("editMode",e.editMode)("separator",";")("items",e.damageResistances)("allowDuplicates",!1)("maxTags",20)}}function vS(n,t){if(n&1){let e=G();y(0,"div",15)(1,"h4"),x(2,"Damage Vulnerabilities"),p(),y(3,"app-editable-list",16),b("onValueChange",function(a){C(e);let r=k();return w(r.onDamageVulnerabilitiesChange(a))}),p()()}if(n&2){let e=k();u(3),m("tagOptions",e.damageSourcesTags)("editMode",e.editMode)("separator",";")("items",e.damageVulnerabilities)("allowDuplicates",!1)("maxTags",20)}}function MS(n,t){if(n&1){let e=G();y(0,"div",3)(1,"h4"),x(2,"Condition Immunities"),p(),y(3,"div",17)(4,"app-editable-checkbox-list",18),b("itemsChange",function(a){C(e);let r=k();return w(r.onConditionImmunitiesChange(a))}),p()()()}if(n&2){let e=k();u(4),m("editMode",e.editMode)("sessionId",e.id)("editMode",e.editMode)("items",e.conditionImmunitiesRecord)("availableOptions",e.conditionsOptions)}}function CS(n,t){n&1&&(y(0,"span"),x(1,"--"),p())}function wS(n,t){n&1&&(y(0,"span"),x(1," XP"),p())}var Y4=(()=>{class n{savingThrowsOptions=o4;skillsOptions=s4;damageSourcesTags=Q1;conditionsOptions=l4;sensesOptions=d4;editMode=!1;id="";proficiencies=[];damageImmunities=[];damageVulnerabilities=[];damageResistances=[];conditionImmunities=[];senses={passive_perception:0};languages="";challengeRating=0;xp=0;proficienciesChange=new _;conditionImmunitiesChange=new _;damageImmunitiesChange=new _;damageVulnerabilitiesChange=new _;damageResistancesChange=new _;sensesChange=new _;languagesChange=new _;challengeRatingChange=new _;xpChange=new _;savingThrowFormatPipe=new B4;numberToStringPipe=new Xk;skillFormatPipe=new U4;sensesFormatPipe=new Q4;onChallengeRatingChange=Ut(this.challengeRatingChange);onLanguagesChange=jn(this.languagesChange);onXpChange=Ut(this.xpChange);get sensesItems(){return this.senses}onDamageImmunitiesChange(e){this.damageImmunitiesChange.emit(e)}onDamageVulnerabilitiesChange(e){this.damageVulnerabilitiesChange.emit(e)}onDamageResistancesChange(e){this.damageResistancesChange.emit(e)}get savingThrows(){return this.getProficienciesByType("saving-throw-")}set savingThrows(e){this.updateProficiencies(e,"saving-throw-",this.savingThrowsOptions,"Saving Throw")}get skills(){return this.getProficienciesByType("skill-")}set skills(e){this.updateProficiencies(e,"skill-",this.skillsOptions,"Skill")}get languagesString(){return this.languages||"--"}get conditionImmunitiesRecord(){return this.conditionImmunities.reduce((e,i)=>(e[i.index]=!0,e),{})}onConditionImmunitiesChange(e){let i=Object.keys(e).filter(a=>e[a]===!0).map(a=>({index:a,name:a.charAt(0).toUpperCase()+a.slice(1),url:`/api/conditions/${a}`}));this.conditionImmunities=i,this.conditionImmunitiesChange.emit(this.conditionImmunities)}isRecordEmpty(e){return Object.keys(e).length===0&&!this.editMode}getSensesString(){return Object.entries(this.senses).filter(([,e])=>e!=null).map(([e,i])=>e==="passive_perception"?`passive Perception ${i}`:`${e} ${i}`).join(", ")}getFormattedStrings(e){return this.proficiencies.filter(i=>i.proficiency.index.startsWith(e)).map(i=>`${i.proficiency.name.split(":")[1]?.trim()||""} ${this.numberToStringPipe.transform(i.value)}`).join(", ")}onSavingThrowsChange(e){this.savingThrows=this.assertToNumberRecord(e)}onSkillsChange(e){this.skills=this.assertToNumberRecord(e)}assertToNumberRecord(e){return e}getProficienciesByType(e){return this.proficiencies.filter(i=>i.proficiency.index.startsWith(e)).reduce((i,a)=>(i[a.proficiency.index]=a.value,i),{})}updateProficiencies(e,i,a,r){let o=this.proficiencies.filter(s=>!s.proficiency.index.startsWith(i));Object.entries(e).forEach(([s,c])=>{if(Object.prototype.hasOwnProperty.call(a,s)){let l=s.split("-").slice(1).join("-");o.push({value:Number(c),proficiency:{index:s,name:`${r}: ${l.charAt(0).toUpperCase()+l.slice(1)}`,url:`/api/proficiencies/${s}`}})}}),this.proficiencies=o,this.proficienciesChange.emit(this.proficiencies)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-properties"]],inputs:{editMode:"editMode",id:"id",proficiencies:"proficiencies",damageImmunities:"damageImmunities",damageVulnerabilities:"damageVulnerabilities",damageResistances:"damageResistances",conditionImmunities:"conditionImmunities",senses:"senses",languages:"languages",challengeRating:"challengeRating",xp:"xp"},outputs:{proficienciesChange:"proficienciesChange",conditionImmunitiesChange:"conditionImmunitiesChange",damageImmunitiesChange:"damageImmunitiesChange",damageVulnerabilitiesChange:"damageVulnerabilitiesChange",damageResistancesChange:"damageResistancesChange",sensesChange:"sensesChange",languagesChange:"languagesChange",challengeRatingChange:"challengeRatingChange",xpChange:"xpChange"},standalone:!0,features:[q],decls:28,vars:25,consts:[[3,"ngClass"],["class","property-line",4,"ngIf"],["class","property-line damage-sources",4,"ngIf"],[1,"property-line"],[1,"senses-container"],[3,"itemsChange","displayKeyPipe","sessionId","editMode","availableOptions","items"],[1,"languages-container"],[4,"ngIf"],[3,"valueChange","editMode","value"],[1,"challenge-container"],[3,"valueChange","type","value","editMode"],["prefix","(","suffix"," XP)",3,"valueChange","type","editMode","value"],[1,"saving-throw-container"],[3,"itemsChange","displayKeyPipe","displayValuePipe","sessionId","editMode","availableOptions","items"],[1,"skills-container"],[1,"property-line","damage-sources"],["variant","primary","xPosition","left",3,"onValueChange","tagOptions","editMode","separator","items","allowDuplicates","maxTags"],[1,"condition-immunities-container"],[3,"itemsChange","editMode","sessionId","items","availableOptions"]],template:function(i,a){i&1&&(y(0,"div",0),T(1,fS,5,6,"div",1)(2,mS,5,6,"div",1)(3,gS,4,6,"div",2)(4,kS,4,6,"div",2)(5,vS,4,6,"div",2)(6,MS,5,5,"div",1),y(7,"div",3)(8,"h4"),x(9,"Senses"),p(),y(10,"div",4)(11,"app-editable-checkbox-list",5),b("itemsChange",function(o){return a.sensesChange.emit(o)}),p()()(),y(12,"div",3)(13,"h4"),x(14,"Languages"),p(),y(15,"div",6),T(16,CS,2,0,"span",7),y(17,"app-editable-input",8),b("valueChange",function(o){return a.onLanguagesChange(o)}),p()()(),y(18,"div",3)(19,"h4"),x(20,"Challenge"),p(),y(21,"div",9)(22,"app-editable-input",10),b("valueChange",function(o){return a.onChallengeRatingChange(o)}),p(),y(23,"span"),x(24,"\xA0"),p(),y(25,"app-editable-input",11),b("valueChange",function(o){return a.onXpChange(o)}),p(),T(26,wS,2,0,"span",7),p()(),H(27,"app-tapered-rule"),p()),i&2&&(m("ngClass",wi(22,yS,a.editMode,!a.editMode)),u(),m("ngIf",!a.isRecordEmpty(a.savingThrows)),u(),m("ngIf",!a.isRecordEmpty(a.skills)),u(),m("ngIf",a.damageImmunities.length||a.editMode),u(),m("ngIf",a.damageResistances.length||a.editMode),u(),m("ngIf",a.damageVulnerabilities.length||a.editMode),u(),m("ngIf",a.conditionImmunities.length||a.editMode),u(5),m("displayKeyPipe",a.sensesFormatPipe)("sessionId",a.id)("editMode",a.editMode)("availableOptions",a.sensesOptions)("items",a.sensesItems),u(5),m("ngIf",!a.languages&&!a.editMode),u(),m("editMode",a.editMode)("value",a.languages),u(5),m("type","number")("value",a.challengeRating)("editMode",a.editMode),u(3),m("type","number")("editMode",a.editMode)("value",a.xp),u(),m("ngIf",a.editMode))},dependencies:[K,mt,Le,Pi,rl,X4,tn],styles:[`app-properties .edit-mode .damage-sources{margin:1em 0}app-properties .edit-mode div.languages-container input{width:50%;max-width:none;text-align:start;margin-bottom:1em}app-properties .edit-mode div.senses-container,app-properties .edit-mode div.condition-immunities-container,app-properties .edit-mode div.skills-container,app-properties .edit-mode div.saving-throw-container{width:100%;display:table}app-properties .edit-mode .checkbox-item{float:left;width:33%}app-properties .edit-mode .checkbox-item app-editable-input input{float:right;margin-right:10px}app-properties .edit-mode .checkbox-item label{vertical-align:sub}app-properties .view-mode div.challenge-container,app-properties .view-mode div.languages-container,app-properties .view-mode div.senses-container,app-properties .view-mode div.condition-immunities-container,app-properties .view-mode div.skills-container,app-properties .view-mode div.saving-throw-container{display:inline;margin-inline:1em}
`],encapsulation:2})}return n})();var xS=n=>({"edit-mode":n});function IS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k(2).$implicit;u(),Se("(",e.usage==null?null:e.usage.times,"/Day)")}}function bS(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k(2).$implicit,i=k();u(),Se("(Recharge ",i.getRechargeString(e.usage==null?null:e.usage.min_value),")")}}function _S(n,t){if(n&1&&(ye(0),x(1),fe()),n&2){let e=k(2).$implicit,i=k();u(),Se("(Recharges after a ",i.getRestTypeString(e.usage==null?null:e.usage.rest_types)," rest)")}}function SS(n,t){if(n&1&&(y(0,"div")(1,"h4"),x(2),ye(3,4),T(4,IS,2,1,"ng-container",5)(5,bS,2,1,"ng-container",5)(6,_S,2,1,"ng-container",5),fe(),p(),y(7,"p"),x(8),p()()),n&2){let e=k().$implicit,i=k();u(2),Se(" ",e.name," "),u(),m("ngSwitch",i.getUsageType(e)),u(),m("ngSwitchCase","per day"),u(),m("ngSwitchCase","recharge on roll"),u(),m("ngSwitchCase","recharge after rest"),u(2),nt(e.desc)}}function LS(n,t){if(n&1){let e=G();ye(0),y(1,"label")(2,"input",16),b("change",function(){let a=C(e).$implicit,r=k(2).$implicit,o=k();return w(o.updateUsage(r,a))}),p(),x(3),p(),fe()}if(n&2){let e=t.$implicit,i=k(2).$implicit,a=k();u(2),m("value",e)("checked",a.getUsageType(i)===e),u(),Se(" ",e," ")}}function DS(n,t){if(n&1){let e=G();y(0,"input",17),b("ngModelChange",function(a){C(e);let r=k(2).$implicit,o=k();return w(o.updateUsageTimes(r,a))}),p()}if(n&2){let e=k(2).$implicit;m("ngModel",e.usage==null?null:e.usage.times)}}function AS(n,t){if(n&1){let e=G();y(0,"div",18)(1,"input",19),b("ngModelChange",function(a){C(e);let r=k(2).$implicit,o=k();return w(o.updateUsageMinValue(r,a))}),p(),y(2,"span",20),x(3," - 6"),p()()}if(n&2){let e=k(2).$implicit;u(),m("ngModel",e.usage==null?null:e.usage.min_value)}}function ES(n,t){if(n&1){let e=G();ye(0,23),y(1,"label")(2,"input",24),b("change",function(){let a=C(e).$implicit,r=k(3).$implicit,o=k();return w(o.toggleRestType(r,a))}),p(),x(3),p(),fe()}if(n&2){let e=t.$implicit,i=k(3).$implicit;u(2),m("checked",i.usage==null||i.usage.rest_types==null?null:i.usage.rest_types.includes(e)),u(),Se(" ",e," ")}}function TS(n,t){if(n&1&&(y(0,"div",21),T(1,ES,4,2,"ng-container",22),p()),n&2){let e=k(3);u(),m("ngForOf",e.restTypes)}}function PS(n,t){if(n&1){let e=G();y(0,"div")(1,"div",6)(2,"input",7),oe("ngModelChange",function(a){C(e);let r=k().$implicit;return z(r.name,a)||(r.name=a),w(a)}),b("ngModelChange",function(){C(e);let a=k(2);return w(a.onItemChange())}),p(),y(3,"button",8),b("click",function(){C(e);let a=k().index,r=k();return w(r.removeItem(a))}),H(4,"lucide-angular",9),p()(),y(5,"div",10),T(6,LS,4,3,"ng-container",11),p(),ye(7,4),T(8,DS,1,1,"input",12)(9,AS,4,1,"div",13)(10,TS,2,1,"div",14),fe(),y(11,"textarea",15),oe("ngModelChange",function(a){C(e);let r=k().$implicit;return z(r.desc,a)||(r.desc=a),w(a)}),b("ngModelChange",function(){C(e);let a=k(2);return w(a.onItemChange())}),p()()}if(n&2){let e=k().$implicit,i=k();u(2),re("ngModel",e.name),u(2),m("img",i.deleteIcon)("size",20),u(2),m("ngForOf",i.usageTypes),u(),m("ngSwitch",i.getUsageType(e)),u(),m("ngSwitchCase","per day"),u(),m("ngSwitchCase","recharge on roll"),u(),m("ngSwitchCase","recharge after rest"),u(),re("ngModel",e.desc)}}function RS(n,t){if(n&1&&(y(0,"div",2),T(1,SS,9,6,"div",3)(2,PS,12,9,"div",3),p()),n&2){let e=k();m("ngClass",Pn(3,xS,e.editMode)),u(),m("ngIf",!e.editMode),u(),m("ngIf",e.editMode)}}function FS(n,t){if(n&1){let e=G();y(0,"button",25),b("click",function(){C(e);let a=k();return w(a.addItem())}),H(1,"lucide-angular",9),y(2,"span",26),x(3),p()()}if(n&2){let e=k();u(),m("img",e.addIcon)("size",20),u(2),Se(" ",e.buttonText," ")}}var Ri=(()=>{class n{editMode=!1;items=[];itemsChange=new _;buttonText="Add New";deleteIcon=F4;addIcon=n4;usageTypes=["none","per day","recharge on roll","recharge after rest"];restTypes=["short","long"];previousUsageValues=new Map;ngOnChanges(e){e.editMode&&this.emitFilteredItems()}emitFilteredItems(){let e=this.items.filter(i=>i.name!=="");setTimeout(()=>{this.itemsChange.emit(e)})}onItemChange(){this.itemsChange.emit(this.items)}addItem(){this.items.push({name:"",desc:""}),this.onItemChange()}removeItem(e){let i=this.items[e];this.previousUsageValues.delete(i),this.items.splice(e,1),this.onItemChange()}updateUsage(e,i){if(this.storePreviousValues(e),i==="none")delete e.usage;else{let a=this.previousUsageValues.get(e)||{};switch(e.usage={type:i},i){case"per day":e.usage.times=a["per day"]||1;break;case"recharge on roll":e.usage.min_value=a["recharge on roll"]||6;break;case"recharge after rest":e.usage.rest_types=a["recharge after rest"]||["long"];break}}this.onItemChange()}storePreviousValues(e){if(!e.usage)return;let i=this.previousUsageValues.get(e)||{};switch(e.usage.type){case"per day":i["per day"]=e.usage.times||1;break;case"recharge on roll":i["recharge on roll"]=e.usage.min_value||6;break;case"recharge after rest":i["recharge after rest"]=e.usage.rest_types||["long"];break}this.previousUsageValues.set(e,i)}updateUsageTimes(e,i){e.usage&&e.usage.type==="per day"&&(e.usage.times=i,this.storePreviousValues(e),this.onItemChange())}toggleRestType(e,i){if(e.usage&&e.usage.type==="recharge after rest"){if(!e.usage.rest_types)e.usage.rest_types=[i];else{let a=e.usage.rest_types.indexOf(i);a>-1?(e.usage.rest_types.splice(a,1),e.usage.rest_types.length===0&&e.usage.rest_types.push(i)):e.usage.rest_types.push(i)}this.storePreviousValues(e),this.onItemChange()}}getUsageType(e){return e.usage?.type||"none"}getRechargeString(e){return e===void 0?"":e===6?"6":`${e}-6`}getRestTypeString(e){return!e||e.length===0?"":e.join(" or ")}updateUsageMinValue(e,i){if(e.usage&&e.usage.type==="recharge on roll"){let a=Math.max(2,Math.min(6,i));e.usage.min_value=a,this.storePreviousValues(e),this.onItemChange()}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-editable-name-description-array"]],inputs:{editMode:"editMode",items:"items",buttonText:"buttonText"},outputs:{itemsChange:"itemsChange"},standalone:!0,features:[Ne,q],decls:2,vars:2,consts:[["class","item-container",3,"ngClass",4,"ngFor","ngForOf"],["class","add-button",3,"click",4,"ngIf"],[1,"item-container",3,"ngClass"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"name-container"],["placeholder","Name",1,"name-input",3,"ngModelChange","ngModel"],[1,"remove-button",3,"click"],[1,"context-menu-icon",3,"img","size"],[1,"usage-container"],[4,"ngFor","ngForOf"],["class","per-day-input","type","number","placeholder","Uses per day",3,"ngModel","ngModelChange",4,"ngSwitchCase"],["class","recharge-container",4,"ngSwitchCase"],["class","rest-container",4,"ngSwitchCase"],["placeholder","Description",1,"desc-input",3,"ngModelChange","ngModel"],["type","radio",3,"change","value","checked"],["type","number","placeholder","Uses per day",1,"per-day-input",3,"ngModelChange","ngModel"],[1,"recharge-container"],["min","2","max","6","type","number",1,"recharge-input",3,"ngModelChange","ngModel"],[1,"recharge-text"],[1,"rest-container"],["class","rest-types-container",4,"ngFor","ngForOf"],[1,"rest-types-container"],["type","checkbox",3,"change","checked"],[1,"add-button",3,"click"],[1,"add-text"]],template:function(i,a){i&1&&T(0,RS,3,5,"div",0)(1,FS,4,3,"button",1),i&2&&(m("ngForOf",a.items),u(),m("ngIf",a.editMode))},dependencies:[K,mt,At,Le,na,er,en,Ti,qo,Nn,Uu,Bu,kn,kr,gr],styles:["h4[_ngcontent-%COMP%]{font-size:1.5em}.item-container.edit-mode[_ngcontent-%COMP%]{border:1px solid var(--color-text);margin-bottom:2em}.name-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}.name-input[_ngcontent-%COMP%], .remove-button[_ngcontent-%COMP%]{font-size:1.5em;max-width:none;border-radius:0;color:var(--color-text);background-color:#ececec1a}.name-input[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.remove-button[_ngcontent-%COMP%]{position:relative;flex:0 0 40px;border-bottom:1px solid var(--color-text);border-left:1px solid var(--color-text);box-shadow:none;padding:3px;text-align:center;color:#bc7f7f;background-color:transparent;cursor:pointer}.remove-button[_ngcontent-%COMP%]:active, .remove-button[_ngcontent-%COMP%]:hover{box-shadow:none;border-bottom:1px solid var(--color-text);border-left:1px solid var(--color-text);background-color:#bc7f7f;color:var(--color-text)}.desc-input[_ngcontent-%COMP%]{max-width:none;border-radius:0;color:var(--color-text);background-color:#ececec1a;margin-top:1em;position:relative;top:6px;width:100%;height:4em}.usage-container[_ngcontent-%COMP%]{margin-left:1em}.usage-container[_ngcontent-%COMP%], .rest-container[_ngcontent-%COMP%], .recharge-container[_ngcontent-%COMP%], .per-day-input[_ngcontent-%COMP%]{display:inline-block;margin-top:1em}.usage-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .rest-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .recharge-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .per-day-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2em}.rest-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:1em}.add-button[_ngcontent-%COMP%]{white-space:pre;border:dashed 1px;font-size:1.3em;margin:1em 0;background-color:transparent}"]})}return n})();var J4=(()=>{class n{abilities=[];editMode=!1;abilitiesChange=new _;onAbilitiesChange(e){this.abilitiesChange.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-special-abilities"]],inputs:{abilities:"abilities",editMode:"editMode"},outputs:{abilitiesChange:"abilitiesChange"},standalone:!0,features:[q],decls:2,vars:3,consts:[[1,"special-abilities"],[3,"itemsChange","buttonText","items","editMode"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"app-editable-name-description-array",1),b("itemsChange",function(o){return a.onAbilitiesChange(o)}),p()()),i&2&&(u(),m("buttonText","ADD NEW ABILITY")("items",a.abilities)("editMode",a.editMode))},dependencies:[K,Ri]})}return n})();var e5=(()=>{class n{actions=[];editMode=!1;actionsChange=new _;onActionsChange(e){this.actionsChange.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-actions"]],inputs:{actions:"actions",editMode:"editMode"},outputs:{actionsChange:"actionsChange"},standalone:!0,features:[q],decls:5,vars:3,consts:[[1,"border-top"],[3,"itemsChange","buttonText","items","editMode"]],template:function(i,a){i&1&&(y(0,"div")(1,"h2"),x(2,"Actions"),p(),H(3,"hr",0),y(4,"app-editable-name-description-array",1),b("itemsChange",function(o){return a.onActionsChange(o)}),p()()),i&2&&(u(4),m("buttonText","ADD NEW ACTION")("items",a.actions)("editMode",a.editMode))},dependencies:[K,Ri],styles:[".border-top[_ngcontent-%COMP%]{margin-top:0;border:solid 1px}"]})}return n})();function OS(n,t){if(n&1){let e=G();y(0,"div")(1,"h2"),x(2,"Legendary Actions"),p(),H(3,"hr",1),y(4,"app-editable-name-description-array",2),b("itemsChange",function(a){C(e);let r=k();return w(r.onLegendaryActionsChange(a))}),p()()}if(n&2){let e=k();u(4),m("buttonText","ADD NEW LEGENDARY ACTION")("items",e.legendaryActions)("editMode",e.editMode)}}var t5=(()=>{class n{legendaryActions=[];editMode=!1;legendaryActionsChange=new _;onLegendaryActionsChange(e){this.legendaryActionsChange.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-legendary-actions"]],inputs:{legendaryActions:"legendaryActions",editMode:"editMode"},outputs:{legendaryActionsChange:"legendaryActionsChange"},standalone:!0,features:[q],decls:1,vars:1,consts:[[4,"ngIf"],[1,"border-top"],[3,"itemsChange","buttonText","items","editMode"]],template:function(i,a){i&1&&T(0,OS,5,3,"div",0),i&2&&m("ngIf",a.legendaryActions.length||a.editMode)},dependencies:[Ri,K,Le],styles:[".border-top[_ngcontent-%COMP%]{margin-top:0;border:solid 1px}"]})}return n})();function VS(n,t){if(n&1){let e=G();y(0,"div")(1,"div")(2,"h2"),x(3,"Reactions"),p(),H(4,"hr",1),y(5,"app-editable-name-description-array",2),b("itemsChange",function(a){C(e);let r=k();return w(r.onReactionsChange(a))}),p()()()}if(n&2){let e=k();u(5),m("buttonText","ADD NEW REACTION")("items",e.reactions)("editMode",e.editMode)}}var n5=(()=>{class n{reactions=[];editMode=!1;reactionsChange=new _;onReactionsChange(e){this.reactionsChange.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-reactions"]],inputs:{reactions:[2,"reactions","reactions",e=>e??[]],editMode:"editMode"},outputs:{reactionsChange:"reactionsChange"},standalone:!0,features:[Nt,q],decls:1,vars:1,consts:[[4,"ngIf"],[1,"border-top"],[3,"itemsChange","buttonText","items","editMode"]],template:function(i,a){i&1&&T(0,VS,6,3,"div",0),i&2&&m("ngIf",a.reactions.length||a.editMode)},dependencies:[K,Le,Ri],styles:[".border-top[_ngcontent-%COMP%]{margin-top:0;border:solid 1px}"]})}return n})();var NS=["statblockDiv"];function qS(n,t){if(n&1){let e=G();y(0,"div",null,0),H(2,"hr",3),y(3,"div")(4,"app-creature-heading",4),oe("nameChange",function(a){let r=C(e).ngIf;return z(r.name,a)||(r.name=a),w(a)})("sizeChange",function(a){let r=C(e).ngIf;return z(r.size,a)||(r.size=a),w(a)})("typeChange",function(a){let r=C(e).ngIf;return z(r.type,a)||(r.type=a),w(a)})("alignmentChange",function(a){let r=C(e).ngIf;return z(r.alignment,a)||(r.alignment=a),w(a)}),p(),y(5,"app-top-stats",5),oe("armorClassChange",function(a){let r=C(e).ngIf;return z(r.armor_class[0].value,a)||(r.armor_class[0].value=a),w(a)})("armorTypeChange",function(a){let r=C(e).ngIf;return z(r.armor_class[0].type,a)||(r.armor_class[0].type=a),w(a)})("hitPointsChange",function(a){let r=C(e).ngIf;return z(r.hit_points,a)||(r.hit_points=a),w(a)})("hitDiceChange",function(a){let r=C(e).ngIf;return z(r.hit_dice,a)||(r.hit_dice=a),w(a)})("speedChange",function(a){let r=C(e).ngIf;return z(r.speed,a)||(r.speed=a),w(a)}),p(),y(6,"app-abilities",6),oe("strengthChange",function(a){let r=C(e).ngIf;return z(r.strength,a)||(r.strength=a),w(a)})("dexterityChange",function(a){let r=C(e).ngIf;return z(r.dexterity,a)||(r.dexterity=a),w(a)})("constitutionChange",function(a){let r=C(e).ngIf;return z(r.constitution,a)||(r.constitution=a),w(a)})("intelligenceChange",function(a){let r=C(e).ngIf;return z(r.intelligence,a)||(r.intelligence=a),w(a)})("wisdomChange",function(a){let r=C(e).ngIf;return z(r.wisdom,a)||(r.wisdom=a),w(a)})("charismaChange",function(a){let r=C(e).ngIf;return z(r.charisma,a)||(r.charisma=a),w(a)}),p(),y(7,"app-properties",7),oe("proficienciesChange",function(a){let r=C(e).ngIf;return z(r.proficiencies,a)||(r.proficiencies=a),w(a)})("damageImmunitiesChange",function(a){let r=C(e).ngIf;return z(r.damage_immunities,a)||(r.damage_immunities=a),w(a)})("damageResistancesChange",function(a){let r=C(e).ngIf;return z(r.damage_resistances,a)||(r.damage_resistances=a),w(a)})("damageVulnerabilitiesChange",function(a){let r=C(e).ngIf;return z(r.damage_vulnerabilities,a)||(r.damage_vulnerabilities=a),w(a)})("conditionImmunitiesChange",function(a){let r=C(e).ngIf;return z(r.condition_immunities,a)||(r.condition_immunities=a),w(a)})("sensesChange",function(a){let r=C(e).ngIf;return z(r.senses,a)||(r.senses=a),w(a)})("languagesChange",function(a){let r=C(e).ngIf;return z(r.languages,a)||(r.languages=a),w(a)})("challengeRatingChange",function(a){let r=C(e).ngIf;return z(r.challenge_rating,a)||(r.challenge_rating=a),w(a)})("xpChange",function(a){let r=C(e).ngIf;return z(r.xp,a)||(r.xp=a),w(a)}),p(),y(8,"app-special-abilities",8),oe("abilitiesChange",function(a){let r=C(e).ngIf;return z(r.special_abilities,a)||(r.special_abilities=a),w(a)}),p()(),y(9,"div")(10,"app-actions",9),oe("actionsChange",function(a){let r=C(e).ngIf;return z(r.actions,a)||(r.actions=a),w(a)}),p(),y(11,"app-reactions",10),oe("reactionsChange",function(a){let r=C(e).ngIf;return z(r.reactions,a)||(r.reactions=a),w(a)}),p(),y(12,"app-legendary-actions",11),oe("legendaryActionsChange",function(a){let r=C(e).ngIf;return z(r.legendary_actions,a)||(r.legendary_actions=a),w(a)}),p()(),H(13,"hr"),p()}if(n&2){let e=t.ngIf,i=k();u(4),m("editMode",i.editMode),re("name",e.name)("size",e.size)("type",e.type)("alignment",e.alignment),u(),m("id",e.id)("editMode",i.editMode),re("armorClass",e.armor_class[0].value)("armorType",e.armor_class[0].type)("hitPoints",e.hit_points)("hitDice",e.hit_dice)("speed",e.speed),u(),m("editMode",i.editMode),re("strength",e.strength)("dexterity",e.dexterity)("constitution",e.constitution)("intelligence",e.intelligence)("wisdom",e.wisdom)("charisma",e.charisma),u(),m("id",e.id)("editMode",i.editMode),re("proficiencies",e.proficiencies)("damageImmunities",e.damage_immunities)("damageResistances",e.damage_resistances)("damageVulnerabilities",e.damage_vulnerabilities)("conditionImmunities",e.condition_immunities)("senses",e.senses)("languages",e.languages)("challengeRating",e.challenge_rating)("xp",e.xp),u(),m("editMode",i.editMode),re("abilities",e.special_abilities),u(2),m("editMode",i.editMode),re("actions",e.actions),u(),m("editMode",i.editMode),re("reactions",e.reactions),u(),m("editMode",i.editMode),re("legendaryActions",e.legendary_actions)}}function jS(n,t){if(n&1){let e=G();y(0,"div",12)(1,"button",13),b("click",function(){C(e);let a=k();return w(a.addStatblock())}),x(2,"Add Statblock"),p()()}}var i5=(()=>{class n{characterFacade;statblockDiv;contextMenu;constructor(e){this.characterFacade=e,bi(()=>{let i=this.characterFacade.editingCharacterId();this.editMode=!!i})}statblock=ue(()=>this.characterFacade.getActiveCharacterStatblock());activeCharacterId=ue(()=>this.characterFacade.activeCharacterId());editMode=!1;edit(){this.editMode=!0}save(){this.editMode=!1,this.characterFacade.updateCharacterByStatblockId(this.statblock().id)}addStatblock(){this.characterFacade.createDefaultStatblock()}static \u0275fac=function(i){return new(i||n)(I(an))};static \u0275cmp=O({type:n,selectors:[["app-monster-stat-block"]],viewQuery:function(i,a){if(i&1&&(tt(NS,7),tt(Bo,5)),i&2){let r;we(r=xe())&&(a.statblockDiv=r.first),we(r=xe())&&(a.contextMenu=r.first)}},standalone:!0,features:[q],decls:2,vars:2,consts:[["statblockDiv",""],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"border-top"],[3,"nameChange","sizeChange","typeChange","alignmentChange","editMode","name","size","type","alignment"],[3,"armorClassChange","armorTypeChange","hitPointsChange","hitDiceChange","speedChange","id","editMode","armorClass","armorType","hitPoints","hitDice","speed"],[3,"strengthChange","dexterityChange","constitutionChange","intelligenceChange","wisdomChange","charismaChange","editMode","strength","dexterity","constitution","intelligence","wisdom","charisma"],[3,"proficienciesChange","damageImmunitiesChange","damageResistancesChange","damageVulnerabilitiesChange","conditionImmunitiesChange","sensesChange","languagesChange","challengeRatingChange","xpChange","id","editMode","proficiencies","damageImmunities","damageResistances","damageVulnerabilities","conditionImmunities","senses","languages","challengeRating","xp"],[3,"abilitiesChange","editMode","abilities"],[3,"actionsChange","editMode","actions"],[3,"reactionsChange","editMode","reactions"],[3,"legendaryActionsChange","editMode","legendaryActions"],[1,"text-center"],[3,"click"]],template:function(i,a){i&1&&T(0,qS,14,38,"div",1)(1,jS,3,0,"div",2),i&2&&(m("ngIf",a.statblock()),u(),m("ngIf",!a.statblock()&&a.activeCharacterId()))},dependencies:[K,Le,j4,H4,z4,Y4,J4,e5,t5,n5],styles:[`app-monster-stat-block .property-line h4,app-monster-stat-block .property-line p{display:inline;font-size:1.5em;line-height:1.2em}app-monster-stat-block .property-line h4{color:var(--color-spec1)}app-monster-stat-block .property-line p{margin-inline:1em;font-size:1em}app-monster-stat-block .tapered-rule{fill:var(--color-spec2)}
`],encapsulation:2})}return n})();var a5=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-manual"]],standalone:!0,features:[q],decls:0,vars:0,template:function(i,a){}})}return n})();function sl(n,t=0){return HS(n)?Number(n):arguments.length===2?t:0}function HS(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function r5(n){return Array.isArray(n)?n:[n]}function Hn(n){return n instanceof ve?n.nativeElement:n}var r0;try{r0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{r0=!1}var o0=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Zm(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||r0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(P(yn))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ko;function zS(){if(Ko==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ko=!0}))}finally{Ko=Ko||!1}return Ko}function Xo(n){return zS()?n:!!n.capture}var a0;function BS(){if(a0==null){let n=typeof document<"u"?document.head:null;a0=!!(n&&(n.createShadowRoot||n.attachShadow))}return a0}function cl(n){if(BS()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Qo(n){return n.composedPath?n.composedPath()[0]:n.target}var GS=new V("cdk-dir-doc",{providedIn:"root",factory:WS});function WS(){return L(Ee)}var $S=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ZS(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?$S.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var s0=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new _,e){let i=e.body?e.body.dir:null,a=e.documentElement?e.documentElement.dir:null;this.value=ZS(i||a||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(P(GS,8))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var XS=20,o5=(()=>{class n{constructor(e,i,a){this._ngZone=e,this._platform=i,this._scrolled=new Q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=XS){return this._platform.isBrowser?new ie(i=>{this._globalSubscription||this._addGlobalListener();let a=e>0?this._scrolled.pipe(Sa(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):X()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let a=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(at(r=>!r||a.indexOf(r)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((a,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let a=Hn(i),r=e.getElementRef().nativeElement;do if(a==r)return!0;while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return wn(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(P(Ce),P(o0),P(Ee,8))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var QS=20,s5=(()=>{class n{constructor(e,i,a){this._platform=e,this._change=new Q,this._changeListener=r=>{this._change.next(r)},this._document=a,i.runOutsideAngular(()=>{if(e.isBrowser){let r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),a=e.documentElement,r=a.getBoundingClientRect(),o=-r.top||e.body.scrollTop||i.scrollY||a.scrollTop||0,s=-r.left||e.body.scrollLeft||i.scrollX||a.scrollLeft||0;return{top:o,left:s}}change(e=QS){return e>0?this._change.pipe(Sa(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(P(o0),P(Ce),P(Ee,8))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var c5=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({})}}return n})();function l5(n){return n.buttons===0||n.detail===0}function d5(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function S5(n){let t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let a=0;a<e.length;a++)e[a].removeAttribute("id");return i==="canvas"?p5(n,t):(i==="input"||i==="select"||i==="textarea")&&u5(n,t),h5("canvas",n,t,p5),h5("input, textarea, select",n,t,u5),t}function h5(n,t,e,i){let a=t.querySelectorAll(n);if(a.length){let r=e.querySelectorAll(n);for(let o=0;o<a.length;o++)i(a[o],r[o])}}var JS=0;function u5(n,t){t.type!=="file"&&(t.value=n.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${JS++}`)}function p5(n,t){let e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function f0(n){let t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function l0(n,t,e){let{top:i,bottom:a,left:r,right:o}=n;return e>=i&&e<=a&&t>=r&&t<=o}function Jo(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function y5(n,t,e,i){let{top:a,right:r,bottom:o,left:s,width:c,height:l}=n,d=c*t,h=l*t;return i>a-h&&i<o+h&&e>s-d&&e<r+d}var ul=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:f0(e)})})}handleScroll(t){let e=Qo(t),i=this.positions.get(e);if(!i)return null;let a=i.scrollPosition,r,o;if(e===this._document){let l=this.getViewportScrollPosition();r=l.top,o=l.left}else r=e.scrollTop,o=e.scrollLeft;let s=a.top-r,c=a.left-o;return this.positions.forEach((l,d)=>{l.clientRect&&e!==d&&e.contains(d)&&Jo(l.clientRect,s,c)}),a.top=r,a.left=o,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function L5(n,t){let e=n.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(a=>i.appendChild(a)),i}function m0(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];a?n.setProperty(i,a,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Ir(n,t){let e=t?"":"none";m0(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function f5(n,t,e){m0(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function pl(n,t){return t&&t!="none"?n+" "+t:n}function m5(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=yl(t.left,t.top)}function yl(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function g5(n){let t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function eL(n){let t=getComputedStyle(n),e=c0(t,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let a=e.indexOf(i),r=c0(t,"transition-duration"),o=c0(t,"transition-delay");return g5(r[a])+g5(o[a])}function c0(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}var tL=new Set(["position"]),d0=class{get element(){return this._preview}constructor(t,e,i,a,r,o,s,c,l){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=a,this._previewTemplate=r,this._previewClass=o,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=l}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),k5(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return eL(this._preview)}addEventListener(t,e){this._preview.addEventListener(t,e)}removeEventListener(t,e){this._preview.removeEventListener(t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,a;if(i&&t){let r=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),a=L5(o,this._document),this._previewEmbeddedView=o,t.matchSize?m5(a,r):a.style.transform=yl(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else a=S5(this._rootElement),m5(a,this._initialDomRect),this._initialTransform&&(a.style.transform=this._initialTransform);return m0(a.style,{"pointer-events":"none",margin:k5(a)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},tL),Ir(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("popover","manual"),a.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>a.classList.add(r)):a.classList.add(e)),a}};function k5(n){return"showPopover"in n}var v5=Xo({passive:!0}),ll=Xo({passive:!1}),M5=Xo({passive:!1,capture:!0}),nL=800,C5=new Set(["position"]),h0=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ir(e,t)))}constructor(t,e,i,a,r,o){this._config=e,this._document=i,this._ngZone=a,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=Fe(!1),this._moveEvents=new Q,this._pointerMoveSubscription=Ie.EMPTY,this._pointerUpSubscription=Ie.EMPTY,this._scrollSubscription=Ie.EMPTY,this._resizeSubscription=Ie.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new Q,this.started=new Q,this.released=new Q,this.ended=new Q,this.entered=new Q,this.exited=new Q,this.dropped=new Q,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){let c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{let c=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging()){let d=Math.abs(c.x-this._pickupPositionOnPage.x),h=Math.abs(c.y-this._pickupPositionOnPage.y);if(d+h>=this._config.dragStartThreshold){let f=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),v=this._dropContainer;if(!f){this._endDragSequence(s);return}(!v||!v.isDragging()&&!v.isReceiving())&&(s.cancelable&&s.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(s)))}return}s.cancelable&&s.preventDefault();let l=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,c);else{let d=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,h=this._activeTransform;h.x=l.x-d.x+this._passiveTransform.x,h.y=l.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:s,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){let c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new ul(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Hn(i)),this._handles.forEach(i=>Ir(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=Hn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,ll),e.addEventListener("touchstart",this._pointerDown,v5),e.addEventListener("dragstart",this._nativeDragStart,ll)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Hn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ir(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ir(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",x5,M5)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Yo(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",x5,M5)}),i){let a=this._rootElement,r=a.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(s,a),this._initialTransform=a.style.transform||"",this._preview=new d0(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(r,e)),f5(a,!1,C5),this._document.body.appendChild(r.replaceChild(o,a)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),a=Yo(e),r=!a&&e.button!==0,o=this._rootElement,s=Qo(e),c=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+nL>Date.now(),l=a?d5(e):l5(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||r||c||l)return;if(this._handles.length){let g=o.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=f0(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){f5(this._rootElement,!0,C5),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),a=this._getPointerPositionOnPage(t),r=this._getDragDistance(a),o=e._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:r,dropPoint:a,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:a,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,a,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:a}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,a),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let a=o=>{(!o||this._preview&&Qo(o)===this._preview.element&&o.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",a),i(),clearTimeout(r))},r=setTimeout(a,e*1.5);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=L5(this._placeholderRef,this._document)):i=S5(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){let a=e===this._rootElement?null:e,r=a?a.getBoundingClientRect():t,o=Yo(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),c=o.pageX-r.left-s.left,l=o.pageY-r.top-s.top;return{x:r.left-t.left+c,y:r.top-t.top+l}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=Yo(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,a=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let s=this._ownerSVGElement.createSVGPoint();return s.x=a,s.y=r,s.matrixTransform(o.inverse())}}return{x:a,y:r}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:a}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?a=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),d=s.top+o,h=s.bottom-(l-o),g=s.left+r,f=s.right-(c-r);i=w5(i,g,f),a=w5(a,d,h)}return{x:i,y:a}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,a=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(a.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(a.y=i>r.y?1:-1,r.y=i),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ir(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ll),t.removeEventListener("touchstart",this._pointerDown,v5),t.removeEventListener("dragstart",this._nativeDragStart,ll)}_applyRootElementTransform(t,e){let i=1/this.scale,a=yl(t*i,e*i),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=pl(a,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,a=yl(t,e);this._preview.setTransform(pl(a,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),a=this._boundaryElement.getBoundingClientRect();if(a.width===0&&a.height===0||i.width===0&&i.height===0)return;let r=a.left-i.left,o=i.right-a.right,s=a.top-i.top,c=i.bottom-a.bottom;a.width>i.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,a.height>i.height?(s>0&&(e+=s),c>0&&(e-=c)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:Yo(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=Qo(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Jo(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=cl(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let a=this._document;return e||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return Hn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function w5(n,t,e){return Math.max(t,Math.min(e,n))}function Yo(n){return n.type[0]==="t"}function x5(n){n.preventDefault()}function ml(n,t,e){let i=I5(t,n.length-1),a=I5(e,n.length-1);if(i===a)return;let r=n[i],o=a<i?-1:1;for(let s=i;s!==a;s+=o)n[s]=n[s+o];n[a]=r}function I5(n,t){return Math.max(0,Math.min(t,n))}var fl=class{constructor(t){this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,a){let r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,a);if(o===-1&&r.length>0)return null;let s=this.orientation==="horizontal",c=r.findIndex(S=>S.drag===t),l=r[o],d=r[c].clientRect,h=l.clientRect,g=c>o?1:-1,f=this._getItemOffsetPx(d,h,g),v=this._getSiblingOffsetPx(c,r,g),M=r.slice();return ml(r,c,o),r.forEach((S,F)=>{if(M[F]===S)return;let B=S.drag===t,U=B?f:v,ee=B?t.getPlaceholderElement():S.drag.getRootElement();S.offset+=U;let Pe=Math.round(S.offset*(1/S.drag.scale));s?(ee.style.transform=pl(`translate3d(${Pe}px, 0, 0)`,S.initialTransform),Jo(S.clientRect,0,U)):(ee.style.transform=pl(`translate3d(0, ${Pe}px, 0)`,S.initialTransform),Jo(S.clientRect,U,0))}),this._previousSwap.overlaps=l0(h,e,i),this._previousSwap.drag=l.drag,this._previousSwap.delta=s?a.x:a.y,{previousIndex:c,currentIndex:o}}enter(t,e,i,a){let r=a==null||a<0?this._getItemIndexFromPointerPosition(t,e,i):a,o=this._activeDraggables,s=o.indexOf(t),c=t.getPlaceholderElement(),l=o[r];if(l===t&&(l=o[r+1]),!l&&(r==null||r===-1||r<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(l=o[0]),s>-1&&o.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){let d=l.getRootElement();d.parentElement.insertBefore(c,d),o.splice(r,0,t)}else this._element.appendChild(c),o.push(t);c.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(a=>a.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Jo(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:f0(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){let a=this.orientation==="horizontal",r=a?e.left-t.left:e.top-t.top;return i===-1&&(r+=a?e.width-t.width:e.height-t.height),r}_getSiblingOffsetPx(t,e,i){let a=this.orientation==="horizontal",r=e[t].clientRect,o=e[t+i*-1],s=r[a?"width":"height"]*i;if(o){let c=a?"left":"top",l=a?"right":"bottom";i===-1?s-=o.clientRect[c]-r[l]:s+=r[c]-o.clientRect[l]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,a=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let o=i[i.length-1].clientRect;return a?t>=o.right:e>=o.bottom}else{let o=i[0].clientRect;return a?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,a){let r=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===t)return!1;if(a){let l=r?a.x:a.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return r?e>=Math.floor(c.left)&&e<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return o===-1||!this._sortPredicate(o,t)?-1:o}},u0=class{constructor(t,e){this._document=t,this._dragDropRegistry=e,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let a=e[i];this._relatedNodes.push([a,a.nextSibling])}this.withItems(t)}sort(t,e,i,a){let r=this._getItemIndexFromPointerPosition(t,e,i),o=this._previousSwap;if(r===-1||this._activeItems[r]===t)return null;let s=this._activeItems[r];if(o.drag===s&&o.overlaps&&o.deltaX===a.x&&o.deltaY===a.y)return null;let c=this.getItemIndex(t),l=t.getPlaceholderElement(),d=s.getRootElement();r>c?d.after(l):d.before(l),ml(this._activeItems,c,r);let h=this._getRootNode().elementFromPoint(e,i);return o.deltaX=a.x,o.deltaY=a.y,o.drag=s,o.overlaps=d===h||d.contains(h),{previousIndex:c,currentIndex:r}}enter(t,e,i,a){let r=a==null||a<0?this._getItemIndexFromPointerPosition(t,e,i):a;r===-1&&(r=this._getClosestItemIndexToPointer(t,e,i));let o=this._activeItems[r],s=this._activeItems.indexOf(t);s>-1&&this._activeItems.splice(s,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(r,0,t),o.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[a,r]=this._relatedNodes[i];a.parentNode===t&&a.nextSibling!==r&&(r===null?t.appendChild(a):r.parentNode===t&&t.insertBefore(a,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let a=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),r=a?this._activeItems.findIndex(o=>{let s=o.getRootElement();return a===s||s.contains(a)}):-1;return r===-1||!this._sortPredicate(r,t)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=cl(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let a=1/0,r=-1;for(let o=0;o<this._activeItems.length;o++){let s=this._activeItems[o];if(s!==t){let{x:c,y:l}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(e-c,i-l);d<a&&(a=d,r=o)}}return r}},b5=.05,D5=.05,rn=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(rn||{}),It=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(It||{}),p0=class{constructor(t,e,i,a,r){this._dragDropRegistry=e,this._ngZone=a,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Q,this.entered=new Q,this.exited=new Q,this.dropped=new Q,this.sorted=new Q,this.receivingStarted=new Q,this.receivingStopped=new Q,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ie.EMPTY,this._verticalScrollDirection=rn.NONE,this._horizontalScrollDirection=It.NONE,this._stopScrollTimers=new Q,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),Nl(0,wa).pipe(ut(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,c=this.autoScrollStep;this._verticalScrollDirection===rn.UP?s.scrollBy(0,-c):this._verticalScrollDirection===rn.DOWN&&s.scrollBy(0,c),this._horizontalScrollDirection===It.LEFT?s.scrollBy(-c,0):this._horizontalScrollDirection===It.RIGHT&&s.scrollBy(c,0)})};let o=this.element=Hn(t);this._document=i,this.withOrientation("vertical").withElementContainer(o),e.registerDropContainer(this),this._parentPositions=new ul(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,a){this._draggingStarted(),a==null&&this.sortingDisabled&&(a=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,a),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,a,r,o,s,c={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:a,isPointerOverContainer:r,distance:o,dropPoint:s,event:c})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(a=>a.isDragging()).every(a=>t.indexOf(a)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof fl&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new u0(this._document,this._dragDropRegistry);else{let e=new fl(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=Hn(this.element),i=this._scrollableElements.indexOf(this._container),a=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),a>-1&&this._scrollableElements.splice(a,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,a){if(this.sortingDisabled||!this._domRect||!y5(this._domRect,b5,e,i))return;let r=this._sortStrategy.sort(t,e,i,a);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,a=rn.NONE,r=It.NONE;if(this._parentPositions.positions.forEach((o,s)=>{s===this._document||!o.clientRect||i||y5(o.clientRect,b5,t,e)&&([a,r]=iL(s,o.clientRect,this._direction,t,e),(a||r)&&(i=s))}),!a&&!r){let{width:o,height:s}=this._viewportRuler.getViewportSize(),c={width:o,height:s,top:0,right:o,bottom:s,left:0};a=A5(c,e),r=E5(c,t),i=window}i&&(a!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=r,this._scrollNode=i,(a||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return this._domRect!=null&&l0(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(a=>a._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!l0(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let a=this._getShadowRoot().elementFromPoint(e,i);return a?a===this._container||this._container.contains(a):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=cl(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function A5(n,t){let{top:e,bottom:i,height:a}=n,r=a*D5;return t>=e-r&&t<=e+r?rn.UP:t>=i-r&&t<=i+r?rn.DOWN:rn.NONE}function E5(n,t){let{left:e,right:i,width:a}=n,r=a*D5;return t>=e-r&&t<=e+r?It.LEFT:t>=i-r&&t<=i+r?It.RIGHT:It.NONE}function iL(n,t,e,i,a){let r=A5(t,a),o=E5(t,i),s=rn.NONE,c=It.NONE;if(r){let l=n.scrollTop;r===rn.UP?l>0&&(s=rn.UP):n.scrollHeight-l>n.clientHeight&&(s=rn.DOWN)}if(o){let l=n.scrollLeft;e==="rtl"?o===It.RIGHT?l<0&&(c=It.RIGHT):n.scrollWidth+l>n.clientWidth&&(c=It.LEFT):o===It.LEFT?l>0&&(c=It.LEFT):n.scrollWidth-l>n.clientWidth&&(c=It.RIGHT)}return[s,c]}var dl=Xo({passive:!1,capture:!0}),hl=new Set,aL=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=O({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[q],decls:0,vars:0,template:function(i,a){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return n})(),rL=(()=>{class n{constructor(e,i){this._ngZone=e,this._appRef=L(Rn),this._environmentInjector=L(yt),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=Fe([]),this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new Q,this.pointerUp=new Q,this.scroll=new Q,this._preventDefaultWhileDragging=a=>{this._activeDragInstances().length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,dl)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,dl)}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._loadResets(),this._activeDragInstances.update(a=>[...a,e]),this._activeDragInstances().length===1)){let a=i.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:dl}),a||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:dl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){this._activeDragInstances.update(i=>{let a=i.indexOf(e);return a>-1?(i.splice(a,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new ie(a=>this._ngZone.runOutsideAngular(()=>{let o=s=>{this._activeDragInstances().length&&a.next(s)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),Un(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}_loadResets(){if(!hl.has(this._appRef)){hl.add(this._appRef);let e=Om(aL,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{hl.delete(this._appRef),hl.size===0&&e.destroy()})}}static{this.\u0275fac=function(i){return new(i||n)(P(Ce),P(Ee))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oL={dragStartThreshold:5,pointerDirectionChangeThreshold:5},g0=(()=>{class n{constructor(e,i,a,r){this._document=e,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=r}createDrag(e,i=oL){return new h0(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new p0(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(i){return new(i||n)(P(Ee),P(Ce),P(s5),P(rL))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),y0=new V("CDK_DRAG_PARENT");var T5=new V("CdkDragHandle"),P5=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}constructor(e,i){this.element=e,this._parentDrag=i,this._stateChanges=new Q,this._disabled=!1,i?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(i){return new(i||n)(I(ve),I(y0,12))}}static{this.\u0275dir=ce({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Ae]},standalone:!0,features:[xt([{provide:T5,useExisting:n}]),Nt]})}}return n})(),R5=new V("CDK_DRAG_CONFIG"),sL="cdk-drag",F5=new V("CdkDropList"),O5=(()=>{class n{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,a,r,o,s,c,l,d,h,g){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=c,this._changeDetectorRef=d,this._selfHandle=h,this._parentDrag=g,this._destroyed=new Q,this._handles=new et([]),this.scale=1,this.started=new _,this.released=new _,this.ended=new _,this.entered=new _,this.exited=new _,this.dropped=new _,this.moved=new ie(f=>{let v=this._dragRef.moved.pipe(Z(M=>({source:this,pointerPosition:M.pointerPosition,event:M.event,delta:M.delta,distance:M.distance}))).subscribe(f);return()=>{v.unsubscribe()}}),this._injector=L(Ft),this._dragRef=l.createDrag(e,{dragStartThreshold:s&&s.dragStartThreshold!=null?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&s.pointerDirectionChangeThreshold!=null?s.pointerDirectionChangeThreshold:5,zIndex:s?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),s&&this._assignDefaults(s),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe(ut(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Zc(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,a=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),a=i.indexOf(e);a>-1&&(i.splice(a,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Hn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,a=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof a=="object"&&a?a:sl(a),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(cn(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(sL)){e.withParent(n._dragInstances.find(a=>a.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:a,constrainPosition:r,previewClass:o,boundaryElement:s,draggingDisabled:c,rootElementSelector:l,previewContainer:d}=e;this.disabled=c??!1,this.dragStartDelay=a||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),s&&(this.boundaryElement=s),l&&(this.rootElementSelector=l),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Be(e=>{let i=e.map(a=>a.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),ht(e=>Un(...e.map(i=>i._stateChanges.pipe(Gn(i))))),ut(this._destroyed)).subscribe(e=>{let i=this._dragRef,a=e.element.nativeElement;e.disabled?i.disableHandle(a):i.enableHandle(a)})}static{this.\u0275fac=function(i){return new(i||n)(I(ve),I(F5,12),I(Ee),I(Ce),I(Vt),I(R5,8),I(s0,8),I(g0),I(it),I(T5,10),I(y0,12))}}static{this.\u0275dir=ce({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,a){i&2&&Ge("cdk-drag-disabled",a.disabled)("cdk-drag-dragging",a._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Ae],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",xi]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[xt([{provide:y0,useExisting:n}]),Nt,Ne]})}}return n})(),_5=new V("CdkDropListGroup");var cL=0,V5=(()=>{class n{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,a,r,o,s,c){this.element=e,this._changeDetectorRef=a,this._scrollDispatcher=r,this._dir=o,this._group=s,this._destroyed=new Q,this.connectedTo=[],this.id=`cdk-drop-list-${cL++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new _,this.entered=new _,this.exited=new _,this.sorted=new _,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(l,d)=>this.enterPredicate(l.data,d.data),this._dropListRef.sortPredicate=(l,d,h)=>this.sortPredicate(l,d.data,h.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),s&&s._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Gn(this._dir.value),ut(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=r5(this.connectedTo).map(a=>{if(typeof a=="string"){let r=n._dropLists.find(o=>o.id===a);return r}return a});if(this._group&&this._group._items.forEach(a=>{i.indexOf(a)===-1&&i.push(a)}),!this._scrollableParentsResolved){let a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let a=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(a)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=sl(this.autoScrollStep,2),e.connectedTo(i.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Un(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:a,sortingDisabled:r,listAutoScrollDisabled:o,listOrientation:s}=e;this.disabled=a??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=o??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static{this.\u0275fac=function(i){return new(i||n)(I(ve),I(g0),I(it),I(o5),I(s0,8),I(_5,12),I(R5,8))}}static{this.\u0275dir=ce({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,a){i&2&&(st("id",a.id),Ge("cdk-drop-list-disabled",a.disabled)("cdk-drop-list-dragging",a._dropListRef.isDragging())("cdk-drop-list-receiving",a._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Ae],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Ae],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ae],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[xt([{provide:_5,useValue:void 0},{provide:F5,useExisting:n}]),Nt]})}}return n})();var N5=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Qe({providers:[g0],imports:[c5]})}}return n})();function dL(n,t){if(n&1&&(y(0,"li",7)(1,"span",8),x(2),p(),y(3,"span",9),x(4),p(),y(5,"div",10),H(6,"lucide-angular",11),p()()),n&2){let e=t.$implicit,i=k();st("aria-label","Character: "+i.getCharacterName(e)),u(2),Se(" ",i.getCharacterName(e)," "),u(2),Se(" ",i.getInitiativeDisplay(e)," "),u(2),m("name",i.uiState.gripIcon)("size",15)}}var q5=(()=>{class n{characterFacade;battleFacade;uiState={gripIcon:R4,title:"ROLL ORDER",subtitle:"adjust by drag and drop",confirmButtonText:"CONFIRM ORDER"};characters=ue(()=>this.characterFacade.characters().sort(this.compareCharacterInitiatives));orderedCharacters=Fe([]);constructor(e,i){this.characterFacade=e,this.battleFacade=i,bi(()=>{this.characterFacade.initiativeChanged(),this.updateOrder()},{allowSignalWrites:!0})}onDrop(e){let i=this.characters();ml(i,e.previousIndex,e.currentIndex),this.battleFacade.updateOrderedCharacterIds(i.map(a=>a.id)),this.updateOrderedCharacters()}getInitiativeDisplay(e){return e.hasRolledInitiative?e.initiativeScore?.toString()??"--":"--"}getCharacterName(e){return e.statblock?.name??e.name}updateOrderedCharacters(){this.orderedCharacters.set(this.characters().map(e=>({id:e.id,name:this.getCharacterName(e),initiativeScore:e.initiativeScore,hasRolledInitiative:e.hasRolledInitiative})))}updateOrder(){let e=this.characters().sort(this.compareCharacterInitiatives);this.battleFacade.updateOrderedCharacterIds(e.map(i=>i.id))}compareCharacterInitiatives(e,i){return e.initiativeScore===null&&i.initiativeScore===null?0:e.initiativeScore===null?1:i.initiativeScore===null?-1:i.initiativeScore-e.initiativeScore}static \u0275fac=function(i){return new(i||n)(I(an),I(wr))};static \u0275cmp=O({type:n,selectors:[["app-roll-order"]],standalone:!0,features:[q],decls:10,vars:3,consts:[[1,"sort-container"],[1,"row","justify-content-center"],[1,"roll-order-content"],[1,"roll-order-header"],[1,"roll-order-subtitle"],["cdkDropList","","aria-label","Draggable character initiative order list",1,"character-list",3,"cdkDropListDropped"],["class","character-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"character-item"],[1,"character-name"],[1,"initiative-score"],["cdkDragHandle","","aria-label","Drag handle",1,"drag-handle"],["aria-hidden","true",3,"name","size"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"header",3)(4,"h2"),x(5),p(),y(6,"p",4),x(7),p()(),y(8,"ul",5),b("cdkDropListDropped",function(o){return a.onDrop(o)}),T(9,dL,7,5,"li",6),p()()()()),i&2&&(u(5),nt(a.uiState.title),u(2),nt(a.uiState.subtitle),u(2),m("ngForOf",a.characters()))},dependencies:[K,At,N5,V5,O5,P5,kr,gr],styles:[".sort-container[_ngcontent-%COMP%]{margin-top:48px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center;image-rendering:pixelated}li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px;margin-bottom:8px;background-color:var(--color-footer);border:2px solid var(--color-spec2);image-rendering:pixelated;box-shadow:4px 4px #0003}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-left:8px;color:#6c757d;font-size:16px}.character-name[_ngcontent-%COMP%]{flex-grow:1;text-align:left;font-size:14px}.initiative-score[_ngcontent-%COMP%]{text-align:right;min-width:32px;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:0;box-shadow:8px 8px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:none}"]})}return n})();function hL(n,t){n&1&&H(0,"app-roll-order")}function uL(n,t){n&1&&H(0,"app-manual")}function pL(n,t){n&1&&H(0,"app-monster-stat-block")}var j5=(()=>{class n{viewManagerService;currentView;view=$e;constructor(e){this.viewManagerService=e,this.currentView=this.viewManagerService.getCurrentView()}static \u0275fac=function(i){return new(i||n)(I(nn))};static \u0275cmp=O({type:n,selectors:[["app-main-view"]],standalone:!0,features:[q],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(i,a){i&1&&(ye(0,0),T(1,hL,1,0,"app-roll-order",1)(2,uL,1,0,"app-manual",1)(3,pL,1,0,"app-monster-stat-block",1),fe()),i&2&&(m("ngSwitch",a.currentView()),u(),m("ngSwitchCase",a.view.InitiativeRoll),u(),m("ngSwitchCase",a.view.Manual),u(),m("ngSwitchCase",a.view.StatBlock))},dependencies:[i5,a5,K,na,er,q5]})}return n})();function yL(n,t){if(n&1&&H(0,"app-character",6),n&2){let e=t.$implicit;m("character",e)}}function fL(n,t){if(n&1&&H(0,"app-character",6),n&2){let e=t.$implicit;m("character",e)}}var H5=(()=>{class n{characterFacade;viewManagerService;characters={allies:ue(()=>this.characterFacade.allies()),enemies:ue(()=>this.characterFacade.enemies())};currentView=ue(()=>this.viewManagerService.getCurrentView());columnSizes=ue(()=>({side:this.currentView()()===$e.InitiativeRoll?"col-5":"col-3",center:this.currentView()()===$e.InitiativeRoll?"col-2":"col-6"}));constructor(e,i){this.characterFacade=e,this.viewManagerService=i}static \u0275fac=function(i){return new(i||n)(I(an),I(nn))};static \u0275cmp=O({type:n,selectors:[["app-battlefield"]],standalone:!0,features:[q],decls:16,vars:8,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[1,"character-container"],[3,"character",4,"ngFor","ngForOf"],["characterType","ally"],["characterType","enemy"],[3,"character"]],template:function(i,a){i&1&&(y(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),x(4,"Allies"),p(),y(5,"div",2),T(6,yL,1,1,"app-character",3),p(),H(7,"app-create-character",4),p(),y(8,"div"),H(9,"app-main-view"),p(),y(10,"div")(11,"h2"),x(12,"Enemies"),p(),y(13,"div",2),T(14,fL,1,1,"app-character",3),p(),H(15,"app-create-character",5),p()()()),i&2&&(u(2),Ji(a.columnSizes().side),u(4),m("ngForOf",a.characters.allies()),u(2),Ji(a.columnSizes().center),u(2),Ji(a.columnSizes().side),u(4),m("ngForOf",a.characters.enemies()))},dependencies:[K,At,x4,E4,j5],styles:[".character-container[_ngcontent-%COMP%]{display:grid}"],changeDetection:0})}return n})();var z5=(()=>{class n{title="5e-encounter";static \u0275fac=function(i){return new(i||n)};static \u0275cmp=O({type:n,selectors:[["app-root"]],standalone:!0,features:[q],decls:2,vars:0,template:function(i,a){i&1&&H(0,"app-battlefield")(1,"app-footer")},dependencies:[H5,N4]})}return n})();pg(z5,Dk).catch(n=>console.error(n));
