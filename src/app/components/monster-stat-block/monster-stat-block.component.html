<div *ngIf="statblock() as statblock" #statblockDiv>
  <hr class="border-top" />
  <div>
    <app-creature-heading
      [editMode]="editMode"
      [(name)]="statblock.name"
      [(size)]="statblock.size"
      [(type)]="statblock.type"
      [(alignment)]="statblock.alignment">
    </app-creature-heading>
    <!-- id for refreshing editable checkbox list on statblock change -->
    <app-top-stats
      [id]="statblock.id"
      [editMode]="editMode"
      [(armorClass)]="statblock.armor_class[0].value"
      [(armorType)]="statblock.armor_class[0].type"
      [(hitPoints)]="statblock.hit_points"
      [(hitDice)]="statblock.hit_dice"
      [(speed)]="statblock.speed">
    </app-top-stats>

    <app-abilities
      [editMode]="editMode"
      [(strength)]="statblock.strength"
      [(dexterity)]="statblock.dexterity"
      [(constitution)]="statblock.constitution"
      [(intelligence)]="statblock.intelligence"
      [(wisdom)]="statblock.wisdom"
      [(charisma)]="statblock.charisma">
    </app-abilities>

    <app-properties
      [id]="statblock.id"
      [editMode]="editMode"
      [(proficiencies)]="statblock.proficiencies"
      [(damageImmunities)]="statblock.damage_immunities"
      [(damageResistances)]="statblock.damage_resistances"
      [(damageVulnerabilities)]="statblock.damage_vulnerabilities"
      [(conditionImmunities)]="statblock.condition_immunities"
      [(senses)]="statblock.senses"
      [(languages)]="statblock.languages"
      [(challengeRating)]="statblock.challenge_rating"
      [(xp)]="statblock.xp">
    </app-properties>

    <app-special-abilities
      [editMode]="editMode"
      [(abilities)]="statblock.special_abilities">
    </app-special-abilities>
  </div>
  <div>
    <app-actions [actions]="statblock.actions"> </app-actions>
    <app-actions
      *ngIf="statblock.legendary_actions?.length"
      [actions]="statblock.legendary_actions">
    </app-actions>
  </div>
  <hr class="border-bottom" />
  <app-context-menu
    [targetElement]="statblockDiv"
    [menuItems]="contextMenuItems"></app-context-menu>
</div>
